/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => StatblockSidekick
});
module.exports = __toCommonJS(main_exports);
var import_obsidian4 = require("obsidian");

// statblocks/components.ts
var ChallengeRating = class {
  constructor(value) {
    this.value = value;
  }
  static parse(crInput) {
    const crString = typeof crInput === "number" ? crInput.toString() : crInput;
    if (!crString)
      return null;
    let value;
    if (crString.includes("/")) {
      const [numerator, denominator] = crString.split("/").map(Number);
      value = numerator / denominator;
    } else {
      value = Number(crString);
      if (isNaN(value))
        return null;
    }
    return new ChallengeRating(value);
  }
  isSuitable(maxCr = 0.5) {
    return this.value <= maxCr;
  }
};
var HitDice = class {
  constructor(numDice, dieType, bonus) {
    this.numDice = numDice;
    this.dieType = dieType;
    this.bonus = bonus;
  }
  static parse(hitDiceString) {
    const regex = /^(\d+)d(\d+)(?:\s*([+-]\s*\d+))?$/;
    const match = hitDiceString.match(regex);
    if (!match)
      return null;
    const bonus = parseInt((match[3] || "0").replace(/\s/g, ""), 10);
    return new HitDice(parseInt(match[1], 10), parseInt(match[2], 10), bonus);
  }
  increment(conModifier) {
    this.numDice += 1;
    this.bonus += conModifier;
  }
  toString() {
    return `${this.numDice}d${this.dieType}${this.bonus >= 0 ? "+" : ""}${this.bonus}`;
  }
};
var Abilities = class {
  constructor(strength, dexterity, constitution, intelligence, wisdom, charisma) {
    this.strength = strength;
    this.dexterity = dexterity;
    this.constitution = constitution;
    this.intelligence = intelligence;
    this.wisdom = wisdom;
    this.charisma = charisma;
  }
  static fromArray(abilityArray) {
    return new Abilities(...abilityArray);
  }
  /**
   * Calculate the modifier for a given ability score.
   * This method is public and static, allowing it to be used without an instance of Abilities.
   * @param score - The ability score from which to calculate the modifier.
   * @returns The calculated modifier.
   */
  static calculateModifier(score) {
    return Math.floor((score - 10) / 2);
  }
  static calculateModifiers(abilities) {
    return Object.fromEntries(
      Object.entries(abilities).map(([key, value]) => [key, Abilities.calculateModifier(value)])
    );
  }
  static calculateModDiff(oldMods, newMods) {
    const modDiffs = { ...new Abilities(0, 0, 0, 0, 0, 0) };
    for (const ability in oldMods) {
      if (ability in newMods) {
        modDiffs[ability] = newMods[ability] - oldMods[ability];
      }
    }
    return modDiffs;
  }
};
var Proficiency = class {
  static calculatePB(level) {
    return Math.ceil(1 + level / 4);
  }
};
var Attack = class {
  constructor(trait) {
    this.finesseWeapons = [
      "dagger",
      "rapier",
      "shortsword",
      "dart",
      "scimitar",
      "whip"
    ];
    this.martialWeapons = [
      "battleaxe",
      "flail",
      "glaive",
      "greataxe",
      "greatsword",
      "halberd",
      "lance",
      "longsword",
      "maul",
      "morningstar",
      "pike",
      "rapier",
      "scimitar",
      "shortsword",
      "trident",
      "war pick",
      "warhammer",
      "whip",
      "blowgun",
      "hand crossbow",
      "heavy crossbow",
      "longbow",
      "net"
    ];
    this.simpleWeapons = [
      "club",
      "dagger",
      "greatclub",
      "handaxe",
      "javelin",
      "light hammer",
      "mace",
      "quarterstaff",
      "sickle",
      "spear",
      "light crossbow",
      "dart",
      "shortbow",
      "sling"
    ];
    this.name = trait.name;
    this.desc = trait.desc;
    this.parseDescription();
    this.isFinesseWeapon = this.finesseWeapons.includes(this.name.toLowerCase());
    this.isMartialWeapon = this.martialWeapons.includes(this.name.toLowerCase());
    this.isSimpleWeapon = this.simpleWeapons.includes(this.name.toLowerCase());
  }
  parseDescription() {
    const attackTypeMatch = this.desc.match(/^(Melee\s+or\s+Ranged|Melee|Ranged)/i);
    const toHitMatch = this.desc.match(/([+-]?\d+)\s*to\s*hit/i);
    const reachMatch = this.desc.match(/reach\s*(\d+)\s*ft\./i);
    const rangeMatch = this.desc.match(/range\s*(\d+)\/(\d+)\s*ft\./i);
    const targetMatch = this.desc.match(/one\s(\d+|target)/i);
    const hitKeywordMatch = this.desc.match(/Hit:/i);
    const averageDamageMatch = this.desc.match(/\d+(?=\s*\()/);
    const numDiceMatch = this.desc.match(/\d+(?=d)/);
    const diceTypeMatch = this.desc.match(/d(\d+)/);
    const damageModMatch = this.desc.match(/[+-]\s*\d+(?=\))/);
    const damageTypeMatch = this.desc.match(/\w+(?=\s+damage)/i);
    if (attackTypeMatch) {
      this.isAttack = true;
      this.isMeleeWeapon = attackTypeMatch[1] === "Melee" || attackTypeMatch[1] === "Melee or Ranged";
      this.isRangedWeapon = attackTypeMatch[1] === "Ranged" || attackTypeMatch[1] === "Melee or Ranged";
    } else {
      this.isAttack = false;
    }
    if (toHitMatch) {
      this.toHit = parseInt(toHitMatch[1], 10);
    }
    if (reachMatch) {
      this.reach = parseInt(reachMatch[1], 10);
    }
    if (rangeMatch) {
      this.range = {
        normal: parseInt(rangeMatch[1], 10),
        long: parseInt(rangeMatch[2], 10)
      };
    }
    if (targetMatch) {
      this.target = targetMatch[1] === "target" ? 1 : parseInt(targetMatch[1], 10);
    }
    if (hitKeywordMatch) {
      if (averageDamageMatch) {
        this.averageDamage = parseInt(averageDamageMatch[0], 10);
      }
      if (numDiceMatch) {
        this.numDice = parseInt(numDiceMatch[0], 10);
      }
      if (diceTypeMatch) {
        this.diceType = parseInt(diceTypeMatch[1], 10);
      }
      if (damageModMatch) {
        const sign = damageModMatch[0].charAt(0);
        const value = parseInt(damageModMatch[0].slice(1), 10);
        this.damageMod = sign === "+" ? value : -value;
      } else {
        this.damageMod = 0;
      }
      if (damageTypeMatch) {
        this.damageType = damageTypeMatch[0];
      }
    }
  }
  constructDescription() {
    let desc = "";
    if (this.isMeleeWeapon && this.isRangedWeapon) {
      desc += "Melee or Ranged ";
    } else if (this.isMeleeWeapon) {
      desc += "Melee ";
    } else if (this.isRangedWeapon) {
      desc += "Ranged ";
    }
    if (this.isAttack && this.toHit !== void 0) {
      desc += `Weapon Attack: ${this.toHit >= 0 ? "+" : "-"}${this.toHit} to hit`;
    }
    if (this.reach && this.range) {
      desc += `, reach ${this.reach} ft. or range ${this.range.normal}/${this.range.long} ft.`;
    } else {
      if (this.reach) {
        desc += `, reach ${this.reach} ft.`;
      }
      if (this.range) {
        desc += `, range ${this.range.normal}/${this.range.long} ft.`;
      }
    }
    if (this.isAttack && this.target !== void 0) {
      const targetText = this.target === 1 ? "one target" : `${this.target} targets`;
      desc += `, ${targetText}. `;
    }
    if (this.numDice && this.diceType && this.damageType) {
      desc += "Hit: ";
      if (this.averageDamage) {
        desc += `${this.averageDamage} (`;
      }
      desc += `${this.numDice}d${this.diceType}`;
      if (this.damageMod !== void 0) {
        desc += `${this.damageMod >= 0 ? " + " : " - "}${Math.abs(this.damageMod)}`;
      }
      if (this.averageDamage) {
        desc += ")";
      }
      desc += ` ${this.damageType} damage`;
    }
    return desc.trim();
  }
  getRelevantAbility(abilities) {
    if (this.isMeleeWeapon && !this.isFinesseWeapon) {
      return "strength";
    } else if (this.isRangedWeapon) {
      return "dexterity";
    } else if (this.isFinesseWeapon) {
      const strengthModifier = Abilities.calculateModifier(abilities.strength);
      const dexterityModifier = Abilities.calculateModifier(abilities.dexterity);
      return strengthModifier >= dexterityModifier ? "strength" : "dexterity";
    }
    throw new Error("Invalid attack type");
  }
  calculateExpectedValues(abilities, proficiencyBonus) {
    const relevantAbility = this.getRelevantAbility(abilities);
    const abilityMod = Abilities.calculateModifier(abilities[relevantAbility]);
    const expectedToHit = abilityMod + proficiencyBonus;
    const expectedDamageMod = abilityMod;
    return { toHit: expectedToHit, damageMod: expectedDamageMod };
  }
};

// modals/modals.ts
var import_obsidian = require("obsidian");

// sidekicks/classes.ts
var Expert = class {
  constructor() {
    this.name = "Expert";
    this.desc = "The Expert is a master of certain tasks or knowledge, favoring cunning over brawn.\nIt might be a scout, a musician, a librarian, a clever street kid, a wily merchant, or a burglar.";
    this.featuresByLevel = {
      1: [
        {
          name: "Saving Throw Proficiency",
          desc: "The sidekick gains proficiency in one saving throw of your choice",
          options: [
            { name: "Dexterity" },
            { name: "Intelligence" },
            { name: "Charisma" }
          ],
          nbChoices: 1
        },
        {
          name: "Skill Proficiencies",
          desc: "The sidekick gains proficiency in five skills of your choice.",
          options: [
            { name: "Acrobatics" },
            { name: "Animal Handling" },
            { name: "Arcana" },
            { name: "Athletics" },
            { name: "Deception" },
            { name: "History" },
            { name: "Insight" },
            { name: "Intimidation" },
            { name: "Investigation" },
            { name: "Medicine" },
            { name: "Nature" },
            { name: "Perception" },
            { name: "Performance" },
            { name: "Persuasion" },
            { name: "Religion" },
            { name: "Sleight of Hand" },
            { name: "Stealth" },
            { name: "Survival" }
          ],
          nbChoices: 5
        },
        {
          name: "Armor Proficiency",
          desc: "light armor"
        },
        {
          name: "Weapon Proficiency",
          desc: "all simple weapons",
          conditions: ["humanoid", "simple weapon", "martial weapon"]
        },
        {
          name: "Tool Proficiencies",
          desc: "",
          conditions: ["humanoid", "simple weapon", "martial weapon"],
          options: [
            { "name": "Alchemist's supplies" },
            { "name": "Brewer's supplies" },
            { "name": "Calligrapher's supplies" },
            { "name": "Carpenter's tools" },
            { "name": "Cartographer's tools" },
            { "name": "Cobbler's tools" },
            { "name": "Cook's utensils" },
            { "name": "Disguise kit" },
            { "name": "Forgery kit" },
            { "name": "Glassblower's tools" },
            { "name": "Herbalism kit" },
            { "name": "Jeweler's tools" },
            { "name": "Leatherworker's tools" },
            { "name": "Mason's tools" },
            { "name": "Navigator's tools" },
            { "name": "Painter's supplies" },
            { "name": "Poisoner's kit" },
            { "name": "Potter's tools" },
            { "name": "Smith's tools" },
            { "name": "Tinker's tools" },
            { "name": "Thieves' tools" },
            { "name": "Weaver's tools" },
            { "name": "Woodcarver's tools" }
          ],
          nbChoices: 2
        },
        {
          name: "Helpful",
          desc: "The sidekick can take the Help action as a bonus action.",
          category: "bonus_actions"
        }
      ],
      2: [
        {
          name: "Cunning Action",
          desc: "On its turn in combat, the sidekick can take the Dash, Disengage, or Hide action as a bonus action.",
          category: "bonus_actions"
        }
      ],
      3: [
        {
          name: "Expertise",
          desc: "Choose two of the sidekick's skill proficiencies. The sidekick's proficiency bonus is doubled for any ability check it makes that uses any of the chosen proficiencies.",
          options: [
            { name: "Will be determined based on the sidekick's skill proficiencies" }
          ],
          nbChoices: 2
        }
      ],
      4: [
        {
          name: "Ability Score Improvement",
          desc: "The sidekick increases one ability score of your choice by 2, or the sidekick increases two ability scores of your choice by 1. The sidekick can't increase an ability score above 20 using this feature.",
          options: [
            { name: "Will be determined based on the sidekick's current abilities" }
          ],
          nbChoices: 2
        }
      ],
      6: [
        {
          name: "Helpful",
          desc: "The sidekick can take the Help action as a bonus action. When using this feature to aid an ally in attacking a creature, that target can be up to 30 feet away from the sidekick, and the sidekick can deal an extra 2d6 damage to it the next time the sidekick hits it with an attack roll before the end of the current turn. The extra damage is the same type of damage dealt by the attack.",
          category: "bonus_actions"
        }
      ],
      7: [
        {
          name: "Evasion",
          desc: "When the sidekick is subjected to an effect that allows it to make a Dexterity saving throw to take only half damage, it instead takes no damage if it succeeds on the saving throw, and only half damage if it failed. The sidekick doesn't benefit from this feature while incapacitated."
        }
      ],
      8: [
        {
          name: "Ability Score Improvement",
          desc: "The sidekick increases one ability score of your choice by 2, or the sidekick increases two ability scores of your choice by 1. The sidekick can't increase an ability score above 20 using this feature.",
          options: [
            { name: "Will be determined based on the sidekick's current abilities" }
          ],
          nbChoices: 2
        }
      ],
      10: [
        {
          name: "Ability Score Improvement",
          desc: "The sidekick increases one ability score of your choice by 2, or the sidekick increases two ability scores of your choice by 1. The sidekick can't increase an ability score above 20 using this feature.",
          options: [
            { name: "Will be determined based on the sidekick's current abilities" }
          ],
          nbChoices: 2
        }
      ],
      11: [
        {
          name: "Inspiring Help",
          desc: "When the sidekick takes the Help action, the creature who receives the help also gains a 1d6 bonus to the d20 roll. If that roll is an attack roll, the creature can forgo adding the bonus to it, and then if the attack hits, the creature can add the bonus to the attack's damage roll against one target."
        }
      ],
      12: [
        {
          name: "Ability Score Improvement",
          desc: "The sidekick increases one ability score of your choice by 2, or the sidekick increases two ability scores of your choice by 1. The sidekick can't increase an ability score above 20 using this feature.",
          options: [
            { name: "Will be determined based on the sidekick's current abilities" }
          ],
          nbChoices: 2
        }
      ],
      14: [
        {
          name: "Reliable Talent",
          desc: "Whenever the sidekick makes an ability check that includes its whole proficiency bonus, it can treat a d20 roll of 9 or lower as a 10."
        }
      ],
      15: [
        {
          name: "Expertise",
          desc: "Choose two of the sidekick's skill proficiencies. The sidekick's proficiency bonus is doubled for any ability check it makes that uses any of the chosen proficiencies.",
          options: [
            { name: "Will be determined based on the sidekick's skill proficiencies" }
          ],
          nbChoices: 2
        }
      ],
      16: [
        {
          name: "Ability Score Improvement",
          desc: "The sidekick increases one ability score of your choice by 2, or the sidekick increases two ability scores of your choice by 1. The sidekick can't increase an ability score above 20 using this feature.",
          options: [
            { name: "Will be determined based on the sidekick's current abilities" }
          ],
          nbChoices: 2
        }
      ],
      18: [
        {
          name: "Saving Throw Proficiency",
          desc: "Sharp Mind: The sidekick gains proficiency in one saving throw of your choice.",
          options: [
            { name: "Intelligence" },
            { name: "Wiscom" },
            { name: "Charisma" }
          ],
          nbChoices: 1
        }
      ],
      19: [
        {
          name: "Ability Score Improvement",
          desc: "The sidekick increases one ability score of your choice by 2, or the sidekick increases two ability scores of your choice by 1. The sidekick can't increase an ability score above 20 using this feature.",
          options: [
            { name: "Will be determined based on the sidekick's current abilities" }
          ],
          nbChoices: 2
        }
      ],
      20: [
        {
          name: "Inspiring Help",
          desc: "When the sidekick takes the Help action, the creature who receives the help also gains a 2d6 bonus to the d20 roll. If that roll is an attack roll, the creature can forgo adding the bonus to it, and then if the attack hits, the creature can add the bonus to the attack's damage roll against one target."
        }
      ]
    };
  }
};
var Spellcaster = class {
  constructor() {
    this.name = "Spellcaster";
    this.desc = "A sidekick who becomes a Spellcaster walks the paths of magic.\nThe sidekick might be a hedge wizard, a priest, a soothsayer, a magical performer, or a person with magic in their veins.";
    this.featuresByLevel = {
      1: [
        {
          name: "Saving Throw Proficiency",
          desc: "The sidekick gains gain proficiency in one saving throw of your choice",
          options: [
            { name: "Wisdom" },
            { name: "Intelligence" },
            { name: "Charisma" }
          ],
          nbChoices: 1
        },
        {
          name: "Skill Proficiencies",
          desc: "The sidekick gains proficiency in five skills of your choice.",
          options: [
            { name: "Arcana" },
            { name: "History" },
            { name: "Insight" },
            { name: "Investigation" },
            { name: "Medicine" },
            { name: "Performance" },
            { name: "Persuasion" },
            { name: "Religion" }
          ],
          nbChoices: 2
        },
        {
          name: "Armor Proficiency",
          desc: "light armor"
        },
        {
          name: "Weapon Proficiency",
          desc: "all simple weapons",
          conditions: ["humanoid", "simple weapon", "martial weapon"]
        },
        {
          name: "Spellcaster Role",
          desc: "The sidekick gains the ability to cast spells. Choose the Spellcaster's role: Mage, Healer, or Prodigy. This choice determines the spell list and spellcasting ability used by the sidekick.",
          options: [
            {
              name: "Mage",
              desc: "Spell List: Wizard - Spellcasting Ability: Intelligence"
            },
            {
              name: "Healer",
              desc: "Spell Lists: Cleric and Druid - Spellcasting Ability: Wisdom"
            },
            {
              name: "Prodigy",
              desc: "Spell Lists: Bard and Warlock - Spellcasting Ability: Charisma"
            }
          ],
          nbChoices: 1
        }
      ],
      4: [
        {
          name: "Ability Score Improvement",
          desc: "The sidekick increases one ability score of your choice by 2, or the sidekick increases two ability scores of your choice by 1. The sidekick can't increase an ability score above 20 using this feature.",
          options: [
            { name: "Will be determined based on the sidekick's current abilities" }
          ],
          nbChoices: 2
        }
      ],
      6: [
        {
          name: "Potent Cantrips",
          desc: "The sidekick can add its spellcasting ability modifier to the damage it deals with any cantrip."
        }
      ],
      8: [
        {
          name: "Ability Score Improvement",
          desc: "The sidekick increases one ability score of your choice by 2, or the sidekick increases two ability scores of your choice by 1. The sidekick can't increase an ability score above 20 using this feature.",
          options: [
            { name: "Will be determined based on the sidekick's current abilities" }
          ],
          nbChoices: 2
        }
      ],
      12: [
        {
          name: "Ability Score Improvement",
          desc: "The sidekick increases one ability score of your choice by 2, or the sidekick increases two ability scores of your choice by 1. The sidekick can't increase an ability score above 20 using this feature.",
          options: [
            { name: "Will be determined based on the sidekick's current abilities" }
          ],
          nbChoices: 2
        }
      ],
      14: [
        {
          name: "School of Magic for Empowered Spells",
          desc: "Choose one school of magic. Whenever the sidekick casts a spell of that school by expending a spell slot, the sidekick can add its spellcasting ability modifier to the spell's damage roll or healing roll, if any.",
          options: [
            { name: "Abjuration" },
            { name: "Conjuration" },
            { name: "Divination" },
            { name: "Enchantment" },
            { name: "Evocation" },
            { name: "Illusion" },
            { name: "Necromancy" },
            { name: "Transmutation" }
          ],
          nbChoices: 1
        }
      ],
      16: [
        {
          name: "Ability Score Improvement",
          desc: "The sidekick increases one ability score of your choice by 2, or the sidekick increases two ability scores of your choice by 1. The sidekick can't increase an ability score above 20 using this feature.",
          options: [
            { name: "Will be determined based on the sidekick's current abilities" }
          ],
          nbChoices: 2
        }
      ],
      18: [
        {
          name: "Ability Score Improvement",
          desc: "The sidekick increases one ability score of your choice by 2, or the sidekick increases two ability scores of your choice by 1. The sidekick can't increase an ability score above 20 using this feature.",
          options: [
            { name: "Will be determined based on the sidekick's current abilities" }
          ],
          nbChoices: 2
        }
      ],
      20: [
        {
          name: "Focused Casting",
          desc: "Taking damage can't break the sidekick's concentration on a spell."
        }
      ]
    };
  }
};
var Warrior = class {
  constructor() {
    this.name = "Warrior";
    this.desc = "A Warrior sidekick grows in martial prowess as it fights by your side.\nIt might be a soldier, a town guard, a battle-trained beast, or any other creature honed for combat.";
    this.featuresByLevel = {
      1: [
        {
          name: "Saving Throw Proficiency",
          desc: "The sidekick gains proficiency in one saving throw of your choice",
          options: [
            { name: "Strength" },
            { name: "Dexterity" },
            { name: "Constitution" }
          ],
          nbChoices: 1
        },
        {
          name: "Skill Proficiencies",
          desc: "The sidekick gains proficiency in two skills of your choice",
          options: [
            { name: "Acrobatics" },
            { name: "Animal Handling" },
            { name: "Athletics" },
            { name: "Intimidation" },
            { name: "Nature" },
            { name: "Perception" },
            { name: "Survival" }
          ],
          nbChoices: 2
        },
        {
          name: "Armor Proficiency",
          desc: "all armor"
        },
        {
          name: "Weapon Proficiencies",
          desc: "all simple and martial weapons",
          conditions: ["humanoid", "simple weapon", "martial weapon"]
        },
        {
          name: "Shield Proficiency",
          desc: "shields",
          conditions: ["humanoid", "simple weapon", "martial weapon"]
        },
        {
          name: "Martial Role",
          desc: "Each warrior focuses on offense or defense in their training. Choose one of the following options:",
          options: [
            {
              name: "Attacker",
              desc: "The sidekick gains a + 2 bonus to all attack rolls (already included)."
            },
            {
              name: "Defender",
              desc: "The sidekick can use its reaction to impose disadvantage on the attack roll of a creature within 5 feet of it whose target isn't the sidekick, provided the sidekick can see the attacker.",
              category: "reactions"
            }
          ],
          nbChoices: 1
        }
      ],
      2: [
        {
          name: "Second Wind",
          desc: "Once per short or long rest, the sidekick can use a bonus action on its turn to regain hit points equal to 1d10 + its level in this class.",
          category: "bonus_actions"
        }
      ],
      3: [
        {
          name: "Improved Critical",
          desc: "The sidekick's attack rolls score a critical hit on a roll of 19 or 20 on the d20."
        }
      ],
      4: [
        {
          name: "Ability Score Improvement",
          desc: "The sidekick increases one ability score of your choice by 2, or the sidekick increases two ability scores of your choice by 1. The sidekick can't increase an ability score above 20 using this feature.",
          options: [
            { name: "Will be determined based on the sidekick's current abilities" }
          ],
          nbChoices: 2
        }
      ],
      6: [
        {
          name: "Extra Attack",
          desc: "The sidekick can attack twice, instead of once, whenever it takes the Attack action on its turn. If the sidekick has the Multiattack action, it can use Extra Attack or Multiattack on a turn, not both."
        }
      ],
      7: [
        {
          name: "Battle Readiness",
          desc: "The sidekick has advantage on initiative rolls."
        }
      ],
      8: [
        {
          name: "Ability Score Improvement",
          desc: "The sidekick increases one ability score of your choice by 2, or the sidekick increases two ability scores of your choice by 1. The sidekick can't increase an ability score above 20 using this feature.",
          options: [
            { name: "Will be determined based on the sidekick's current abilities" }
          ],
          nbChoices: 2
        }
      ],
      10: [
        {
          name: "Improved Defense",
          desc: "The sidekick's Armor Class increases by 1 (already iuncluded)."
        }
      ],
      11: [
        {
          name: "Indomitable",
          desc: "Once per long rest, the sidekick can reroll a saving throw that it fails, but it must use the new roll."
        }
      ],
      12: [
        {
          name: "Ability Score Improvement",
          desc: "The sidekick increases one ability score of your choice by 2, or the sidekick increases two ability scores of your choice by 1. The sidekick can't increase an ability score above 20 using this feature.",
          options: [
            { name: "Will be determined based on the sidekick's current abilities" }
          ],
          nbChoices: 2
        }
      ],
      14: [
        {
          name: "Ability Score Improvement",
          desc: "The sidekick increases one ability score of your choice by 2, or the sidekick increases two ability scores of your choice by 1. The sidekick can't increase an ability score above 20 using this feature.",
          options: [
            { name: "Will be determined based on the sidekick's current abilities" }
          ],
          nbChoices: 2
        }
      ],
      15: [
        {
          name: "Extra Attack",
          desc: "The sidekick can attack three times, instead of once, whenever it takes the Attack action on its turn. If the sidekick has the Multiattack action, it can use Extra Attack or Multiattack on a turn, not both."
        }
      ],
      16: [
        {
          name: "Ability Score Improvement",
          desc: "The sidekick increases one ability score of your choice by 2, or the sidekick increases two ability scores of your choice by 1. The sidekick can't increase an ability score above 20 using this feature.",
          options: [
            { name: "Will be determined based on the sidekick's current abilities" }
          ],
          nbChoices: 2
        }
      ],
      18: [
        {
          name: "Indomitable",
          desc: "Twice per long rest, the sidekick can reroll a saving throw that it fails, but it must use the new roll."
        }
      ],
      19: [
        {
          name: "Ability Score Improvement",
          desc: "The sidekick increases one ability score of your choice by 2, or the sidekick increases two ability scores of your choice by 1. The sidekick can't increase an ability score above 20 using this feature.",
          options: [
            { name: "Will be determined based on the sidekick's current abilities" }
          ],
          nbChoices: 2
        }
      ],
      20: [
        {
          name: "Second Wind",
          desc: "Twice per short or long rest, the sidekick can use a bonus action on its turn to regain hit points equal to 1d10 + its level in this class.",
          category: "bonus_actions"
        }
      ]
    };
  }
};

// modals/modals.ts
var LevelSelectModal = class extends import_obsidian.FuzzySuggestModal {
  constructor(app, onSelect) {
    super(app);
    this.onSelect = onSelect;
    this.setPlaceholder("Select level");
  }
  getItems() {
    return Array.from({ length: 20 }, (_, i) => i + 1);
  }
  getItemText(item) {
    return `${item}`;
  }
  onChooseItem(item, evt) {
    this.onSelect(item);
  }
};
var ClassSelectModal = class extends import_obsidian.SuggestModal {
  constructor(app, onClassChosen) {
    super(app);
    this.onClassChosen = onClassChosen;
    this.setPlaceholder("Select class");
    this.classes = [
      new Expert(),
      new Spellcaster(),
      new Warrior()
    ];
  }
  getSuggestions(query) {
    return this.classes.filter((cls) => cls.name.toLowerCase().includes(query.toLowerCase()));
  }
  renderSuggestion(item, el) {
    el.createEl("div", { text: item.name, cls: "suggestion-name" });
    el.createEl("small", { text: item.desc, cls: "suggestion-desc" });
  }
  onChooseSuggestion(item, evt) {
    this.onClassChosen(item);
  }
};
var OptionSelectModal = class extends import_obsidian.SuggestModal {
  constructor(app, feature, resolve, choiceIndex, maxChoices) {
    super(app);
    this.feature = feature;
    this.resolve = resolve;
    this.setPlaceholder(`Select ${this.feature.name.toLowerCase()} (${choiceIndex + 1}/${maxChoices})`);
  }
  getSuggestions(query) {
    if (!this.feature.options)
      return [];
    const lowerCaseQuery = query.toLowerCase();
    return this.feature.options.filter(
      (option) => option.name.toLowerCase().includes(lowerCaseQuery)
    );
  }
  renderSuggestion(item, el) {
    el.createEl("div", { text: item.name, cls: "suggestion-name" });
    el.createEl("small", { text: item.desc, cls: "suggestion-desc" });
  }
  onChooseSuggestion(item, evt) {
    this.resolve(item);
    this.close();
  }
};
var NameInputModal = class extends import_obsidian.Modal {
  constructor(app, resolve) {
    super(app);
    this.resolve = resolve;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.createEl("h4", { text: "Enter a name for the sidekick" });
    const formContainer = contentEl.createEl("div", { cls: "form-container" });
    const nameInput = formContainer.createEl("input", {
      type: "text",
      placeholder: "Enter name...",
      cls: "form-input"
    });
    const submitButton = formContainer.createEl("button", {
      text: "Save",
      cls: "form-button"
    });
    submitButton.addEventListener("click", () => {
      this.resolve(nameInput.value);
      this.close();
    });
    nameInput.addEventListener("keydown", (event) => {
      if (event.key === "Enter") {
        this.resolve(nameInput.value);
        this.close();
      }
    });
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var FolderSelectModal = class extends import_obsidian.FuzzySuggestModal {
  constructor(app, resolve) {
    super(app);
    this.resolve = resolve;
    this.setPlaceholder("Enter or select a folder...");
    this.setInstructions([
      { command: "/", purpose: "navigate to a folder" },
      { command: "<folder-name>", purpose: "select a folder" }
    ]);
  }
  getItems() {
    return this.app.vault.getAllLoadedFiles().filter((file) => file instanceof import_obsidian.TFolder).map((folder) => folder.path);
  }
  getItemText(item) {
    return item.split("/").pop() || item;
  }
  onChooseItem(item, _evt) {
    const folder = this.app.vault.getAbstractFileByPath(item);
    if (folder instanceof import_obsidian.TFolder) {
      this.resolve(folder.path);
    } else {
      this.resolve(void 0);
    }
    this.close();
  }
  onOpen() {
    super.onOpen();
    this.inputEl.focus();
  }
  onClose() {
    this.resolve(void 0);
    super.onClose();
  }
};

// modals/show.ts
function showLevelSelectModal(app) {
  return new Promise((resolve) => {
    const modal = new LevelSelectModal(app, resolve);
    modal.open();
  });
}
function showClassSelectModal(app) {
  return new Promise((resolve) => {
    const modal = new ClassSelectModal(app, resolve);
    modal.open();
  });
}
function showOptionSelectModal(app, feature, choiceIndex, maxChoices) {
  return new Promise((resolve) => {
    const modal = new OptionSelectModal(app, feature, resolve, choiceIndex, maxChoices);
    modal.open();
  });
}
function showNameInputModal(app) {
  return new Promise((resolve) => {
    const modal = new NameInputModal(app, resolve);
    modal.open();
  });
}
function showFolderSelectModal(app) {
  return new Promise((resolve) => {
    const modal = new FolderSelectModal(app, resolve);
    modal.open();
  });
}

// statblocks/statblocks.ts
var import_obsidian2 = require("obsidian");
function getAbilityForSkill(skill) {
  const skillToAbilityMap = {
    acrobatics: "dexterity",
    animal_handling: "wisdom",
    arcana: "intelligence",
    athletics: "strength",
    deception: "charisma",
    history: "intelligence",
    insight: "wisdom",
    intimidation: "charisma",
    investigation: "intelligence",
    medicine: "wisdom",
    nature: "intelligence",
    perception: "wisdom",
    performance: "charisma",
    persuasion: "charisma",
    religion: "intelligence",
    sleight_of_hand: "dexterity",
    stealth: "dexterity",
    survival: "wisdom"
  };
  const normalizedSkill = skill.toLowerCase().replace(/ /g, "_");
  if (skillToAbilityMap[normalizedSkill]) {
    return skillToAbilityMap[normalizedSkill];
  } else {
    throw new Error(`Ability not found for skill: ${skill}`);
  }
}
var Statblock = class {
  constructor(data) {
    Object.assign(this, data);
  }
};
function extractStatblock(noteContent) {
  const regex = /```statblock\n([\s\S]+?)\n```/;
  const match = noteContent.match(regex);
  if (match && match[1]) {
    try {
      const data = (0, import_obsidian2.parseYaml)(match[1]);
      return new Statblock(data);
    } catch (e) {
      console.error("Failed to parse YAML:", e);
      return null;
    }
  } else {
    console.error("No statblock found");
    return null;
  }
}
function formatStatblockAsText(statblock) {
  const yamlContent = (0, import_obsidian2.stringifyYaml)(statblock);
  return `
\`\`\`statblock
${yamlContent}
\`\`\``;
}
async function saveStatblockToFile(plugin, content, name) {
  const { settings } = plugin;
  let folderPath;
  switch (settings.saveMode) {
    case "sameFolder":
      folderPath = this.app.workspace.getActiveFile().parent.path;
      break;
    case "defaultFolder":
      folderPath = (0, import_obsidian2.normalizePath)(settings.saveFolder);
      break;
    case "promptFolder":
      const Folder = await showFolderSelectModal(plugin.app);
      if (!Folder) {
        return;
      }
      folderPath = Folder;
      break;
    default:
      new import_obsidian2.Notice("Invalid save mode setting.");
      return;
  }
  try {
    const exists = await plugin.app.vault.adapter.exists(folderPath);
    if (!exists) {
      await plugin.app.vault.createFolder(folderPath);
    }
    let fileName = `${name}`;
    const filePath = `${folderPath}/${fileName}`;
    const fileExists = await plugin.app.vault.adapter.exists(filePath);
    if (fileExists) {
      let newFileName;
      while (true) {
        const modalResult = await showNameInputModal(plugin.app);
        if (typeof modalResult === "string") {
          newFileName = modalResult;
        } else {
          return;
        }
        if (!newFileName) {
          return;
        }
        fileName = `${newFileName}.md`;
        const newFilePath = `${folderPath}/${fileName}`;
        const newFileExists = await plugin.app.vault.adapter.exists(newFilePath);
        if (!newFileExists) {
          name = newFileName;
          break;
        } else {
          new import_obsidian2.Notice(`File ${newFileName}.md already exists. Please choose a different name.`);
        }
      }
    }
    await plugin.app.vault.create(filePath, content);
    plugin.app.workspace.openLinkText(fileName, filePath, true, { active: true });
  } catch (error) {
    console.error("Failed to save the file:", error);
    new import_obsidian2.Notice("Error saving the sidekick");
  }
}

// sidekicks/sidekicks.ts
var Sidekick = class {
  constructor(statblock, sidekickClass, level) {
    this.statblock = statblock;
    this.sidekickClass = sidekickClass;
    this.level = level;
  }
  // reimplementation with Attack class
  checkCondition(condition) {
    switch (condition) {
      case "humanoid":
        if (!this.statblock.type) {
          return false;
        } else
          return this.statblock.type.toLowerCase().includes("humanoid");
      case "simple weapon":
        if (!this.statblock.actions) {
          return false;
        }
        const simpleAttacks = this.statblock.actions.map((action) => new Attack(action)).filter((attack) => attack.isAttack && attack.isSimpleWeapon);
        return simpleAttacks.length > 0;
      case "martial weapon":
        if (!this.statblock.actions) {
          return false;
        }
        const martialAttacks = this.statblock.actions.map((action) => new Attack(action)).filter((attack) => attack.isAttack && attack.isMartialWeapon);
        return martialAttacks.length > 0;
      default:
        return false;
    }
  }
  getOptions(feature) {
    var _a;
    if (!feature.options) {
      return [];
    }
    switch (feature.name) {
      case "Saving Throw Proficiency":
        if (this.statblock && this.statblock.saves) {
          let existingSaves;
          if (Array.isArray(this.statblock.saves)) {
            existingSaves = this.statblock.saves.map((save) => Object.keys(save)[0]);
          } else {
            existingSaves = Object.keys(this.statblock.saves);
          }
          return feature.options.filter(
            (option) => !existingSaves.includes(option.name)
          );
        }
        return feature.options;
      case "Skill Proficiencies":
        if (this.statblock && this.statblock.skillsaves) {
          let existingSkills;
          if (Array.isArray(this.statblock.skillsaves)) {
            existingSkills = this.statblock.skillsaves.map((skill) => Object.keys(skill)[0]);
          } else {
            existingSkills = Object.keys(this.statblock.skillsaves);
          }
          return feature.options.filter(
            (option) => !existingSkills.includes(option.name)
          );
        }
        return feature.options;
      case "Tool Proficiencies":
        if (this.statblock && this.statblock.traits) {
          const existingProfString = (_a = this.statblock.traits.find(
            (trait) => trait.name === "Equipment Proficiencies"
          )) == null ? void 0 : _a.desc.split("with")[1].slice(0, -1);
          ;
          const existingProfList = existingProfString ? existingProfString.split(", ") : [];
          return feature.options.filter(
            (option) => !existingProfList.includes(option.name)
          );
        }
        return feature.options;
      case "Expertise":
        const existingExpertiseSkills = new Set(this.expertiseSkills || []);
        if (this.statblock.skillsaves) {
          return Object.keys(this.statblock.skillsaves).filter((skill) => !existingExpertiseSkills.has(skill)).map((skill) => ({ name: skill }));
        }
        return [];
      case "Ability Score Improvement":
        const abilities = Abilities.fromArray(this.statblock.stats);
        feature.options = [];
        for (const [key, value] of Object.entries(abilities)) {
          if (value < 20) {
            const abilityName = key.charAt(0).toUpperCase() + key.slice(1);
            const abilityMod = Abilities.calculateModifier(value);
            const modSign = abilityMod >= 0 ? "+" : "-";
            feature.options.push({
              name: abilityName,
              desc: `${value} (${modSign}${Math.abs(abilityMod)})`
            });
          }
        }
        return feature.options;
      default:
        return feature.options;
    }
  }
  // Method to apply features to the statblock
  applyFeature(feature, choice) {
    const proficiencyBonus = Proficiency.calculatePB(this.level);
    const abilities = Abilities.fromArray(this.statblock.stats);
    switch (feature.name) {
      case "Saving Throw Proficiency":
      case "Sharp Mind":
        if (choice) {
          if (!this.statblock.saves) {
            this.statblock.saves = {};
          }
          const abilityKey = choice.name.toLowerCase();
          this.statblock.saves[abilityKey] = 0;
        }
        break;
      case "Skill Proficiencies":
        if (choice) {
          if (!this.statblock.skillsaves) {
            this.statblock.skillsaves = {};
          }
          this.statblock.skillsaves[choice.name] = 0;
        }
        break;
      case "Tool Proficiencies":
      case "Armor Proficiency":
      case "Shield Proficiency":
      case "Weapon Proficiency":
        let equipment = "";
        if (choice) {
          equipment = choice.name;
        } else {
          equipment = feature.desc;
        }
        if (this.statblock && this.statblock.traits) {
          const existingEquipmentProficiencies = this.statblock.traits.find(
            (trait) => trait.name === "Equipment Proficiencies"
          );
          if (existingEquipmentProficiencies) {
            existingEquipmentProficiencies.desc = existingEquipmentProficiencies.desc.replace(".", ", ");
            existingEquipmentProficiencies.desc += `${equipment}.`;
          } else {
            this.statblock.traits.push({
              name: "Equipment Proficiencies",
              desc: `The sidekick has proficiency with ${equipment}.`
            });
          }
        }
        break;
      case "Expertise":
        if (choice) {
          if (!this.expertiseSkills) {
            this.expertiseSkills = [];
          }
          this.expertiseSkills.push(choice.name);
        }
        break;
      case "Ability Score Improvement":
        if (choice) {
          const abilityName = choice.name.toLowerCase();
          const abilities2 = new Abilities(...this.statblock.stats);
          const index = Object.keys(abilities2).indexOf(abilityName);
          this.statblock.stats[index] = abilities2[abilityName] += 1;
        }
        break;
      case "Martial Role":
        if (!choice) {
          return;
        }
        feature.name = choice.name;
        feature.desc = choice.desc || "";
        feature.category = choice.category;
        if (choice.name === "Attacker") {
          const actions = this.statblock.actions;
          if (!actions)
            return;
          this.statblock.actions = actions.map((action) => {
            const attack = new Attack(action);
            if (attack.isAttack && attack.toHit !== void 0) {
              attack.toHit += 2;
              return {
                ...action,
                desc: attack.constructDescription()
              };
            }
            return action;
          });
        }
        ;
        this.applyStandardFeature(feature);
        break;
      case "Spellcaster Role":
        if (choice) {
          if (this.statblock.traits) {
            this.statblock.traits = this.statblock.traits.filter(
              (trait) => trait.name.toLowerCase() !== "spells" && trait.name.toLowerCase() !== "spellcasting"
            );
          }
          feature.name = choice.name;
          feature.desc = "";
        }
        ;
        this.applyStandardFeature(feature);
        break;
      case "School of Magic for Empowered Spells":
        if (choice) {
          feature.name = "Empowered Spells";
          feature.desc = `Whenever the sidekick casts a spell in the ${choice.name} school by expending a spell slot, the sidekick can add its spellcasting ability modifier to the spell's damage roll or healing roll, if any.`;
          this.applyStandardFeature(feature);
        }
        break;
      case "Improved Defense":
        let ac = this.statblock.ac;
        console.log(ac);
        if (typeof ac === "string") {
          const acParts = ac.split(" ", 2);
          acParts[0] += 1;
          ac = `${acParts[0]} ${acParts[1]}`;
        }
        if (typeof ac === "number") {
          ac += 1;
        }
        console.log(ac);
        this.statblock.ac = ac;
      default:
        this.applyStandardFeature(feature);
        break;
    }
  }
  applyStandardFeature(feature) {
    const validCategories = ["traits", "actions", "bonus_actions", "legendary_actions", "mythic_actions", "reactions"];
    function isValidCategory(category2) {
      return validCategories.includes(category2);
    }
    const category = feature.category && isValidCategory(feature.category) ? feature.category : "traits";
    if (!this.statblock[category]) {
      this.statblock[category] = [];
    }
    const index = this.statblock[category].findIndex((trait) => trait.name === feature.name);
    const newTrait = {
      name: feature.name,
      desc: feature.desc
    };
    if (index !== -1) {
      this.statblock[category][index] = newTrait;
    } else {
      this.statblock[category].push(newTrait);
    }
  }
  applySpellcasting() {
    const proficiencyBonus = Proficiency.calculatePB(this.level);
    let spellList = "";
    let spellAbility = "";
    if (this.statblock.traits) {
      const role = this.statblock.traits.find((trait) => ["Healer", "Mage", "Prodigy"].includes(trait.name));
      if (!role) {
        return;
      }
      switch (role.name) {
        case "Mage":
          spellList = "Wizard";
          spellAbility = "Intelligence";
          break;
        case "Healer":
          spellList = "Cleric and Druid";
          spellAbility = "Wisdom";
          break;
        case "Prodigy":
          spellList = "Bard and Warlock";
          spellAbility = "Charisma";
          break;
      }
      const abilities = Abilities.fromArray(this.statblock.stats);
      const abilityName = spellAbility.toLowerCase();
      const spellMod = Abilities.calculateModifier(abilities[abilityName]);
      const spellDC = 8 + proficiencyBonus + spellMod;
      const spellAttack = proficiencyBonus + spellMod;
      const spellAttackSign = spellAttack >= 0 ? "+" : "-";
      const spellAttackWithSign = `${spellAttackSign}${Math.abs(spellAttack)}`;
      const spellcasterLevel = this.level;
      const spellSlots = {
        1: 0,
        2: 0,
        3: 0,
        4: 0,
        5: 0
      };
      const spellTable = [
        { level: 1, cantrips: 2, spells: 1, slots: { 1: 2 } },
        { level: 2, cantrips: 2, spells: 2, slots: { 1: 2 } },
        { level: 3, cantrips: 2, spells: 3, slots: { 1: 3 } },
        { level: 4, cantrips: 3, spells: 3, slots: { 1: 3 } },
        { level: 5, cantrips: 3, spells: 4, slots: { 1: 4, 2: 2 } },
        { level: 6, cantrips: 3, spells: 4, slots: { 1: 4, 2: 2 } },
        { level: 7, cantrips: 3, spells: 5, slots: { 1: 4, 2: 3 } },
        { level: 8, cantrips: 3, spells: 5, slots: { 1: 4, 2: 3 } },
        { level: 9, cantrips: 3, spells: 6, slots: { 1: 4, 2: 3, 3: 2 } },
        { level: 10, cantrips: 4, spells: 6, slots: { 1: 4, 2: 3, 3: 2 } },
        { level: 11, cantrips: 4, spells: 7, slots: { 1: 4, 2: 3, 3: 3 } },
        { level: 12, cantrips: 4, spells: 7, slots: { 1: 4, 2: 3, 3: 3 } },
        { level: 13, cantrips: 4, spells: 8, slots: { 1: 4, 2: 3, 3: 3, 4: 1 } },
        { level: 14, cantrips: 4, spells: 8, slots: { 1: 4, 2: 3, 3: 3, 4: 1 } },
        { level: 15, cantrips: 4, spells: 9, slots: { 1: 4, 2: 3, 3: 3, 4: 2 } },
        { level: 16, cantrips: 4, spells: 9, slots: { 1: 4, 2: 3, 3: 3, 4: 2 } },
        { level: 17, cantrips: 4, spells: 10, slots: { 1: 4, 2: 3, 3: 3, 4: 3, 5: 1 } },
        { level: 18, cantrips: 4, spells: 10, slots: { 1: 4, 2: 3, 3: 3, 4: 3, 5: 1 } },
        { level: 19, cantrips: 4, spells: 11, slots: { 1: 4, 2: 3, 3: 3, 4: 3, 5: 2 } },
        { level: 20, cantrips: 4, spells: 11, slots: { 1: 4, 2: 3, 3: 3, 4: 3, 5: 2 } }
      ];
      const levelData = spellTable.find((entry) => entry.level === spellcasterLevel);
      if (levelData) {
        const cantripsKnown = levelData.cantrips;
        const spellsKnown = levelData.spells;
        for (const [level, slots] of Object.entries(levelData.slots)) {
          spellSlots[level] = slots;
        }
        const spellcasting = `The sidekick is a level ${spellcasterLevel} spellcaster. Its spellcasting ability is ${spellAbility} (spell save DC ${spellDC}, ${spellAttackWithSign} to hit with spell attacks). The sidekick can cast the following ${cantripsKnown} cantrips and ${spellsKnown} spells from the ${spellList} spell list${spellList.includes("and") ? "s" : ""}:
- Cantrips (at will): 
` + Object.entries(spellSlots).filter(([_, value]) => value > 0).map(([level, slots]) => `- Level ${level} (${slots} slot${slots !== 1 ? "s" : ""}): 
`).join("");
        role.desc = spellcasting;
      } else {
        role.desc = "";
      }
    }
  }
  updateSkills(oldAbilities, oldProficiencyBonus) {
    var _a;
    const newAbilities = Abilities.fromArray(this.statblock.stats);
    const oldMods = Abilities.calculateModifiers(oldAbilities);
    const newMods = Abilities.calculateModifiers(newAbilities);
    const newProficiencyBonus = Proficiency.calculatePB(this.level);
    const updatedSkills = {};
    for (const skill in this.statblock.skillsaves) {
      const skillAbility = getAbilityForSkill(skill);
      const oldAbilityMod = oldMods[skillAbility];
      const newAbilityMod = newMods[skillAbility];
      const isExpertise = ((_a = this.expertiseSkills) == null ? void 0 : _a.includes(skill)) || false;
      let oldSkillBonus = this.statblock.skillsaves[skill];
      if (oldSkillBonus === 0) {
        oldSkillBonus = oldAbilityMod + oldProficiencyBonus;
      }
      const newProficiencyBonusToAdd = isExpertise ? newProficiencyBonus * 2 : newProficiencyBonus;
      const newSkillBonus = oldSkillBonus - oldAbilityMod - oldProficiencyBonus + newAbilityMod + newProficiencyBonusToAdd;
      updatedSkills[skill] = newSkillBonus;
    }
    const sortedSkills = Object.entries(updatedSkills).sort((a, b) => a[0].localeCompare(b[0])).reduce((obj, [key, value]) => {
      obj[key] = value;
      return obj;
    }, {});
    this.statblock.skillsaves = sortedSkills;
  }
  updateSaves(oldAbilities, oldProficiencyBonus) {
    const newAbilities = Abilities.fromArray(this.statblock.stats);
    const oldMods = Abilities.calculateModifiers(oldAbilities);
    const newMods = Abilities.calculateModifiers(newAbilities);
    const newProficiencyBonus = Proficiency.calculatePB(this.level);
    const updatedSaves = {};
    for (const save in this.statblock.saves) {
      const saveKey = save.toLowerCase();
      const oldAbilityMod = oldMods[saveKey];
      const newAbilityMod = newMods[saveKey];
      let oldSaveBonus = this.statblock.saves[save];
      if (oldSaveBonus === void 0 || oldSaveBonus === 0) {
        oldSaveBonus = oldAbilityMod + oldProficiencyBonus;
      }
      const newSaveBonus = oldSaveBonus - oldAbilityMod - oldProficiencyBonus + newAbilityMod + newProficiencyBonus;
      updatedSaves[saveKey] = newSaveBonus;
    }
    const sortedSaves = Object.entries(updatedSaves).sort((a, b) => a[0].localeCompare(b[0])).reduce((obj, [key, value]) => {
      obj[key] = value;
      return obj;
    }, {});
    this.statblock.saves = sortedSaves;
  }
  updateAttacks(oldAbilities, oldProficiencyBonus) {
    var _a;
    const newAbilities = Abilities.fromArray(this.statblock.stats);
    const oldMods = Abilities.calculateModifiers(oldAbilities);
    const newMods = Abilities.calculateModifiers(newAbilities);
    const newProficiencyBonus = Proficiency.calculatePB(this.level);
    const actions = (_a = this.statblock.actions) != null ? _a : [];
    const updatedActions = [];
    for (const action of actions) {
      const attack = new Attack(action);
      if (attack.isAttack) {
        const relevantAbility = attack.getRelevantAbility(newAbilities);
        const oldAbilityMod = oldMods[relevantAbility];
        const newAbilityMod = newMods[relevantAbility];
        const proficiencyBonusDiff = newProficiencyBonus - oldProficiencyBonus;
        const modifierDiff = newAbilityMod - oldAbilityMod;
        let updatedToHit = attack.toHit;
        let updatedDamageMod = attack.damageMod;
        if (attack.toHit !== void 0) {
          attack.toHit += modifierDiff;
          attack.toHit += proficiencyBonusDiff;
        }
        if (attack.damageMod !== void 0) {
          attack.damageMod += modifierDiff;
        }
        const updatedAction = {
          ...action,
          desc: attack.constructDescription()
        };
        if (this.statblock.actions) {
          this.statblock.actions[this.statblock.actions.indexOf(action)] = updatedAction;
        } else {
          this.statblock.actions = [updatedAction];
        }
      }
    }
    this.statblock.actions = updatedActions;
  }
  updateSenses() {
    const senses = this.statblock.senses;
    if (!senses)
      return;
    const passivePerceptionMatch = senses.match(/passive Perception (\d+)/i);
    if (passivePerceptionMatch) {
      const currentPassivePerception = parseInt(passivePerceptionMatch[1], 10);
      const abilities = Abilities.fromArray(this.statblock.stats);
      const wisdomMod = Abilities.calculateModifier(abilities.wisdom);
      const proficiencyBonus = Proficiency.calculatePB(this.level);
      let perception = 10;
      if (this.statblock.skillsaves && this.statblock.skillsaves.hasOwnProperty("Perception")) {
        perception += wisdomMod + proficiencyBonus;
      } else {
        perception += wisdomMod;
      }
      const newPassivePerception = perception;
      if (newPassivePerception !== currentPassivePerception) {
        this.statblock.senses = senses.replace(/passive Perception \d+/i, `passive Perception ${newPassivePerception}`);
      }
    }
  }
  /**
   * Serialize the sidekick to a string format for saving or debugging.
   */
  toString() {
    return `Sidekick: ${this.statblock.name}, Class: ${this.sidekickClass.name}, Level: ${this.level}`;
  }
};

// settings/settings.ts
var import_obsidian3 = require("obsidian");
var DEFAULT_SETTINGS = {
  saveFolder: "/sidekicks",
  saveMode: "defaultFolder"
  // Set the default save mode
};
var StatblockSidekickSettingsTab = class extends import_obsidian3.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian3.Setting(containerEl).setName("Save mode").setDesc("Choose how to save the sidekick files").addDropdown(
      (dropdown) => dropdown.addOption("sameFolder", "Same as original file").addOption("defaultFolder", "Default folder").setValue(this.plugin.settings.saveMode).onChange(async (value) => {
        this.plugin.settings.saveMode = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian3.Setting(containerEl).setName("Default folder").setDesc("Select the folder where sidekick files should be saved when 'Save mode' is set to 'Default folder'").addText((textComponent) => {
      textComponent.inputEl.placeholder = "Enter folder path...";
      textComponent.setValue(this.plugin.settings.saveFolder);
      textComponent.onChange(async (value) => {
        this.plugin.settings.saveFolder = value;
        await this.plugin.saveSettings();
      });
    });
  }
};

// main.ts
var StatblockSidekick = class extends import_obsidian4.Plugin {
  async onload() {
    await this.loadSettings();
    this.initializeSettings();
    this.addCommand({
      id: "create-sidekick",
      name: "Create sidekick",
      checkCallback: (checking) => {
        const markdownView = this.app.workspace.getActiveViewOfType(import_obsidian4.MarkdownView);
        if (markdownView) {
          if (!checking) {
            const text = markdownView.editor.getValue();
            this.createSidekick(text);
          }
          return true;
        }
        return false;
      }
    });
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  initializeSettings() {
    this.addSettingTab(new StatblockSidekickSettingsTab(this.app, this));
  }
  async createSidekick(text) {
    const statblock = extractStatblock(text);
    if (!statblock) {
      new import_obsidian4.Notice("No valid statblock found!");
      return;
    }
    const cr = ChallengeRating.parse(statblock.cr);
    if (!cr) {
      new import_obsidian4.Notice(`CR ${statblock.cr} is invalid!`);
      return;
    } else if (!cr.isSuitable()) {
      new import_obsidian4.Notice("CR must be \u2264 1/2");
      return;
    }
    const hitDice = HitDice.parse(statblock.hit_dice);
    if (!hitDice) {
      return;
    }
    const sidekickClass = await showClassSelectModal(this.app);
    if (!sidekickClass) {
      return;
    }
    const level = await showLevelSelectModal(this.app);
    if (level === void 0) {
      return;
    }
    const oldAbilities = Abilities.fromArray(statblock.stats);
    const oldMods = Abilities.calculateModifiers(oldAbilities);
    const oldProficiencyBonus = 2;
    const sidekick = new Sidekick(statblock, sidekickClass, level);
    for (let levelIndex = 0; levelIndex < level; levelIndex++) {
      const abilities2 = Abilities.fromArray(statblock.stats);
      const conMod = Abilities.calculateModifier(abilities2.constitution);
      hitDice.increment(conMod);
      const features = sidekickClass.featuresByLevel[levelIndex + 1];
      if (features) {
        let levelNotice = new import_obsidian4.Notice(`Level ${levelIndex + 1}...`, 0);
        for (const feature of features) {
          const shouldApplyFeature = !feature.conditions || feature.conditions.some((condition) => sidekick.checkCondition(condition));
          if (shouldApplyFeature) {
            if (feature.options) {
              for (let choiceIndex = 0; choiceIndex < (feature.nbChoices || 1); choiceIndex++) {
                feature.options = sidekick.getOptions(feature);
                const selectedOption = await showOptionSelectModal(this.app, feature, choiceIndex, feature.nbChoices || 1);
                sidekick.applyFeature(feature, selectedOption);
              }
            } else {
              sidekick.applyFeature(feature);
            }
          }
        }
        levelNotice.hide();
      } else {
      }
    }
    sidekick.applySpellcasting();
    const proficiencyBonus = Proficiency.calculatePB(sidekick.level);
    const proficiencyDiff = proficiencyBonus - oldProficiencyBonus;
    const abilities = Abilities.fromArray(statblock.stats);
    const mods = Abilities.calculateModifiers(abilities);
    const modDiff = Abilities.calculateModDiff(oldMods, mods);
    sidekick.updateSkills(oldAbilities, oldProficiencyBonus);
    sidekick.updateAttacks(oldAbilities, oldProficiencyBonus);
    sidekick.updateSaves(oldAbilities, oldProficiencyBonus);
    sidekick.updateSenses();
    sidekick.statblock.hit_dice = hitDice.toString();
    sidekick.statblock.cr = sidekick.level;
    const sidekickName = await showNameInputModal(this.app);
    sidekick.statblock.name = `${sidekickName} - ${sidekick.statblock.name} - ${sidekick.sidekickClass.name} Sidekick`;
    const fileName = `${sidekick.statblock.name}.md`;
    const updatedContent = formatStatblockAsText(sidekick.statblock);
    saveStatblockToFile(this, updatedContent, fileName);
  }
  onunload() {
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJzdGF0YmxvY2tzL2NvbXBvbmVudHMudHMiLCAibW9kYWxzL21vZGFscy50cyIsICJzaWRla2lja3MvY2xhc3Nlcy50cyIsICJtb2RhbHMvc2hvdy50cyIsICJzdGF0YmxvY2tzL3N0YXRibG9ja3MudHMiLCAic2lkZWtpY2tzL3NpZGVraWNrcy50cyIsICJzZXR0aW5ncy9zZXR0aW5ncy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgTm90aWNlLCBQbHVnaW4sIE1hcmtkb3duVmlldywgVEZpbGUsIEZ1enp5U3VnZ2VzdE1vZGFsIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgeyBDaGFsbGVuZ2VSYXRpbmcsIEhpdERpY2UsIEFiaWxpdGllcywgQXR0YWNrIH0gZnJvbSAnLi9zdGF0YmxvY2tzL2NvbXBvbmVudHMnO1xyXG5pbXBvcnQgeyBzaG93TGV2ZWxTZWxlY3RNb2RhbCwgc2hvd0NsYXNzU2VsZWN0TW9kYWwsIHNob3dPcHRpb25TZWxlY3RNb2RhbCwgc2hvd05hbWVJbnB1dE1vZGFsIH0gZnJvbSAnLi9tb2RhbHMvc2hvdyc7XHJcbmltcG9ydCB7IFN0YXRibG9jaywgZXh0cmFjdFN0YXRibG9jaywgZm9ybWF0U3RhdGJsb2NrQXNUZXh0LCBzYXZlU3RhdGJsb2NrVG9GaWxlIH0gZnJvbSAnLi9zdGF0YmxvY2tzL3N0YXRibG9ja3MnO1xyXG5pbXBvcnQgeyBTaWRla2ljayB9IGZyb20gJ3NpZGVraWNrcy9zaWRla2lja3MnO1xyXG5pbXBvcnQgeyBQcm9maWNpZW5jeSB9IGZyb20gJy4vc3RhdGJsb2Nrcy9jb21wb25lbnRzJztcclxuaW1wb3J0IHsgREVGQVVMVF9TRVRUSU5HUywgU3RhdGJsb2NrU2lkZWtpY2tTZXR0aW5ncywgU3RhdGJsb2NrU2lkZWtpY2tTZXR0aW5nc1RhYiB9IGZyb20gJy4vc2V0dGluZ3Mvc2V0dGluZ3MnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RhdGJsb2NrU2lkZWtpY2sgZXh0ZW5kcyBQbHVnaW4ge1xyXG4gICAgc2V0dGluZ3M6IFN0YXRibG9ja1NpZGVraWNrU2V0dGluZ3M7XHJcblxyXG4gICAgYXN5bmMgb25sb2FkKCkge1xyXG4gICAgICAgIGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsaXplU2V0dGluZ3MoKTtcclxuXHJcbiAgICAgICAgLy8gY3JlYXRlIHNpZGVraWNrIGNvbW1hbmRcclxuICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xyXG4gICAgICAgICAgICBpZDogJ2NyZWF0ZS1zaWRla2ljaycsXHJcbiAgICAgICAgICAgIG5hbWU6ICdDcmVhdGUgc2lkZWtpY2snLFxyXG4gICAgICAgICAgICBjaGVja0NhbGxiYWNrOiAoY2hlY2tpbmc6IGJvb2xlYW4pID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1hcmtkb3duVmlldyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk7XHJcbiAgICAgICAgICAgICAgICBpZiAobWFya2Rvd25WaWV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGVja2luZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gbWFya2Rvd25WaWV3LmVkaXRvci5nZXRWYWx1ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVNpZGVraWNrKHRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcclxuICAgICAgICB0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcclxuICAgICAgfVxyXG4gICAgXHJcbiAgICBhc3luYyBzYXZlU2V0dGluZ3MoKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaW5pdGlhbGl6ZVNldHRpbmdzKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgU3RhdGJsb2NrU2lkZWtpY2tTZXR0aW5nc1RhYih0aGlzLmFwcCwgdGhpcykpO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgYXN5bmMgY3JlYXRlU2lkZWtpY2sodGV4dDogc3RyaW5nKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHN0YXRibG9jayA9IGV4dHJhY3RTdGF0YmxvY2sodGV4dCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCFzdGF0YmxvY2spIHtcclxuICAgICAgICAgICAgbmV3IE5vdGljZSgnTm8gdmFsaWQgc3RhdGJsb2NrIGZvdW5kIScpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVjayBDUlxyXG4gICAgICAgIGNvbnN0IGNyID0gQ2hhbGxlbmdlUmF0aW5nLnBhcnNlKHN0YXRibG9jay5jcik7XHJcbiAgICAgICAgaWYgKCFjcikge1xyXG4gICAgICAgICAgICBuZXcgTm90aWNlKGBDUiAke3N0YXRibG9jay5jcn0gaXMgaW52YWxpZCFgKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICghY3IuaXNTdWl0YWJsZSgpKSB7XHJcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoXCJDUiBtdXN0IGJlIFx1MjI2NCAxLzJcIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGNoZWNrIGhpdCBkaWNlXHJcbiAgICAgICAgY29uc3QgaGl0RGljZSA9IEhpdERpY2UucGFyc2Uoc3RhdGJsb2NrLmhpdF9kaWNlKTtcclxuICAgICAgICBpZiAoIWhpdERpY2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIC8vIFNlbGVjdCBjbGFzc1xyXG4gICAgICAgIGNvbnN0IHNpZGVraWNrQ2xhc3MgPSBhd2FpdCBzaG93Q2xhc3NTZWxlY3RNb2RhbCh0aGlzLmFwcCk7XHJcbiAgICAgICAgaWYgKCFzaWRla2lja0NsYXNzKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gU2VsZWN0IGxldmVsXHJcbiAgICAgICAgY29uc3QgbGV2ZWwgPSBhd2FpdCBzaG93TGV2ZWxTZWxlY3RNb2RhbCh0aGlzLmFwcCk7XHJcbiAgICAgICAgaWYgKGxldmVsID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgb2xkQWJpbGl0aWVzID0gQWJpbGl0aWVzLmZyb21BcnJheShzdGF0YmxvY2suc3RhdHMpO1xyXG4gICAgICAgIGNvbnN0IG9sZE1vZHMgPSBBYmlsaXRpZXMuY2FsY3VsYXRlTW9kaWZpZXJzKG9sZEFiaWxpdGllcyk7XHJcbiAgICAgICAgY29uc3Qgb2xkUHJvZmljaWVuY3lCb251cyA9IDJcclxuXHJcbiAgICAgICAgLy8gY3JlYXRlIHNpZGVraWNrXHJcbiAgICAgICAgY29uc3Qgc2lkZWtpY2sgPSBuZXcgU2lkZWtpY2soc3RhdGJsb2NrLCBzaWRla2lja0NsYXNzLCBsZXZlbCk7IFxyXG4gICAgICAgIC8vIGxldCBhcHBsaWVkTm90aWNlID0gbmV3IE5vdGljZShgYCwgMCk7XHJcblxyXG4gICAgICAgIC8vIGxldmVsIHVwIGluY3JlbWVudGFsbHlcclxuICAgICAgICBmb3IgKGxldCBsZXZlbEluZGV4ID0gMDsgbGV2ZWxJbmRleCA8IGxldmVsOyBsZXZlbEluZGV4KyspIHtcclxuICAgICAgICAgICAgLy8gYXBwbGllZE5vdGljZS5oaWRlKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGFiaWxpdGllcyA9IEFiaWxpdGllcy5mcm9tQXJyYXkoc3RhdGJsb2NrLnN0YXRzKTtcclxuICAgICAgICAgICAgY29uc3QgY29uTW9kID0gQWJpbGl0aWVzLmNhbGN1bGF0ZU1vZGlmaWVyKGFiaWxpdGllcy5jb25zdGl0dXRpb24pO1xyXG4gICAgICAgICAgICBoaXREaWNlLmluY3JlbWVudChjb25Nb2QpO1xyXG4gICAgICAgICAgICBjb25zdCBmZWF0dXJlcyA9IHNpZGVraWNrQ2xhc3MuZmVhdHVyZXNCeUxldmVsW2xldmVsSW5kZXggKyAxXTtcclxuICAgICAgICAgICAgaWYgKGZlYXR1cmVzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbGV2ZWxOb3RpY2UgPSBuZXcgTm90aWNlKGBMZXZlbCAke2xldmVsSW5kZXggKyAxfS4uLmAsIDApO1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBmZWF0dXJlIG9mIGZlYXR1cmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2hvdWxkQXBwbHlGZWF0dXJlID0gIWZlYXR1cmUuY29uZGl0aW9ucyB8fCBmZWF0dXJlLmNvbmRpdGlvbnMuc29tZShjb25kaXRpb24gPT4gc2lkZWtpY2suY2hlY2tDb25kaXRpb24oY29uZGl0aW9uKSk7ICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2hvdWxkQXBwbHlGZWF0dXJlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlLm9wdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGNob2ljZUluZGV4ID0gMDsgY2hvaWNlSW5kZXggPCAoZmVhdHVyZS5uYkNob2ljZXMgfHwgMSk7IGNob2ljZUluZGV4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZWF0dXJlLm9wdGlvbnMgPSBzaWRla2ljay5nZXRPcHRpb25zKGZlYXR1cmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uID0gYXdhaXQgc2hvd09wdGlvblNlbGVjdE1vZGFsKHRoaXMuYXBwLCBmZWF0dXJlLCBjaG9pY2VJbmRleCwgZmVhdHVyZS5uYkNob2ljZXMgfHwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lkZWtpY2suYXBwbHlGZWF0dXJlKGZlYXR1cmUsIHNlbGVjdGVkT3B0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZGVraWNrLmFwcGx5RmVhdHVyZShmZWF0dXJlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxldCBhcHBsaWVkTm90aWNlID0gbmV3IE5vdGljZShgQXBwbGllZCAke2ZlYXR1cmUubmFtZX1gKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV2ZWxOb3RpY2UuaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBlbHNlIHsgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gdXBkYXRlIHRoZSBzdGF0YmxvY2tcclxuICAgICAgICBzaWRla2ljay5hcHBseVNwZWxsY2FzdGluZygpXHJcblxyXG4gICAgICAgIGNvbnN0IHByb2ZpY2llbmN5Qm9udXMgPSBQcm9maWNpZW5jeS5jYWxjdWxhdGVQQihzaWRla2ljay5sZXZlbCk7XHJcbiAgICAgICAgY29uc3QgcHJvZmljaWVuY3lEaWZmID0gcHJvZmljaWVuY3lCb251cyAtIG9sZFByb2ZpY2llbmN5Qm9udXM7XHJcblxyXG4gICAgICAgIGNvbnN0IGFiaWxpdGllcyA9IEFiaWxpdGllcy5mcm9tQXJyYXkoc3RhdGJsb2NrLnN0YXRzKTtcclxuICAgICAgICBjb25zdCBtb2RzID0gQWJpbGl0aWVzLmNhbGN1bGF0ZU1vZGlmaWVycyhhYmlsaXRpZXMpXHJcbiAgICAgICAgY29uc3QgbW9kRGlmZiA9IEFiaWxpdGllcy5jYWxjdWxhdGVNb2REaWZmKG9sZE1vZHMsIG1vZHMpXHJcbiAgICAgICAgXHJcbiAgICAgICAgc2lkZWtpY2sudXBkYXRlU2tpbGxzKG9sZEFiaWxpdGllcywgb2xkUHJvZmljaWVuY3lCb251cylcclxuICAgICAgICBzaWRla2ljay51cGRhdGVBdHRhY2tzKG9sZEFiaWxpdGllcywgb2xkUHJvZmljaWVuY3lCb251cylcclxuICAgICAgICBzaWRla2ljay51cGRhdGVTYXZlcyhvbGRBYmlsaXRpZXMsIG9sZFByb2ZpY2llbmN5Qm9udXMpXHJcbiAgICAgICAgc2lkZWtpY2sudXBkYXRlU2Vuc2VzKClcclxuICAgICAgIFxyXG4gICAgICAgIC8vIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgLy8gY29uc3QgZGF0ZVN0cmluZyA9IHdpbmRvdy5tb21lbnQobm93KS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcclxuICAgICAgICAvLyBjb25zdCB0aW1lU3RyaW5nID0gd2luZG93Lm1vbWVudChub3cpLmZvcm1hdCgnSEgtbW0tc3MnKTtcclxuICAgICAgICAvLyBjb25zdCBmaWxlTmFtZSA9IGAke2RhdGVTdHJpbmd9XyR7dGltZVN0cmluZ31fJHtzdGF0YmxvY2submFtZX0ubWRgO1xyXG5cclxuICAgICAgICBzaWRla2ljay5zdGF0YmxvY2suaGl0X2RpY2UgPSBoaXREaWNlLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgc2lkZWtpY2suc3RhdGJsb2NrLmNyID0gc2lkZWtpY2subGV2ZWxcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBzaWRla2lja05hbWUgPSBhd2FpdCBzaG93TmFtZUlucHV0TW9kYWwodGhpcy5hcHApO1xyXG4gICAgICAgIHNpZGVraWNrLnN0YXRibG9jay5uYW1lID0gYCR7c2lkZWtpY2tOYW1lfSAtICR7c2lkZWtpY2suc3RhdGJsb2NrLm5hbWV9IC0gJHtzaWRla2ljay5zaWRla2lja0NsYXNzLm5hbWV9IFNpZGVraWNrYDtcclxuICAgICAgICBjb25zdCBmaWxlTmFtZSA9IGAke3NpZGVraWNrLnN0YXRibG9jay5uYW1lfS5tZGA7XHJcblxyXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRDb250ZW50ID0gZm9ybWF0U3RhdGJsb2NrQXNUZXh0KHNpZGVraWNrLnN0YXRibG9jayk7XHJcbiAgICAgICAgc2F2ZVN0YXRibG9ja1RvRmlsZSh0aGlzLCB1cGRhdGVkQ29udGVudCwgZmlsZU5hbWUpO1xyXG4gICAgfVxyXG4gICAgb251bmxvYWQoKSB7fVxyXG59IiwgImltcG9ydCB7IFRyYWl0IH0gZnJvbSAnLi9zdGF0YmxvY2tzJztcclxuaW1wb3J0IHsgQWJpbGl0eSB9IGZyb20gJy4vc3RhdGJsb2Nrcyc7XHJcblxyXG4vKipcclxuICogQ2xhc3MgdG8gaGFuZGxlIHBhcnNpbmcgYW5kIHN1aXRhYmlsaXR5IGNoZWNrcyBmb3IgY2hhbGxlbmdlIHJhdGluZ3MuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2hhbGxlbmdlUmF0aW5nIHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyB2YWx1ZTogbnVtYmVyKSB7fVxyXG5cclxuICAgIHN0YXRpYyBwYXJzZShjcklucHV0OiBzdHJpbmcgfCBudW1iZXIpOiBDaGFsbGVuZ2VSYXRpbmcgfCBudWxsIHtcclxuICAgICAgICAvLyBDb252ZXJ0IG51bWJlciB0byBzdHJpbmcgaWYgbmVjZXNzYXJ5XHJcbiAgICAgICAgY29uc3QgY3JTdHJpbmcgPSB0eXBlb2YgY3JJbnB1dCA9PT0gJ251bWJlcicgPyBjcklucHV0LnRvU3RyaW5nKCkgOiBjcklucHV0O1xyXG4gICAgXHJcbiAgICAgICAgaWYgKCFjclN0cmluZykgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgbGV0IHZhbHVlO1xyXG4gICAgICAgIGlmIChjclN0cmluZy5pbmNsdWRlcygnLycpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IFtudW1lcmF0b3IsIGRlbm9taW5hdG9yXSA9IGNyU3RyaW5nLnNwbGl0KCcvJykubWFwKE51bWJlcik7XHJcbiAgICAgICAgICAgIHZhbHVlID0gbnVtZXJhdG9yIC8gZGVub21pbmF0b3I7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmFsdWUgPSBOdW1iZXIoY3JTdHJpbmcpO1xyXG4gICAgICAgICAgICBpZiAoaXNOYU4odmFsdWUpKSByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDaGFsbGVuZ2VSYXRpbmcodmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlzU3VpdGFibGUobWF4Q3I6IG51bWJlciA9IDAuNSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlIDw9IG1heENyO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogQ2xhc3MgdG8gbWFuYWdlIGhpdCBkaWNlLCBpbmNsdWRpbmcgcGFyc2luZywgdXBkYXRpbmcsIGFuZCBmb3JtYXR0aW5nLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEhpdERpY2Uge1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIG51bURpY2U6IG51bWJlciwgcHVibGljIGRpZVR5cGU6IG51bWJlciwgcHVibGljIGJvbnVzOiBudW1iZXIpIHt9XHJcblxyXG4gICAgc3RhdGljIHBhcnNlKGhpdERpY2VTdHJpbmc6IHN0cmluZyk6IEhpdERpY2UgfCBudWxsIHtcclxuICAgICAgICBjb25zdCByZWdleCA9IC9eKFxcZCspZChcXGQrKSg/OlxccyooWystXVxccypcXGQrKSk/JC87XHJcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBoaXREaWNlU3RyaW5nLm1hdGNoKHJlZ2V4KTtcclxuICAgICAgICBpZiAoIW1hdGNoKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgLy8gUGFyc2luZyB0aGUgYm9udXMgd2hpbGUgcmVtb3ZpbmcgYW55IGV4dHJhIHNwYWNlcyBhcm91bmQgdGhlIHNpZ24gaWYgcHJlc2VudFxyXG4gICAgICAgIGNvbnN0IGJvbnVzID0gcGFyc2VJbnQoKG1hdGNoWzNdIHx8ICcwJykucmVwbGFjZSgvXFxzL2csICcnKSwgMTApO1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IEhpdERpY2UocGFyc2VJbnQobWF0Y2hbMV0sIDEwKSwgcGFyc2VJbnQobWF0Y2hbMl0sIDEwKSwgYm9udXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGluY3JlbWVudChjb25Nb2RpZmllcjogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5udW1EaWNlICs9IDE7ICAvLyBBZGQgb25lIG1vcmUgZGllXHJcbiAgICAgICAgdGhpcy5ib251cyArPSBjb25Nb2RpZmllcjsgIC8vIEFkZCB0aGUgY3VycmVudCBDb25zdGl0dXRpb24gbW9kaWZpZXIgdG8gdGhlIGJvbnVzXHJcbiAgICB9XHJcblxyXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gYCR7dGhpcy5udW1EaWNlfWQke3RoaXMuZGllVHlwZX0ke3RoaXMuYm9udXMgPj0gMCA/ICcrJyA6ICcnfSR7dGhpcy5ib251c31gO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogQ2xhc3MgdG8gaGFuZGxlIGluZGl2aWR1YWwgYWJpbGl0eSBzY29yZXMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQWJpbGl0aWVzIHtcclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHB1YmxpYyBzdHJlbmd0aDogbnVtYmVyLFxyXG4gICAgICAgIHB1YmxpYyBkZXh0ZXJpdHk6IG51bWJlcixcclxuICAgICAgICBwdWJsaWMgY29uc3RpdHV0aW9uOiBudW1iZXIsXHJcbiAgICAgICAgcHVibGljIGludGVsbGlnZW5jZTogbnVtYmVyLFxyXG4gICAgICAgIHB1YmxpYyB3aXNkb206IG51bWJlcixcclxuICAgICAgICBwdWJsaWMgY2hhcmlzbWE6IG51bWJlclxyXG4gICAgKSB7fVxyXG5cclxuICAgIHN0YXRpYyBmcm9tQXJyYXkoYWJpbGl0eUFycmF5OiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl0pOiBBYmlsaXRpZXMge1xyXG4gICAgICAgIHJldHVybiBuZXcgQWJpbGl0aWVzKC4uLmFiaWxpdHlBcnJheSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDYWxjdWxhdGUgdGhlIG1vZGlmaWVyIGZvciBhIGdpdmVuIGFiaWxpdHkgc2NvcmUuXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBwdWJsaWMgYW5kIHN0YXRpYywgYWxsb3dpbmcgaXQgdG8gYmUgdXNlZCB3aXRob3V0IGFuIGluc3RhbmNlIG9mIEFiaWxpdGllcy5cclxuICAgICAqIEBwYXJhbSBzY29yZSAtIFRoZSBhYmlsaXR5IHNjb3JlIGZyb20gd2hpY2ggdG8gY2FsY3VsYXRlIHRoZSBtb2RpZmllci5cclxuICAgICAqIEByZXR1cm5zIFRoZSBjYWxjdWxhdGVkIG1vZGlmaWVyLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIGNhbGN1bGF0ZU1vZGlmaWVyKHNjb3JlOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKChzY29yZSAtIDEwKSAvIDIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY2FsY3VsYXRlTW9kaWZpZXJzKGFiaWxpdGllczogQWJpbGl0aWVzKTogeyBba2V5IGluIEFiaWxpdHldOiBudW1iZXIgfSB7XHJcbiAgICAgIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoXHJcbiAgICAgICAgICBPYmplY3QuZW50cmllcyhhYmlsaXRpZXMpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiBba2V5LCBBYmlsaXRpZXMuY2FsY3VsYXRlTW9kaWZpZXIodmFsdWUpXSlcclxuICAgICAgKSBhcyB7IFtrZXkgaW4gQWJpbGl0eV06IG51bWJlciB9O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY2FsY3VsYXRlTW9kRGlmZihvbGRNb2RzOiB7IFtrZXkgaW4gQWJpbGl0eV06IG51bWJlciB9LCBuZXdNb2RzOiB7IFtrZXkgaW4gQWJpbGl0eV06IG51bWJlciB9KTogQWJpbGl0aWVzIHtcclxuICAgICAgY29uc3QgbW9kRGlmZnMgPSB7IC4uLm5ldyBBYmlsaXRpZXMoMCwgMCwgMCwgMCwgMCwgMCl9O1xyXG4gIFxyXG4gICAgICBmb3IgKGNvbnN0IGFiaWxpdHkgaW4gb2xkTW9kcykge1xyXG4gICAgICAgICAgaWYgKGFiaWxpdHkgaW4gbmV3TW9kcykge1xyXG4gICAgICAgICAgICAgIG1vZERpZmZzW2FiaWxpdHkgYXMgQWJpbGl0eV0gPSBuZXdNb2RzW2FiaWxpdHkgYXMgQWJpbGl0eV0gLSBvbGRNb2RzW2FiaWxpdHkgYXMgQWJpbGl0eV07XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgcmV0dXJuIG1vZERpZmZzO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIHByb2ZpY2llbmN5IGJvbnVzIGJhc2VkIG9uIHRoZSBzaWRla2ljaydzIGxldmVsLlxyXG4gKiBUaGlzIHR5cGljYWxseSBmb2xsb3dzIHRoZSBzdGFuZGFyZCBEJkQgNWUgcnVsZTogcHJvZmljaWVuY3kgYm9udXMgc3RhcnRzIGF0ICsyIGFuZCBpbmNyZWFzZXNcclxuICogZXZlcnkgNCBsZXZlbHMgKDV0aCwgOXRoLCAxM3RoLCAxN3RoKS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBQcm9maWNpZW5jeSB7XHJcbiAgICBzdGF0aWMgY2FsY3VsYXRlUEIobGV2ZWw6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguY2VpbCgxICsgbGV2ZWwgLyA0KTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEF0dGFjayB7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIGRlc2M6IHN0cmluZztcclxuICBpc0F0dGFjazogYm9vbGVhbjtcclxuICBpc01lbGVlV2VhcG9uPzogYm9vbGVhbjtcclxuICBpc1JhbmdlZFdlYXBvbj86IGJvb2xlYW47XHJcbiAgdG9IaXQ/OiBudW1iZXI7XHJcbiAgcmVhY2g/OiBudW1iZXI7XHJcbiAgcmFuZ2U/OiB7IG5vcm1hbDogbnVtYmVyLCBsb25nOiBudW1iZXIgfTtcclxuICBudW1EaWNlPzogbnVtYmVyO1xyXG4gIGRpY2VUeXBlPzogbnVtYmVyO1xyXG4gIGRhbWFnZU1vZD86IG51bWJlcjtcclxuICBhdmVyYWdlRGFtYWdlPzogbnVtYmVyO1xyXG4gIGRhbWFnZVR5cGU/OiBzdHJpbmc7XHJcbiAgaXNGaW5lc3NlV2VhcG9uPzogYm9vbGVhbjtcclxuICBpc01hcnRpYWxXZWFwb24/OiBib29sZWFuO1xyXG4gIGlzU2ltcGxlV2VhcG9uPzogYm9vbGVhbjtcclxuICB0YXJnZXQ/OiBudW1iZXI7XHJcblxyXG4gIHByaXZhdGUgZmluZXNzZVdlYXBvbnMgPSBbXHJcbiAgICAnZGFnZ2VyJywgJ3JhcGllcicsICdzaG9ydHN3b3JkJywgJ2RhcnQnLCAnc2NpbWl0YXInLCAnd2hpcCdcclxuICBdO1xyXG5cclxuICBwcml2YXRlIG1hcnRpYWxXZWFwb25zID0gW1xyXG4gICAgJ2JhdHRsZWF4ZScsICdmbGFpbCcsICdnbGFpdmUnLCAnZ3JlYXRheGUnLCAnZ3JlYXRzd29yZCcsICdoYWxiZXJkJywgJ2xhbmNlJyxcclxuICAgICdsb25nc3dvcmQnLCAnbWF1bCcsICdtb3JuaW5nc3RhcicsICdwaWtlJywgJ3JhcGllcicsICdzY2ltaXRhcicsICdzaG9ydHN3b3JkJyxcclxuICAgICd0cmlkZW50JywgJ3dhciBwaWNrJywgJ3dhcmhhbW1lcicsICd3aGlwJywgJ2Jsb3dndW4nLCAnaGFuZCBjcm9zc2JvdycsXHJcbiAgICAnaGVhdnkgY3Jvc3Nib3cnLCAnbG9uZ2JvdycsICduZXQnXHJcbiAgXTtcclxuXHJcbiAgcHJpdmF0ZSBzaW1wbGVXZWFwb25zID0gW1xyXG4gICAgJ2NsdWInLCAnZGFnZ2VyJywgJ2dyZWF0Y2x1YicsICdoYW5kYXhlJywgJ2phdmVsaW4nLCAnbGlnaHQgaGFtbWVyJywgJ21hY2UnLFxyXG4gICAgJ3F1YXJ0ZXJzdGFmZicsICdzaWNrbGUnLCAnc3BlYXInLCAnbGlnaHQgY3Jvc3Nib3cnLCAnZGFydCcsICdzaG9ydGJvdycsICdzbGluZydcclxuICBdO1xyXG5cclxuICBjb25zdHJ1Y3Rvcih0cmFpdDogVHJhaXQpIHtcclxuICAgIHRoaXMubmFtZSA9IHRyYWl0Lm5hbWU7XHJcbiAgICB0aGlzLmRlc2MgPSB0cmFpdC5kZXNjO1xyXG5cclxuICAgIC8vIFBhcnNlIGRlc2NyaXB0aW9uIHRvIGV4dHJhY3QgYXR0YWNrIHByb3BlcnRpZXNcclxuICAgIHRoaXMucGFyc2VEZXNjcmlwdGlvbigpO1xyXG5cclxuICAgIC8vIERldGVybWluZSB3ZWFwb24gdHlwZVxyXG4gICAgdGhpcy5pc0ZpbmVzc2VXZWFwb24gPSB0aGlzLmZpbmVzc2VXZWFwb25zLmluY2x1ZGVzKHRoaXMubmFtZS50b0xvd2VyQ2FzZSgpKTtcclxuICAgIHRoaXMuaXNNYXJ0aWFsV2VhcG9uID0gdGhpcy5tYXJ0aWFsV2VhcG9ucy5pbmNsdWRlcyh0aGlzLm5hbWUudG9Mb3dlckNhc2UoKSk7XHJcbiAgICB0aGlzLmlzU2ltcGxlV2VhcG9uID0gdGhpcy5zaW1wbGVXZWFwb25zLmluY2x1ZGVzKHRoaXMubmFtZS50b0xvd2VyQ2FzZSgpKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcGFyc2VEZXNjcmlwdGlvbigpIHtcclxuICAgIGNvbnN0IGF0dGFja1R5cGVNYXRjaCA9IHRoaXMuZGVzYy5tYXRjaCgvXihNZWxlZVxccytvclxccytSYW5nZWR8TWVsZWV8UmFuZ2VkKS9pKTtcclxuXHJcbiAgICBjb25zdCB0b0hpdE1hdGNoID0gdGhpcy5kZXNjLm1hdGNoKC8oWystXT9cXGQrKVxccyp0b1xccypoaXQvaSk7XHJcbiAgICBjb25zdCByZWFjaE1hdGNoID0gdGhpcy5kZXNjLm1hdGNoKC9yZWFjaFxccyooXFxkKylcXHMqZnRcXC4vaSk7XHJcbiAgICBjb25zdCByYW5nZU1hdGNoID0gdGhpcy5kZXNjLm1hdGNoKC9yYW5nZVxccyooXFxkKylcXC8oXFxkKylcXHMqZnRcXC4vaSk7XHJcbiAgICBjb25zdCB0YXJnZXRNYXRjaCA9IHRoaXMuZGVzYy5tYXRjaCgvb25lXFxzKFxcZCt8dGFyZ2V0KS9pKTtcclxuXHJcbiAgICAvLyBTZXBhcmF0ZSBtYXRjaCB2YXJpYWJsZXMgZm9yIGVhY2ggZGFtYWdlIGl0ZW1cclxuICAgIGNvbnN0IGhpdEtleXdvcmRNYXRjaCA9IHRoaXMuZGVzYy5tYXRjaCgvSGl0Oi9pKTtcclxuICAgIGNvbnN0IGF2ZXJhZ2VEYW1hZ2VNYXRjaCA9IHRoaXMuZGVzYy5tYXRjaCgvXFxkKyg/PVxccypcXCgpLyk7XHJcbiAgICBjb25zdCBudW1EaWNlTWF0Y2ggPSB0aGlzLmRlc2MubWF0Y2goL1xcZCsoPz1kKS8pO1xyXG4gICAgY29uc3QgZGljZVR5cGVNYXRjaCA9IHRoaXMuZGVzYy5tYXRjaCgvZChcXGQrKS8pO1xyXG4gICAgY29uc3QgZGFtYWdlTW9kTWF0Y2ggPSB0aGlzLmRlc2MubWF0Y2goL1srLV1cXHMqXFxkKyg/PVxcKSkvKTtcclxuICAgIGNvbnN0IGRhbWFnZVR5cGVNYXRjaCA9IHRoaXMuZGVzYy5tYXRjaCgvXFx3Kyg/PVxccytkYW1hZ2UpL2kpO1xyXG5cclxuICAgIGlmIChhdHRhY2tUeXBlTWF0Y2gpIHtcclxuICAgICAgdGhpcy5pc0F0dGFjayA9IHRydWU7XHJcbiAgICAgIHRoaXMuaXNNZWxlZVdlYXBvbiA9IGF0dGFja1R5cGVNYXRjaFsxXSA9PT0gJ01lbGVlJyB8fCBhdHRhY2tUeXBlTWF0Y2hbMV0gPT09ICdNZWxlZSBvciBSYW5nZWQnO1xyXG4gICAgICB0aGlzLmlzUmFuZ2VkV2VhcG9uID0gYXR0YWNrVHlwZU1hdGNoWzFdID09PSAnUmFuZ2VkJyB8fCBhdHRhY2tUeXBlTWF0Y2hbMV0gPT09ICdNZWxlZSBvciBSYW5nZWQnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5pc0F0dGFjayA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0b0hpdE1hdGNoKSB7XHJcbiAgICAgIHRoaXMudG9IaXQgPSBwYXJzZUludCh0b0hpdE1hdGNoWzFdLCAxMCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHJlYWNoTWF0Y2gpIHtcclxuICAgICAgdGhpcy5yZWFjaCA9IHBhcnNlSW50KHJlYWNoTWF0Y2hbMV0sIDEwKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocmFuZ2VNYXRjaCkge1xyXG4gICAgICB0aGlzLnJhbmdlID0ge1xyXG4gICAgICAgIG5vcm1hbDogcGFyc2VJbnQocmFuZ2VNYXRjaFsxXSwgMTApLFxyXG4gICAgICAgIGxvbmc6IHBhcnNlSW50KHJhbmdlTWF0Y2hbMl0sIDEwKVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0YXJnZXRNYXRjaCkge1xyXG4gICAgICB0aGlzLnRhcmdldCA9IHRhcmdldE1hdGNoWzFdID09PSAndGFyZ2V0JyA/IDEgOiBwYXJzZUludCh0YXJnZXRNYXRjaFsxXSwgMTApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChoaXRLZXl3b3JkTWF0Y2gpIHtcclxuICAgICAgaWYgKGF2ZXJhZ2VEYW1hZ2VNYXRjaCkge1xyXG4gICAgICAgIHRoaXMuYXZlcmFnZURhbWFnZSA9IHBhcnNlSW50KGF2ZXJhZ2VEYW1hZ2VNYXRjaFswXSwgMTApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAobnVtRGljZU1hdGNoKSB7XHJcbiAgICAgICAgdGhpcy5udW1EaWNlID0gcGFyc2VJbnQobnVtRGljZU1hdGNoWzBdLCAxMCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChkaWNlVHlwZU1hdGNoKSB7XHJcbiAgICAgICAgdGhpcy5kaWNlVHlwZSA9IHBhcnNlSW50KGRpY2VUeXBlTWF0Y2hbMV0sIDEwKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGRhbWFnZU1vZE1hdGNoKSB7XHJcbiAgICAgICAgY29uc3Qgc2lnbiA9IGRhbWFnZU1vZE1hdGNoWzBdLmNoYXJBdCgwKTtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IHBhcnNlSW50KGRhbWFnZU1vZE1hdGNoWzBdLnNsaWNlKDEpLCAxMCk7XHJcbiAgICAgICAgdGhpcy5kYW1hZ2VNb2QgPSBzaWduID09PSAnKycgPyB2YWx1ZSA6IC12YWx1ZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmRhbWFnZU1vZCA9IDA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChkYW1hZ2VUeXBlTWF0Y2gpIHtcclxuICAgICAgICB0aGlzLmRhbWFnZVR5cGUgPSBkYW1hZ2VUeXBlTWF0Y2hbMF07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbnN0cnVjdERlc2NyaXB0aW9uKCk6IHN0cmluZyB7XHJcbiAgICBsZXQgZGVzYyA9ICcnO1xyXG5cclxuICAgIGlmICh0aGlzLmlzTWVsZWVXZWFwb24gJiYgdGhpcy5pc1JhbmdlZFdlYXBvbikge1xyXG4gICAgICBkZXNjICs9ICdNZWxlZSBvciBSYW5nZWQgJztcclxuICAgIH0gZWxzZSBpZiAodGhpcy5pc01lbGVlV2VhcG9uKSB7XHJcbiAgICAgIGRlc2MgKz0gJ01lbGVlICc7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuaXNSYW5nZWRXZWFwb24pIHtcclxuICAgICAgZGVzYyArPSAnUmFuZ2VkICc7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuaXNBdHRhY2sgJiYgdGhpcy50b0hpdCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIGRlc2MgKz0gYFdlYXBvbiBBdHRhY2s6ICR7dGhpcy50b0hpdCA+PSAwID8gJysnIDogJy0nfSR7dGhpcy50b0hpdH0gdG8gaGl0YDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5yZWFjaCAmJiB0aGlzLnJhbmdlKSB7XHJcbiAgICAgIGRlc2MgKz0gYCwgcmVhY2ggJHt0aGlzLnJlYWNofSBmdC4gb3IgcmFuZ2UgJHt0aGlzLnJhbmdlLm5vcm1hbH0vJHt0aGlzLnJhbmdlLmxvbmd9IGZ0LmA7XHJcblxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLnJlYWNoKSB7XHJcbiAgICAgICAgZGVzYyArPSBgLCByZWFjaCAke3RoaXMucmVhY2h9IGZ0LmA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0aGlzLnJhbmdlKSB7XHJcbiAgICAgICAgZGVzYyArPSBgLCByYW5nZSAke3RoaXMucmFuZ2Uubm9ybWFsfS8ke3RoaXMucmFuZ2UubG9uZ30gZnQuYDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmlzQXR0YWNrICYmIHRoaXMudGFyZ2V0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgY29uc3QgdGFyZ2V0VGV4dCA9IHRoaXMudGFyZ2V0ID09PSAxID8gJ29uZSB0YXJnZXQnIDogYCR7dGhpcy50YXJnZXR9IHRhcmdldHNgO1xyXG4gICAgICBkZXNjICs9IGAsICR7dGFyZ2V0VGV4dH0uIGA7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMubnVtRGljZSAmJiB0aGlzLmRpY2VUeXBlICYmIHRoaXMuZGFtYWdlVHlwZSkge1xyXG4gICAgICBkZXNjICs9ICdIaXQ6ICc7XHJcblxyXG4gICAgICBpZiAodGhpcy5hdmVyYWdlRGFtYWdlKSB7XHJcbiAgICAgICAgZGVzYyArPSBgJHt0aGlzLmF2ZXJhZ2VEYW1hZ2V9IChgO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBkZXNjICs9IGAke3RoaXMubnVtRGljZX1kJHt0aGlzLmRpY2VUeXBlfWA7XHJcblxyXG4gICAgICBpZiAodGhpcy5kYW1hZ2VNb2QgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGRlc2MgKz0gYCR7dGhpcy5kYW1hZ2VNb2QgPj0gMCA/ICcgKyAnIDogJyAtICd9JHtNYXRoLmFicyh0aGlzLmRhbWFnZU1vZCl9YDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRoaXMuYXZlcmFnZURhbWFnZSkge1xyXG4gICAgICAgIGRlc2MgKz0gJyknO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBkZXNjICs9IGAgJHt0aGlzLmRhbWFnZVR5cGV9IGRhbWFnZWA7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGRlc2MudHJpbSgpO1xyXG4gIH1cclxuXHJcbiAgZ2V0UmVsZXZhbnRBYmlsaXR5KGFiaWxpdGllczogQWJpbGl0aWVzKTogQWJpbGl0eSB7XHJcbiAgICBpZiAodGhpcy5pc01lbGVlV2VhcG9uICYmICF0aGlzLmlzRmluZXNzZVdlYXBvbikge1xyXG4gICAgICAgIHJldHVybiAnc3RyZW5ndGgnO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLmlzUmFuZ2VkV2VhcG9uKSB7XHJcbiAgICAgICAgcmV0dXJuICdkZXh0ZXJpdHknO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLmlzRmluZXNzZVdlYXBvbikge1xyXG4gICAgICAgIGNvbnN0IHN0cmVuZ3RoTW9kaWZpZXIgPSBBYmlsaXRpZXMuY2FsY3VsYXRlTW9kaWZpZXIoYWJpbGl0aWVzLnN0cmVuZ3RoKTtcclxuICAgICAgICBjb25zdCBkZXh0ZXJpdHlNb2RpZmllciA9IEFiaWxpdGllcy5jYWxjdWxhdGVNb2RpZmllcihhYmlsaXRpZXMuZGV4dGVyaXR5KTtcclxuICAgICAgICByZXR1cm4gc3RyZW5ndGhNb2RpZmllciA+PSBkZXh0ZXJpdHlNb2RpZmllciA/ICdzdHJlbmd0aCcgOiAnZGV4dGVyaXR5JztcclxuICAgIH1cclxuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBhdHRhY2sgdHlwZScpO1xyXG4gIH1cclxuXHJcbiAgY2FsY3VsYXRlRXhwZWN0ZWRWYWx1ZXMoYWJpbGl0aWVzOiBBYmlsaXRpZXMsIHByb2ZpY2llbmN5Qm9udXM6IG51bWJlcik6IHsgdG9IaXQ6IG51bWJlciwgZGFtYWdlTW9kOiBudW1iZXIgfSB7XHJcbiAgICBjb25zdCByZWxldmFudEFiaWxpdHkgPSB0aGlzLmdldFJlbGV2YW50QWJpbGl0eShhYmlsaXRpZXMpO1xyXG4gICAgY29uc3QgYWJpbGl0eU1vZCA9IEFiaWxpdGllcy5jYWxjdWxhdGVNb2RpZmllcihhYmlsaXRpZXNbcmVsZXZhbnRBYmlsaXR5XSk7XHJcblxyXG4gICAgY29uc3QgZXhwZWN0ZWRUb0hpdCA9IGFiaWxpdHlNb2QgKyBwcm9maWNpZW5jeUJvbnVzO1xyXG4gICAgY29uc3QgZXhwZWN0ZWREYW1hZ2VNb2QgPSBhYmlsaXR5TW9kO1xyXG5cclxuICAgIHJldHVybiB7IHRvSGl0OiBleHBlY3RlZFRvSGl0LCBkYW1hZ2VNb2Q6IGV4cGVjdGVkRGFtYWdlTW9kIH07XHJcbn1cclxuXHJcbn0iLCAiaW1wb3J0IHsgRnV6enlTdWdnZXN0TW9kYWwsIFN1Z2dlc3RNb2RhbCwgQXBwLCBNb2RhbCwgVEZvbGRlciB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IHsgU2lkZWtpY2tDbGFzcywgRXhwZXJ0LCBXYXJyaW9yLCBTcGVsbGNhc3RlciB9IGZyb20gJy4uL3NpZGVraWNrcy9jbGFzc2VzJztcclxuaW1wb3J0IHtGZWF0dXJlLCBPcHRpb259IGZyb20gJy4uL3N0YXRibG9ja3Mvc3RhdGJsb2NrcydcclxuXHJcbmV4cG9ydCBjbGFzcyBMZXZlbFNlbGVjdE1vZGFsIGV4dGVuZHMgRnV6enlTdWdnZXN0TW9kYWw8bnVtYmVyPiB7XHJcbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcHJpdmF0ZSBvblNlbGVjdDogKGxldmVsOiBudW1iZXIpID0+IHZvaWQpIHtcclxuICAgICAgICBzdXBlcihhcHApO1xyXG4gICAgICAgIHRoaXMuc2V0UGxhY2Vob2xkZXIoXCJTZWxlY3QgbGV2ZWxcIik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SXRlbXMoKTogbnVtYmVyW10ge1xyXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHsgbGVuZ3RoOiAyMCB9LCAoXywgaSkgPT4gaSArIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEl0ZW1UZXh0KGl0ZW06IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIGAke2l0ZW19YDtcclxuICAgIH1cclxuXHJcbiAgICBvbkNob29zZUl0ZW0oaXRlbTogbnVtYmVyLCBldnQ6IE1vdXNlRXZlbnQgfCBLZXlib2FyZEV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5vblNlbGVjdChpdGVtKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENsYXNzU2VsZWN0TW9kYWwgZXh0ZW5kcyBTdWdnZXN0TW9kYWw8U2lkZWtpY2tDbGFzcz4ge1xyXG4gICAgY2xhc3NlczogU2lkZWtpY2tDbGFzc1tdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwcml2YXRlIG9uQ2xhc3NDaG9zZW46IChjaG9zZW5DbGFzczogU2lkZWtpY2tDbGFzcykgPT4gdm9pZCkge1xyXG4gICAgICAgIHN1cGVyKGFwcCk7XHJcbiAgICAgICAgdGhpcy5zZXRQbGFjZWhvbGRlcihcIlNlbGVjdCBjbGFzc1wiKTtcclxuXHJcbiAgICAgICAgLy8gSW5zdGFudGlhdGUgZWFjaCBjbGFzc1xyXG4gICAgICAgIHRoaXMuY2xhc3NlcyA9IFtcclxuICAgICAgICAgICAgbmV3IEV4cGVydCgpLFxyXG4gICAgICAgICAgICBuZXcgU3BlbGxjYXN0ZXIoKSxcclxuICAgICAgICAgICAgbmV3IFdhcnJpb3IoKVxyXG4gICAgICAgIF07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U3VnZ2VzdGlvbnMocXVlcnk6IHN0cmluZyk6IFNpZGVraWNrQ2xhc3NbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xhc3Nlcy5maWx0ZXIoY2xzID0+IGNscy5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocXVlcnkudG9Mb3dlckNhc2UoKSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlclN1Z2dlc3Rpb24oaXRlbTogU2lkZWtpY2tDbGFzcywgZWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcbiAgICAgICAgZWwuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogaXRlbS5uYW1lLCBjbHM6ICdzdWdnZXN0aW9uLW5hbWUnIH0pO1xyXG4gICAgICAgIGVsLmNyZWF0ZUVsKCdzbWFsbCcsIHsgdGV4dDogaXRlbS5kZXNjLCBjbHM6ICdzdWdnZXN0aW9uLWRlc2MnIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQ2hvb3NlU3VnZ2VzdGlvbihpdGVtOiBTaWRla2lja0NsYXNzLCBldnQ6IE1vdXNlRXZlbnQgfCBLZXlib2FyZEV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5vbkNsYXNzQ2hvc2VuKGl0ZW0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgT3B0aW9uU2VsZWN0TW9kYWwgZXh0ZW5kcyBTdWdnZXN0TW9kYWw8T3B0aW9uPiB7XHJcbiAgICBmZWF0dXJlOiBGZWF0dXJlO1xyXG4gICAgcmVzb2x2ZTogKG9wdGlvbjogT3B0aW9uKSA9PiB2b2lkO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBmZWF0dXJlOiBGZWF0dXJlLCByZXNvbHZlOiAob3B0aW9uOiBPcHRpb24pID0+IHZvaWQsIGNob2ljZUluZGV4OiBudW1iZXIsIG1heENob2ljZXM6IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyKGFwcCk7XHJcbiAgICAgICAgdGhpcy5mZWF0dXJlID0gZmVhdHVyZTtcclxuICAgICAgICB0aGlzLnJlc29sdmUgPSByZXNvbHZlO1xyXG4gICAgICAgIHRoaXMuc2V0UGxhY2Vob2xkZXIoYFNlbGVjdCAke3RoaXMuZmVhdHVyZS5uYW1lLnRvTG93ZXJDYXNlKCl9ICgke2Nob2ljZUluZGV4ICsgMX0vJHttYXhDaG9pY2VzfSlgKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTdWdnZXN0aW9ucyhxdWVyeTogc3RyaW5nKTogT3B0aW9uW10ge1xyXG4gICAgICAgIGlmICghdGhpcy5mZWF0dXJlLm9wdGlvbnMpIHJldHVybiBbXTtcclxuICAgICAgICBjb25zdCBsb3dlckNhc2VRdWVyeSA9IHF1ZXJ5LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZmVhdHVyZS5vcHRpb25zLmZpbHRlcihvcHRpb24gPT5cclxuICAgICAgICAgICAgb3B0aW9uLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhsb3dlckNhc2VRdWVyeSlcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlclN1Z2dlc3Rpb24oaXRlbTogT3B0aW9uLCBlbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuICAgICAgICBlbC5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiBpdGVtLm5hbWUsIGNsczogJ3N1Z2dlc3Rpb24tbmFtZScgfSk7XHJcbiAgICAgICAgZWwuY3JlYXRlRWwoJ3NtYWxsJywgeyB0ZXh0OiBpdGVtLmRlc2MsIGNsczogJ3N1Z2dlc3Rpb24tZGVzYycgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgb25DaG9vc2VTdWdnZXN0aW9uKGl0ZW06IE9wdGlvbiwgZXZ0OiBNb3VzZUV2ZW50IHwgS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucmVzb2x2ZShpdGVtKTtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBOYW1lSW5wdXRNb2RhbCBleHRlbmRzIE1vZGFsIHtcclxuICAgIHByaXZhdGUgcmVzb2x2ZTogKHZhbHVlOiBzdHJpbmcpID0+IHZvaWQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHJlc29sdmU6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgc3VwZXIoYXBwKTtcclxuICAgICAgICB0aGlzLnJlc29sdmUgPSByZXNvbHZlO1xyXG4gICAgfVxyXG5cclxuICAgIG9uT3BlbigpIHtcclxuICAgICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuICAgICAgICBjb250ZW50RWwuY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiBcIkVudGVyIGEgbmFtZSBmb3IgdGhlIHNpZGVraWNrXCIgfSk7XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSBhIGRpdiBhcyBhIEZsZXggY29udGFpbmVyXHJcbiAgICAgICAgY29uc3QgZm9ybUNvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICdmb3JtLWNvbnRhaW5lcicgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG5hbWVJbnB1dCA9IGZvcm1Db250YWluZXIuY3JlYXRlRWwoJ2lucHV0Jywge1xyXG4gICAgICAgICAgICB0eXBlOiAndGV4dCcsXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAnRW50ZXIgbmFtZS4uLicsXHJcbiAgICAgICAgICAgIGNsczogJ2Zvcm0taW5wdXQnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGZvcm1Db250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHtcclxuICAgICAgICAgICAgdGV4dDogJ1NhdmUnLFxyXG4gICAgICAgICAgICBjbHM6ICdmb3JtLWJ1dHRvbidcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc3VibWl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJlc29sdmUobmFtZUlucHV0LnZhbHVlKTtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBuYW1lSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc29sdmUobmFtZUlucHV0LnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQ2xvc2UoKSB7XHJcbiAgICAgICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XHJcbiAgICAgICAgY29udGVudEVsLmVtcHR5KCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIG5vdCBmdWxseSBpbXBsZW1lbnRlZCB5ZXRcclxuZXhwb3J0IGNsYXNzIEZvbGRlclNlbGVjdE1vZGFsIGV4dGVuZHMgRnV6enlTdWdnZXN0TW9kYWw8c3RyaW5nPiB7XHJcbiAgcHJpdmF0ZSByZXNvbHZlOiAodmFsdWU6IHN0cmluZyB8IHVuZGVmaW5lZCkgPT4gdm9pZDtcclxuXHJcbiAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHJlc29sdmU6ICh2YWx1ZTogc3RyaW5nIHwgdW5kZWZpbmVkKSA9PiB2b2lkKSB7XHJcbiAgICBzdXBlcihhcHApO1xyXG4gICAgdGhpcy5yZXNvbHZlID0gcmVzb2x2ZTtcclxuICAgIHRoaXMuc2V0UGxhY2Vob2xkZXIoJ0VudGVyIG9yIHNlbGVjdCBhIGZvbGRlci4uLicpO1xyXG4gICAgdGhpcy5zZXRJbnN0cnVjdGlvbnMoW1xyXG4gICAgICB7IGNvbW1hbmQ6ICcvJywgcHVycG9zZTogJ25hdmlnYXRlIHRvIGEgZm9sZGVyJyB9LFxyXG4gICAgICB7IGNvbW1hbmQ6ICc8Zm9sZGVyLW5hbWU+JywgcHVycG9zZTogJ3NlbGVjdCBhIGZvbGRlcicgfSxcclxuICAgIF0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0SXRlbXMoKTogc3RyaW5nW10ge1xyXG4gICAgcmV0dXJuIHRoaXMuYXBwLnZhdWx0LmdldEFsbExvYWRlZEZpbGVzKClcclxuICAgICAgLmZpbHRlcigoZmlsZSkgPT4gZmlsZSBpbnN0YW5jZW9mIFRGb2xkZXIpXHJcbiAgICAgIC5tYXAoKGZvbGRlcikgPT4gZm9sZGVyLnBhdGgpO1xyXG4gIH1cclxuXHJcbiAgZ2V0SXRlbVRleHQoaXRlbTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBpdGVtLnNwbGl0KCcvJykucG9wKCkgfHwgaXRlbTsgLy8gUmV0dXJuIHRoZSBmb2xkZXIgbmFtZSBvciB0aGUgZnVsbCBwYXRoIGlmIG5vIG5hbWUgZXhpc3RzXHJcbiAgfVxyXG5cclxuICBvbkNob29zZUl0ZW0oaXRlbTogc3RyaW5nLCBfZXZ0OiBNb3VzZUV2ZW50IHwgS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xyXG4gICAgY29uc3QgZm9sZGVyID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGl0ZW0pO1xyXG4gICAgaWYgKGZvbGRlciBpbnN0YW5jZW9mIFRGb2xkZXIpIHtcclxuICAgICAgdGhpcy5yZXNvbHZlKGZvbGRlci5wYXRoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucmVzb2x2ZSh1bmRlZmluZWQpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5jbG9zZSgpO1xyXG4gIH1cclxuXHJcbiAgb25PcGVuKCkge1xyXG4gICAgc3VwZXIub25PcGVuKCk7XHJcbiAgICB0aGlzLmlucHV0RWwuZm9jdXMoKTtcclxuICB9XHJcblxyXG4gIG9uQ2xvc2UoKSB7XHJcbiAgICB0aGlzLnJlc29sdmUodW5kZWZpbmVkKTtcclxuICAgIHN1cGVyLm9uQ2xvc2UoKTtcclxuICB9XHJcbn0iLCAiaW1wb3J0IHtGZWF0dXJlfSBmcm9tICcuLi9zdGF0YmxvY2tzL3N0YXRibG9ja3MnXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNpZGVraWNrQ2xhc3Mge1xyXG4gICAgbmFtZTogc3RyaW5nO1xyXG4gICAgZGVzYzogc3RyaW5nO1xyXG4gICAgZmVhdHVyZXNCeUxldmVsOiB7IFtsZXZlbDogbnVtYmVyXTogRmVhdHVyZVtdIH07XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBFeHBlcnQgaW1wbGVtZW50cyBTaWRla2lja0NsYXNzIHtcclxuICAgIG5hbWUgPSAnRXhwZXJ0JztcclxuICAgIGRlc2MgPSAnVGhlIEV4cGVydCBpcyBhIG1hc3RlciBvZiBjZXJ0YWluIHRhc2tzIG9yIGtub3dsZWRnZSwgZmF2b3JpbmcgY3VubmluZyBvdmVyIGJyYXduLlxcbicgK1xyXG4gICAgJ0l0IG1pZ2h0IGJlIGEgc2NvdXQsIGEgbXVzaWNpYW4sIGEgbGlicmFyaWFuLCBhIGNsZXZlciBzdHJlZXQga2lkLCBhIHdpbHkgbWVyY2hhbnQsIG9yIGEgYnVyZ2xhci4nO1xyXG4gICAgZmVhdHVyZXNCeUxldmVsID0ge1xyXG4gICAgICAgIDE6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJTYXZpbmcgVGhyb3cgUHJvZmljaWVuY3lcIixcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwiVGhlIHNpZGVraWNrIGdhaW5zIHByb2ZpY2llbmN5IGluIG9uZSBzYXZpbmcgdGhyb3cgb2YgeW91ciBjaG9pY2VcIixcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiRGV4dGVyaXR5XCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiSW50ZWxsaWdlbmNlXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiQ2hhcmlzbWFcIiB9XHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgbmJDaG9pY2VzOiAxXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwiU2tpbGwgUHJvZmljaWVuY2llc1wiLFxyXG4gICAgICAgICAgICAgICAgZGVzYzogXCJUaGUgc2lkZWtpY2sgZ2FpbnMgcHJvZmljaWVuY3kgaW4gZml2ZSBza2lsbHMgb2YgeW91ciBjaG9pY2UuXCIsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIkFjcm9iYXRpY3NcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJBbmltYWwgSGFuZGxpbmdcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJBcmNhbmFcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJBdGhsZXRpY3NcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJEZWNlcHRpb25cIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJIaXN0b3J5XCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiSW5zaWdodFwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIkludGltaWRhdGlvblwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIkludmVzdGlnYXRpb25cIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJNZWRpY2luZVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk5hdHVyZVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIlBlcmNlcHRpb25cIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJQZXJmb3JtYW5jZVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIlBlcnN1YXNpb25cIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJSZWxpZ2lvblwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIlNsZWlnaHQgb2YgSGFuZFwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIlN0ZWFsdGhcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJTdXJ2aXZhbFwiIH1cclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBuYkNob2ljZXM6IDVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJBcm1vciBQcm9maWNpZW5jeVwiLFxyXG4gICAgICAgICAgICAgICAgZGVzYzogXCJsaWdodCBhcm1vclwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwiV2VhcG9uIFByb2ZpY2llbmN5XCIsXHJcbiAgICAgICAgICAgICAgICBkZXNjOiBcImFsbCBzaW1wbGUgd2VhcG9uc1wiLFxyXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uczogW1wiaHVtYW5vaWRcIiwgXCJzaW1wbGUgd2VhcG9uXCIsIFwibWFydGlhbCB3ZWFwb25cIl1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJUb29sIFByb2ZpY2llbmNpZXNcIixcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBjb25kaXRpb25zOiBbXCJodW1hbm9pZFwiLCBcInNpbXBsZSB3ZWFwb25cIiwgXCJtYXJ0aWFsIHdlYXBvblwiXSxcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkFsY2hlbWlzdCdzIHN1cHBsaWVzXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkJyZXdlcidzIHN1cHBsaWVzXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkNhbGxpZ3JhcGhlcidzIHN1cHBsaWVzXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkNhcnBlbnRlcidzIHRvb2xzXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkNhcnRvZ3JhcGhlcidzIHRvb2xzXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkNvYmJsZXIncyB0b29sc1wiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJDb29rJ3MgdXRlbnNpbHNcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiRGlzZ3Vpc2Uga2l0XCIgfSwgXHJcbiAgICAgICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJGb3JnZXJ5IGtpdFwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJHbGFzc2Jsb3dlcidzIHRvb2xzXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkhlcmJhbGlzbSBraXRcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiSmV3ZWxlcidzIHRvb2xzXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkxlYXRoZXJ3b3JrZXIncyB0b29sc1wiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJNYXNvbidzIHRvb2xzXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIk5hdmlnYXRvcidzIHRvb2xzXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIlBhaW50ZXIncyBzdXBwbGllc1wiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJQb2lzb25lcidzIGtpdFwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJQb3R0ZXIncyB0b29sc1wiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJTbWl0aCdzIHRvb2xzXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIlRpbmtlcidzIHRvb2xzXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIlRoaWV2ZXMnIHRvb2xzXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIldlYXZlcidzIHRvb2xzXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIldvb2RjYXJ2ZXIncyB0b29sc1wiIH1cclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBuYkNob2ljZXM6IDJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJIZWxwZnVsXCIsXHJcbiAgICAgICAgICAgICAgICBkZXNjOiBcIlRoZSBzaWRla2ljayBjYW4gdGFrZSB0aGUgSGVscCBhY3Rpb24gYXMgYSBib251cyBhY3Rpb24uXCIsXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogXCJib251c19hY3Rpb25zXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgMjogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcIkN1bm5pbmcgQWN0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICBkZXNjOiBcIk9uIGl0cyB0dXJuIGluIGNvbWJhdCwgdGhlIHNpZGVraWNrIGNhbiB0YWtlIHRoZSBEYXNoLCBEaXNlbmdhZ2UsIG9yIEhpZGUgYWN0aW9uIGFzIGEgYm9udXMgYWN0aW9uLlwiLFxyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6IFwiYm9udXNfYWN0aW9uc1wiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdLFxyXG4gICAgICAgIDM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTpcIkV4cGVydGlzZVwiLFxyXG4gICAgICAgICAgICAgICAgZGVzYzogXCJDaG9vc2UgdHdvIG9mIHRoZSBzaWRla2ljaydzIHNraWxsIHByb2ZpY2llbmNpZXMuIFRoZSBzaWRla2ljaydzIHByb2ZpY2llbmN5IGJvbnVzIGlzIGRvdWJsZWQgZm9yIGFueSBhYmlsaXR5IGNoZWNrIGl0IG1ha2VzIHRoYXQgdXNlcyBhbnkgb2YgdGhlIGNob3NlbiBwcm9maWNpZW5jaWVzLlwiLFxyXG4gICAgICAgICAgICAgICAgb3B0aW9uczogW1xyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJXaWxsIGJlIGRldGVybWluZWQgYmFzZWQgb24gdGhlIHNpZGVraWNrJ3Mgc2tpbGwgcHJvZmljaWVuY2llc1wiIH1dLFxyXG4gICAgICAgICAgICAgICAgbmJDaG9pY2VzOiAyXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdLFxyXG4gICAgICAgIDQ6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTpcIkFiaWxpdHkgU2NvcmUgSW1wcm92ZW1lbnRcIixcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwiVGhlIHNpZGVraWNrIGluY3JlYXNlcyBvbmUgYWJpbGl0eSBzY29yZSBvZiB5b3VyIGNob2ljZSBieSAyLCBvciB0aGUgc2lkZWtpY2sgaW5jcmVhc2VzIHR3byBhYmlsaXR5IHNjb3JlcyBvZiB5b3VyIGNob2ljZSBieSAxLiBUaGUgc2lkZWtpY2sgY2FuJ3QgaW5jcmVhc2UgYW4gYWJpbGl0eSBzY29yZSBhYm92ZSAyMCB1c2luZyB0aGlzIGZlYXR1cmUuXCIsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIldpbGwgYmUgZGV0ZXJtaW5lZCBiYXNlZCBvbiB0aGUgc2lkZWtpY2sncyBjdXJyZW50IGFiaWxpdGllc1wiIH1cclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBuYkNob2ljZXM6IDJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgNjogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOlwiSGVscGZ1bFwiLFxyXG4gICAgICAgICAgICAgICAgZGVzYzogXCJUaGUgc2lkZWtpY2sgY2FuIHRha2UgdGhlIEhlbHAgYWN0aW9uIGFzIGEgYm9udXMgYWN0aW9uLiBXaGVuIHVzaW5nIHRoaXMgZmVhdHVyZSB0byBhaWQgYW4gYWxseSBpbiBhdHRhY2tpbmcgYSBjcmVhdHVyZSwgdGhhdCB0YXJnZXQgY2FuIGJlIHVwIHRvIDMwIGZlZXQgYXdheSBmcm9tIHRoZSBzaWRla2ljaywgYW5kIHRoZSBzaWRla2ljayBjYW4gZGVhbCBhbiBleHRyYSAyZDYgZGFtYWdlIHRvIGl0IHRoZSBuZXh0IHRpbWUgdGhlIHNpZGVraWNrIGhpdHMgaXQgd2l0aCBhbiBhdHRhY2sgcm9sbCBiZWZvcmUgdGhlIGVuZCBvZiB0aGUgY3VycmVudCB0dXJuLiBUaGUgZXh0cmEgZGFtYWdlIGlzIHRoZSBzYW1lIHR5cGUgb2YgZGFtYWdlIGRlYWx0IGJ5IHRoZSBhdHRhY2suXCIsXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogXCJib251c19hY3Rpb25zXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgNzogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOlwiRXZhc2lvblwiLFxyXG4gICAgICAgICAgICAgICAgZGVzYzogXCJXaGVuIHRoZSBzaWRla2ljayBpcyBzdWJqZWN0ZWQgdG8gYW4gZWZmZWN0IHRoYXQgYWxsb3dzIGl0IHRvIG1ha2UgYSBEZXh0ZXJpdHkgc2F2aW5nIHRocm93IHRvIHRha2Ugb25seSBoYWxmIGRhbWFnZSwgaXQgaW5zdGVhZCB0YWtlcyBubyBkYW1hZ2UgaWYgaXQgc3VjY2VlZHMgb24gdGhlIHNhdmluZyB0aHJvdywgYW5kIG9ubHkgaGFsZiBkYW1hZ2UgaWYgaXQgZmFpbGVkLiBUaGUgc2lkZWtpY2sgZG9lc24ndCBiZW5lZml0IGZyb20gdGhpcyBmZWF0dXJlIHdoaWxlIGluY2FwYWNpdGF0ZWQuXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgODogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOlwiQWJpbGl0eSBTY29yZSBJbXByb3ZlbWVudFwiLFxyXG4gICAgICAgICAgICAgICAgZGVzYzogXCJUaGUgc2lkZWtpY2sgaW5jcmVhc2VzIG9uZSBhYmlsaXR5IHNjb3JlIG9mIHlvdXIgY2hvaWNlIGJ5IDIsIG9yIHRoZSBzaWRla2ljayBpbmNyZWFzZXMgdHdvIGFiaWxpdHkgc2NvcmVzIG9mIHlvdXIgY2hvaWNlIGJ5IDEuIFRoZSBzaWRla2ljayBjYW4ndCBpbmNyZWFzZSBhbiBhYmlsaXR5IHNjb3JlIGFib3ZlIDIwIHVzaW5nIHRoaXMgZmVhdHVyZS5cIixcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiV2lsbCBiZSBkZXRlcm1pbmVkIGJhc2VkIG9uIHRoZSBzaWRla2ljaydzIGN1cnJlbnQgYWJpbGl0aWVzXCIgfVxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIG5iQ2hvaWNlczogMlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXSxcclxuICAgICAgICAxMDogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOlwiQWJpbGl0eSBTY29yZSBJbXByb3ZlbWVudFwiLFxyXG4gICAgICAgICAgICAgICAgZGVzYzogXCJUaGUgc2lkZWtpY2sgaW5jcmVhc2VzIG9uZSBhYmlsaXR5IHNjb3JlIG9mIHlvdXIgY2hvaWNlIGJ5IDIsIG9yIHRoZSBzaWRla2ljayBpbmNyZWFzZXMgdHdvIGFiaWxpdHkgc2NvcmVzIG9mIHlvdXIgY2hvaWNlIGJ5IDEuIFRoZSBzaWRla2ljayBjYW4ndCBpbmNyZWFzZSBhbiBhYmlsaXR5IHNjb3JlIGFib3ZlIDIwIHVzaW5nIHRoaXMgZmVhdHVyZS5cIixcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiV2lsbCBiZSBkZXRlcm1pbmVkIGJhc2VkIG9uIHRoZSBzaWRla2ljaydzIGN1cnJlbnQgYWJpbGl0aWVzXCIgfVxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIG5iQ2hvaWNlczogMlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXSxcclxuICAgICAgICAxMTogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOlwiSW5zcGlyaW5nIEhlbHBcIixcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwiV2hlbiB0aGUgc2lkZWtpY2sgdGFrZXMgdGhlIEhlbHAgYWN0aW9uLCB0aGUgY3JlYXR1cmUgd2hvIHJlY2VpdmVzIHRoZSBoZWxwIGFsc28gZ2FpbnMgYSAxZDYgYm9udXMgdG8gdGhlIGQyMCByb2xsLiBJZiB0aGF0IHJvbGwgaXMgYW4gYXR0YWNrIHJvbGwsIHRoZSBjcmVhdHVyZSBjYW4gZm9yZ28gYWRkaW5nIHRoZSBib251cyB0byBpdCwgYW5kIHRoZW4gaWYgdGhlIGF0dGFjayBoaXRzLCB0aGUgY3JlYXR1cmUgY2FuIGFkZCB0aGUgYm9udXMgdG8gdGhlIGF0dGFjaydzIGRhbWFnZSByb2xsIGFnYWluc3Qgb25lIHRhcmdldC5cIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXSxcclxuICAgICAgICAxMjogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOlwiQWJpbGl0eSBTY29yZSBJbXByb3ZlbWVudFwiLFxyXG4gICAgICAgICAgICAgICAgZGVzYzogXCJUaGUgc2lkZWtpY2sgaW5jcmVhc2VzIG9uZSBhYmlsaXR5IHNjb3JlIG9mIHlvdXIgY2hvaWNlIGJ5IDIsIG9yIHRoZSBzaWRla2ljayBpbmNyZWFzZXMgdHdvIGFiaWxpdHkgc2NvcmVzIG9mIHlvdXIgY2hvaWNlIGJ5IDEuIFRoZSBzaWRla2ljayBjYW4ndCBpbmNyZWFzZSBhbiBhYmlsaXR5IHNjb3JlIGFib3ZlIDIwIHVzaW5nIHRoaXMgZmVhdHVyZS5cIixcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiV2lsbCBiZSBkZXRlcm1pbmVkIGJhc2VkIG9uIHRoZSBzaWRla2ljaydzIGN1cnJlbnQgYWJpbGl0aWVzXCIgfVxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIG5iQ2hvaWNlczogMlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXSxcclxuICAgICAgICAxNDogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcIlJlbGlhYmxlIFRhbGVudFwiLFxyXG4gICAgICAgICAgICAgICAgZGVzYzogXCJXaGVuZXZlciB0aGUgc2lkZWtpY2sgbWFrZXMgYW4gYWJpbGl0eSBjaGVjayB0aGF0IGluY2x1ZGVzIGl0cyB3aG9sZSBwcm9maWNpZW5jeSBib251cywgaXQgY2FuIHRyZWF0IGEgZDIwIHJvbGwgb2YgOSBvciBsb3dlciBhcyBhIDEwLlwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdLFxyXG4gICAgICAgIDE1OiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6XCJFeHBlcnRpc2VcIixcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwiQ2hvb3NlIHR3byBvZiB0aGUgc2lkZWtpY2sncyBza2lsbCBwcm9maWNpZW5jaWVzLiBUaGUgc2lkZWtpY2sncyBwcm9maWNpZW5jeSBib251cyBpcyBkb3VibGVkIGZvciBhbnkgYWJpbGl0eSBjaGVjayBpdCBtYWtlcyB0aGF0IHVzZXMgYW55IG9mIHRoZSBjaG9zZW4gcHJvZmljaWVuY2llcy5cIixcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiV2lsbCBiZSBkZXRlcm1pbmVkIGJhc2VkIG9uIHRoZSBzaWRla2ljaydzIHNraWxsIHByb2ZpY2llbmNpZXNcIiB9XSxcclxuICAgICAgICAgICAgICAgIG5iQ2hvaWNlczogMlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXSxcclxuICAgICAgICAxNjogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOlwiQWJpbGl0eSBTY29yZSBJbXByb3ZlbWVudFwiLFxyXG4gICAgICAgICAgICAgICAgZGVzYzogXCJUaGUgc2lkZWtpY2sgaW5jcmVhc2VzIG9uZSBhYmlsaXR5IHNjb3JlIG9mIHlvdXIgY2hvaWNlIGJ5IDIsIG9yIHRoZSBzaWRla2ljayBpbmNyZWFzZXMgdHdvIGFiaWxpdHkgc2NvcmVzIG9mIHlvdXIgY2hvaWNlIGJ5IDEuIFRoZSBzaWRla2ljayBjYW4ndCBpbmNyZWFzZSBhbiBhYmlsaXR5IHNjb3JlIGFib3ZlIDIwIHVzaW5nIHRoaXMgZmVhdHVyZS5cIixcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiV2lsbCBiZSBkZXRlcm1pbmVkIGJhc2VkIG9uIHRoZSBzaWRla2ljaydzIGN1cnJlbnQgYWJpbGl0aWVzXCIgfVxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIG5iQ2hvaWNlczogMlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXSxcclxuICAgICAgICAxODogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcIlNhdmluZyBUaHJvdyBQcm9maWNpZW5jeVwiLFxyXG4gICAgICAgICAgICAgICAgZGVzYzogXCJTaGFycCBNaW5kOiBUaGUgc2lkZWtpY2sgZ2FpbnMgcHJvZmljaWVuY3kgaW4gb25lIHNhdmluZyB0aHJvdyBvZiB5b3VyIGNob2ljZS5cIixcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiSW50ZWxsaWdlbmNlXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiV2lzY29tXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiQ2hhcmlzbWFcIiB9XHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgbmJDaG9pY2VzOiAxXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgXSxcclxuICAgICAgICAxOTogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOlwiQWJpbGl0eSBTY29yZSBJbXByb3ZlbWVudFwiLFxyXG4gICAgICAgICAgICAgICAgZGVzYzogXCJUaGUgc2lkZWtpY2sgaW5jcmVhc2VzIG9uZSBhYmlsaXR5IHNjb3JlIG9mIHlvdXIgY2hvaWNlIGJ5IDIsIG9yIHRoZSBzaWRla2ljayBpbmNyZWFzZXMgdHdvIGFiaWxpdHkgc2NvcmVzIG9mIHlvdXIgY2hvaWNlIGJ5IDEuIFRoZSBzaWRla2ljayBjYW4ndCBpbmNyZWFzZSBhbiBhYmlsaXR5IHNjb3JlIGFib3ZlIDIwIHVzaW5nIHRoaXMgZmVhdHVyZS5cIixcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiV2lsbCBiZSBkZXRlcm1pbmVkIGJhc2VkIG9uIHRoZSBzaWRla2ljaydzIGN1cnJlbnQgYWJpbGl0aWVzXCIgfVxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIG5iQ2hvaWNlczogMlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXSxcclxuICAgICAgICAyMDogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOlwiSW5zcGlyaW5nIEhlbHBcIixcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwiV2hlbiB0aGUgc2lkZWtpY2sgdGFrZXMgdGhlIEhlbHAgYWN0aW9uLCB0aGUgY3JlYXR1cmUgd2hvIHJlY2VpdmVzIHRoZSBoZWxwIGFsc28gZ2FpbnMgYSAyZDYgYm9udXMgdG8gdGhlIGQyMCByb2xsLiBJZiB0aGF0IHJvbGwgaXMgYW4gYXR0YWNrIHJvbGwsIHRoZSBjcmVhdHVyZSBjYW4gZm9yZ28gYWRkaW5nIHRoZSBib251cyB0byBpdCwgYW5kIHRoZW4gaWYgdGhlIGF0dGFjayBoaXRzLCB0aGUgY3JlYXR1cmUgY2FuIGFkZCB0aGUgYm9udXMgdG8gdGhlIGF0dGFjaydzIGRhbWFnZSByb2xsIGFnYWluc3Qgb25lIHRhcmdldC5cIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXSxcclxuXHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgU3BlbGxjYXN0ZXIgaW1wbGVtZW50cyBTaWRla2lja0NsYXNzIHtcclxuICAgIG5hbWUgPSAnU3BlbGxjYXN0ZXInO1xyXG4gICAgZGVzYyA9ICdBIHNpZGVraWNrIHdobyBiZWNvbWVzIGEgU3BlbGxjYXN0ZXIgd2Fsa3MgdGhlIHBhdGhzIG9mIG1hZ2ljLlxcbicgK1xyXG4gICAgJ1RoZSBzaWRla2ljayBtaWdodCBiZSBhIGhlZGdlIHdpemFyZCwgYSBwcmllc3QsIGEgc29vdGhzYXllciwgYSBtYWdpY2FsIHBlcmZvcm1lciwgb3IgYSBwZXJzb24gd2l0aCBtYWdpYyBpbiB0aGVpciB2ZWlucy4nO1xyXG4gICAgZmVhdHVyZXNCeUxldmVsID0ge1xyXG4gICAgICAgIDE6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJTYXZpbmcgVGhyb3cgUHJvZmljaWVuY3lcIixcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwiVGhlIHNpZGVraWNrIGdhaW5zIGdhaW4gcHJvZmljaWVuY3kgaW4gb25lIHNhdmluZyB0aHJvdyBvZiB5b3VyIGNob2ljZVwiLFxyXG4gICAgICAgICAgICAgICAgb3B0aW9uczogW1xyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJXaXNkb21cIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJJbnRlbGxpZ2VuY2VcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJDaGFyaXNtYVwiIH1cclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBuYkNob2ljZXM6IDFcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJTa2lsbCBQcm9maWNpZW5jaWVzXCIsXHJcbiAgICAgICAgICAgICAgICBkZXNjOiBcIlRoZSBzaWRla2ljayBnYWlucyBwcm9maWNpZW5jeSBpbiBmaXZlIHNraWxscyBvZiB5b3VyIGNob2ljZS5cIixcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiQXJjYW5hXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiSGlzdG9yeVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIkluc2lnaHRcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJJbnZlc3RpZ2F0aW9uXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiTWVkaWNpbmVcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJQZXJmb3JtYW5jZVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIlBlcnN1YXNpb25cIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJSZWxpZ2lvblwiIH1cclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBuYkNob2ljZXM6IDJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJBcm1vciBQcm9maWNpZW5jeVwiLFxyXG4gICAgICAgICAgICAgICAgZGVzYzogXCJsaWdodCBhcm1vclwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwiV2VhcG9uIFByb2ZpY2llbmN5XCIsXHJcbiAgICAgICAgICAgICAgICBkZXNjOiBcImFsbCBzaW1wbGUgd2VhcG9uc1wiLFxyXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uczogW1wiaHVtYW5vaWRcIiwgXCJzaW1wbGUgd2VhcG9uXCIsIFwibWFydGlhbCB3ZWFwb25cIl1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJTcGVsbGNhc3RlciBSb2xlXCIsXHJcbiAgICAgICAgICAgICAgICBkZXNjOiBcIlRoZSBzaWRla2ljayBnYWlucyB0aGUgYWJpbGl0eSB0byBjYXN0IHNwZWxscy4gQ2hvb3NlIHRoZSBTcGVsbGNhc3RlcidzIHJvbGU6IE1hZ2UsIEhlYWxlciwgb3IgUHJvZGlneS4gVGhpcyBjaG9pY2UgZGV0ZXJtaW5lcyB0aGUgc3BlbGwgbGlzdCBhbmQgc3BlbGxjYXN0aW5nIGFiaWxpdHkgdXNlZCBieSB0aGUgc2lkZWtpY2suXCIsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBbXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIk1hZ2VcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogXCJTcGVsbCBMaXN0OiBXaXphcmQgLSBTcGVsbGNhc3RpbmcgQWJpbGl0eTogSW50ZWxsaWdlbmNlXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJIZWFsZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogXCJTcGVsbCBMaXN0czogQ2xlcmljIGFuZCBEcnVpZCAtIFNwZWxsY2FzdGluZyBBYmlsaXR5OiBXaXNkb21cIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlByb2RpZ3lcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogXCJTcGVsbCBMaXN0czogQmFyZCBhbmQgV2FybG9jayAtIFNwZWxsY2FzdGluZyBBYmlsaXR5OiBDaGFyaXNtYVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIG5iQ2hvaWNlczogMVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXSxcclxuICAgICAgICA0OiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6XCJBYmlsaXR5IFNjb3JlIEltcHJvdmVtZW50XCIsXHJcbiAgICAgICAgICAgICAgICBkZXNjOiBcIlRoZSBzaWRla2ljayBpbmNyZWFzZXMgb25lIGFiaWxpdHkgc2NvcmUgb2YgeW91ciBjaG9pY2UgYnkgMiwgb3IgdGhlIHNpZGVraWNrIGluY3JlYXNlcyB0d28gYWJpbGl0eSBzY29yZXMgb2YgeW91ciBjaG9pY2UgYnkgMS4gVGhlIHNpZGVraWNrIGNhbid0IGluY3JlYXNlIGFuIGFiaWxpdHkgc2NvcmUgYWJvdmUgMjAgdXNpbmcgdGhpcyBmZWF0dXJlLlwiLFxyXG4gICAgICAgICAgICAgICAgb3B0aW9uczogW1xyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJXaWxsIGJlIGRldGVybWluZWQgYmFzZWQgb24gdGhlIHNpZGVraWNrJ3MgY3VycmVudCBhYmlsaXRpZXNcIiB9XHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgbmJDaG9pY2VzOiAyXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdLFxyXG4gICAgICAgIDY6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTpcIlBvdGVudCBDYW50cmlwc1wiLFxyXG4gICAgICAgICAgICAgICAgZGVzYzogXCJUaGUgc2lkZWtpY2sgY2FuIGFkZCBpdHMgc3BlbGxjYXN0aW5nIGFiaWxpdHkgbW9kaWZpZXIgdG8gdGhlIGRhbWFnZSBpdCBkZWFscyB3aXRoIGFueSBjYW50cmlwLlwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdLFxyXG4gICAgICAgIDg6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTpcIkFiaWxpdHkgU2NvcmUgSW1wcm92ZW1lbnRcIixcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwiVGhlIHNpZGVraWNrIGluY3JlYXNlcyBvbmUgYWJpbGl0eSBzY29yZSBvZiB5b3VyIGNob2ljZSBieSAyLCBvciB0aGUgc2lkZWtpY2sgaW5jcmVhc2VzIHR3byBhYmlsaXR5IHNjb3JlcyBvZiB5b3VyIGNob2ljZSBieSAxLiBUaGUgc2lkZWtpY2sgY2FuJ3QgaW5jcmVhc2UgYW4gYWJpbGl0eSBzY29yZSBhYm92ZSAyMCB1c2luZyB0aGlzIGZlYXR1cmUuXCIsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIldpbGwgYmUgZGV0ZXJtaW5lZCBiYXNlZCBvbiB0aGUgc2lkZWtpY2sncyBjdXJyZW50IGFiaWxpdGllc1wiIH1cclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBuYkNob2ljZXM6IDJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgMTI6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTpcIkFiaWxpdHkgU2NvcmUgSW1wcm92ZW1lbnRcIixcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwiVGhlIHNpZGVraWNrIGluY3JlYXNlcyBvbmUgYWJpbGl0eSBzY29yZSBvZiB5b3VyIGNob2ljZSBieSAyLCBvciB0aGUgc2lkZWtpY2sgaW5jcmVhc2VzIHR3byBhYmlsaXR5IHNjb3JlcyBvZiB5b3VyIGNob2ljZSBieSAxLiBUaGUgc2lkZWtpY2sgY2FuJ3QgaW5jcmVhc2UgYW4gYWJpbGl0eSBzY29yZSBhYm92ZSAyMCB1c2luZyB0aGlzIGZlYXR1cmUuXCIsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIldpbGwgYmUgZGV0ZXJtaW5lZCBiYXNlZCBvbiB0aGUgc2lkZWtpY2sncyBjdXJyZW50IGFiaWxpdGllc1wiIH1cclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBuYkNob2ljZXM6IDJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgMTQ6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTpcIlNjaG9vbCBvZiBNYWdpYyBmb3IgRW1wb3dlcmVkIFNwZWxsc1wiLFxyXG4gICAgICAgICAgICAgICAgZGVzYzogXCJDaG9vc2Ugb25lIHNjaG9vbCBvZiBtYWdpYy4gV2hlbmV2ZXIgdGhlIHNpZGVraWNrIGNhc3RzIGEgc3BlbGwgb2YgdGhhdCBzY2hvb2wgYnkgZXhwZW5kaW5nIGEgc3BlbGwgc2xvdCwgdGhlIHNpZGVraWNrIGNhbiBhZGQgaXRzIHNwZWxsY2FzdGluZyBhYmlsaXR5IG1vZGlmaWVyIHRvIHRoZSBzcGVsbCdzIGRhbWFnZSByb2xsIG9yIGhlYWxpbmcgcm9sbCwgaWYgYW55LlwiLFxyXG4gICAgICAgICAgICAgICAgb3B0aW9uczogW1xyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJBYmp1cmF0aW9uXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiQ29uanVyYXRpb25cIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJEaXZpbmF0aW9uXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiRW5jaGFudG1lbnRcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJFdm9jYXRpb25cIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJJbGx1c2lvblwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk5lY3JvbWFuY3lcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJUcmFuc211dGF0aW9uXCIgfVxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIG5iQ2hvaWNlczogMVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXSxcclxuICAgICAgICAxNjogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOlwiQWJpbGl0eSBTY29yZSBJbXByb3ZlbWVudFwiLFxyXG4gICAgICAgICAgICAgICAgZGVzYzogXCJUaGUgc2lkZWtpY2sgaW5jcmVhc2VzIG9uZSBhYmlsaXR5IHNjb3JlIG9mIHlvdXIgY2hvaWNlIGJ5IDIsIG9yIHRoZSBzaWRla2ljayBpbmNyZWFzZXMgdHdvIGFiaWxpdHkgc2NvcmVzIG9mIHlvdXIgY2hvaWNlIGJ5IDEuIFRoZSBzaWRla2ljayBjYW4ndCBpbmNyZWFzZSBhbiBhYmlsaXR5IHNjb3JlIGFib3ZlIDIwIHVzaW5nIHRoaXMgZmVhdHVyZS5cIixcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiV2lsbCBiZSBkZXRlcm1pbmVkIGJhc2VkIG9uIHRoZSBzaWRla2ljaydzIGN1cnJlbnQgYWJpbGl0aWVzXCIgfVxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIG5iQ2hvaWNlczogMlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXSxcclxuICAgICAgICAxODogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOlwiQWJpbGl0eSBTY29yZSBJbXByb3ZlbWVudFwiLFxyXG4gICAgICAgICAgICAgICAgZGVzYzogXCJUaGUgc2lkZWtpY2sgaW5jcmVhc2VzIG9uZSBhYmlsaXR5IHNjb3JlIG9mIHlvdXIgY2hvaWNlIGJ5IDIsIG9yIHRoZSBzaWRla2ljayBpbmNyZWFzZXMgdHdvIGFiaWxpdHkgc2NvcmVzIG9mIHlvdXIgY2hvaWNlIGJ5IDEuIFRoZSBzaWRla2ljayBjYW4ndCBpbmNyZWFzZSBhbiBhYmlsaXR5IHNjb3JlIGFib3ZlIDIwIHVzaW5nIHRoaXMgZmVhdHVyZS5cIixcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiV2lsbCBiZSBkZXRlcm1pbmVkIGJhc2VkIG9uIHRoZSBzaWRla2ljaydzIGN1cnJlbnQgYWJpbGl0aWVzXCIgfVxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIG5iQ2hvaWNlczogMlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXSxcclxuICAgICAgICAyMDogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOlwiRm9jdXNlZCBDYXN0aW5nXCIsXHJcbiAgICAgICAgICAgICAgICBkZXNjOiBcIlRha2luZyBkYW1hZ2UgY2FuJ3QgYnJlYWsgdGhlIHNpZGVraWNrJ3MgY29uY2VudHJhdGlvbiBvbiBhIHNwZWxsLlwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdLFxyXG4gICAgICAgIFxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFdhcnJpb3IgaW1wbGVtZW50cyBTaWRla2lja0NsYXNzIHtcclxuICAgIG5hbWUgPSAnV2Fycmlvcic7XHJcbiAgICBkZXNjID0gJ0EgV2FycmlvciBzaWRla2ljayBncm93cyBpbiBtYXJ0aWFsIHByb3dlc3MgYXMgaXQgZmlnaHRzIGJ5IHlvdXIgc2lkZS5cXG4nICtcclxuICAgICdJdCBtaWdodCBiZSBhIHNvbGRpZXIsIGEgdG93biBndWFyZCwgYSBiYXR0bGUtdHJhaW5lZCBiZWFzdCwgb3IgYW55IG90aGVyIGNyZWF0dXJlIGhvbmVkIGZvciBjb21iYXQuJztcclxuICAgIGZlYXR1cmVzQnlMZXZlbCA9IHtcclxuICAgICAgICAxOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwiU2F2aW5nIFRocm93IFByb2ZpY2llbmN5XCIsXHJcbiAgICAgICAgICAgICAgICBkZXNjOiBcIlRoZSBzaWRla2ljayBnYWlucyBwcm9maWNpZW5jeSBpbiBvbmUgc2F2aW5nIHRocm93IG9mIHlvdXIgY2hvaWNlXCIsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIlN0cmVuZ3RoXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiRGV4dGVyaXR5XCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiQ29uc3RpdHV0aW9uXCIgfVxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIG5iQ2hvaWNlczogMVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcIlNraWxsIFByb2ZpY2llbmNpZXNcIixcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwiVGhlIHNpZGVraWNrIGdhaW5zIHByb2ZpY2llbmN5IGluIHR3byBza2lsbHMgb2YgeW91ciBjaG9pY2VcIixcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiQWNyb2JhdGljc1wiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIkFuaW1hbCBIYW5kbGluZ1wiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIkF0aGxldGljc1wiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIkludGltaWRhdGlvblwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIk5hdHVyZVwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIlBlcmNlcHRpb25cIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJTdXJ2aXZhbFwiIH1cclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBuYkNob2ljZXM6IDJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJBcm1vciBQcm9maWNpZW5jeVwiLFxyXG4gICAgICAgICAgICAgICAgZGVzYzogXCJhbGwgYXJtb3JcIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcIldlYXBvbiBQcm9maWNpZW5jaWVzXCIsXHJcbiAgICAgICAgICAgICAgICBkZXNjOiBcImFsbCBzaW1wbGUgYW5kIG1hcnRpYWwgd2VhcG9uc1wiLFxyXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uczogW1wiaHVtYW5vaWRcIiwgXCJzaW1wbGUgd2VhcG9uXCIsIFwibWFydGlhbCB3ZWFwb25cIl1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJTaGllbGQgUHJvZmljaWVuY3lcIixcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwic2hpZWxkc1wiLFxyXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uczogW1wiaHVtYW5vaWRcIiwgXCJzaW1wbGUgd2VhcG9uXCIsIFwibWFydGlhbCB3ZWFwb25cIl1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJNYXJ0aWFsIFJvbGVcIixcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwiRWFjaCB3YXJyaW9yIGZvY3VzZXMgb24gb2ZmZW5zZSBvciBkZWZlbnNlIGluIHRoZWlyIHRyYWluaW5nLiBDaG9vc2Ugb25lIG9mIHRoZSBmb2xsb3dpbmcgb3B0aW9uczpcIixcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiQXR0YWNrZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogXCJUaGUgc2lkZWtpY2sgZ2FpbnMgYSArIDIgYm9udXMgdG8gYWxsIGF0dGFjayByb2xscyAoYWxyZWFkeSBpbmNsdWRlZCkuXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJEZWZlbmRlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiBcIlRoZSBzaWRla2ljayBjYW4gdXNlIGl0cyByZWFjdGlvbiB0byBpbXBvc2UgZGlzYWR2YW50YWdlIG9uIHRoZSBhdHRhY2sgcm9sbCBvZiBhIGNyZWF0dXJlIHdpdGhpbiA1IGZlZXQgb2YgaXQgd2hvc2UgdGFyZ2V0IGlzbid0IHRoZSBzaWRla2ljaywgcHJvdmlkZWQgdGhlIHNpZGVraWNrIGNhbiBzZWUgdGhlIGF0dGFja2VyLlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogXCJyZWFjdGlvbnNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgbmJDaG9pY2VzOiAxXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdLFxyXG4gICAgICAgIDI6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJTZWNvbmQgV2luZFwiLFxyXG4gICAgICAgICAgICAgICAgZGVzYzogXCJPbmNlIHBlciBzaG9ydCBvciBsb25nIHJlc3QsIHRoZSBzaWRla2ljayBjYW4gdXNlIGEgYm9udXMgYWN0aW9uIG9uIGl0cyB0dXJuIHRvIHJlZ2FpbiBoaXQgcG9pbnRzIGVxdWFsIHRvIDFkMTAgKyBpdHMgbGV2ZWwgaW4gdGhpcyBjbGFzcy5cIixcclxuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBcImJvbnVzX2FjdGlvbnNcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXSxcclxuICAgICAgICAzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwiSW1wcm92ZWQgQ3JpdGljYWxcIixcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwiVGhlIHNpZGVraWNrJ3MgYXR0YWNrIHJvbGxzIHNjb3JlIGEgY3JpdGljYWwgaGl0IG9uIGEgcm9sbCBvZiAxOSBvciAyMCBvbiB0aGUgZDIwLlwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdLFxyXG4gICAgICAgIDQ6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJBYmlsaXR5IFNjb3JlIEltcHJvdmVtZW50XCIsXHJcbiAgICAgICAgICAgICAgICBkZXNjOiBcIlRoZSBzaWRla2ljayBpbmNyZWFzZXMgb25lIGFiaWxpdHkgc2NvcmUgb2YgeW91ciBjaG9pY2UgYnkgMiwgb3IgdGhlIHNpZGVraWNrIGluY3JlYXNlcyB0d28gYWJpbGl0eSBzY29yZXMgb2YgeW91ciBjaG9pY2UgYnkgMS4gVGhlIHNpZGVraWNrIGNhbid0IGluY3JlYXNlIGFuIGFiaWxpdHkgc2NvcmUgYWJvdmUgMjAgdXNpbmcgdGhpcyBmZWF0dXJlLlwiLFxyXG4gICAgICAgICAgICAgICAgb3B0aW9uczogW1xyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJXaWxsIGJlIGRldGVybWluZWQgYmFzZWQgb24gdGhlIHNpZGVraWNrJ3MgY3VycmVudCBhYmlsaXRpZXNcIiB9XHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgbmJDaG9pY2VzOiAyXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgXSxcclxuICAgICAgICA2OiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwiRXh0cmEgQXR0YWNrXCIsXHJcbiAgICAgICAgICAgICAgICBkZXNjOiBcIlRoZSBzaWRla2ljayBjYW4gYXR0YWNrIHR3aWNlLCBpbnN0ZWFkIG9mIG9uY2UsIHdoZW5ldmVyIGl0IHRha2VzIHRoZSBBdHRhY2sgYWN0aW9uIG9uIGl0cyB0dXJuLiBJZiB0aGUgc2lkZWtpY2sgaGFzIHRoZSBNdWx0aWF0dGFjayBhY3Rpb24sIGl0IGNhbiB1c2UgRXh0cmEgQXR0YWNrIG9yIE11bHRpYXR0YWNrIG9uIGEgdHVybiwgbm90IGJvdGguXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgNzogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcIkJhdHRsZSBSZWFkaW5lc3NcIixcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwiVGhlIHNpZGVraWNrIGhhcyBhZHZhbnRhZ2Ugb24gaW5pdGlhdGl2ZSByb2xscy5cIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXSxcclxuICAgICAgICA4OiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwiQWJpbGl0eSBTY29yZSBJbXByb3ZlbWVudFwiLFxyXG4gICAgICAgICAgICAgICAgZGVzYzogXCJUaGUgc2lkZWtpY2sgaW5jcmVhc2VzIG9uZSBhYmlsaXR5IHNjb3JlIG9mIHlvdXIgY2hvaWNlIGJ5IDIsIG9yIHRoZSBzaWRla2ljayBpbmNyZWFzZXMgdHdvIGFiaWxpdHkgc2NvcmVzIG9mIHlvdXIgY2hvaWNlIGJ5IDEuIFRoZSBzaWRla2ljayBjYW4ndCBpbmNyZWFzZSBhbiBhYmlsaXR5IHNjb3JlIGFib3ZlIDIwIHVzaW5nIHRoaXMgZmVhdHVyZS5cIixcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiV2lsbCBiZSBkZXRlcm1pbmVkIGJhc2VkIG9uIHRoZSBzaWRla2ljaydzIGN1cnJlbnQgYWJpbGl0aWVzXCIgfVxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIG5iQ2hvaWNlczogMlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXSxcclxuICAgICAgICAxMDogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcIkltcHJvdmVkIERlZmVuc2VcIixcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwiVGhlIHNpZGVraWNrJ3MgQXJtb3IgQ2xhc3MgaW5jcmVhc2VzIGJ5IDEgKGFscmVhZHkgaXVuY2x1ZGVkKS5cIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgMTE6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJJbmRvbWl0YWJsZVwiLFxyXG4gICAgICAgICAgICAgICAgZGVzYzogXCJPbmNlIHBlciBsb25nIHJlc3QsIHRoZSBzaWRla2ljayBjYW4gcmVyb2xsIGEgc2F2aW5nIHRocm93IHRoYXQgaXQgZmFpbHMsIGJ1dCBpdCBtdXN0IHVzZSB0aGUgbmV3IHJvbGwuXCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICBdLFxyXG4gICAgICAgIDEyOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwiQWJpbGl0eSBTY29yZSBJbXByb3ZlbWVudFwiLFxyXG4gICAgICAgICAgICAgICAgZGVzYzogXCJUaGUgc2lkZWtpY2sgaW5jcmVhc2VzIG9uZSBhYmlsaXR5IHNjb3JlIG9mIHlvdXIgY2hvaWNlIGJ5IDIsIG9yIHRoZSBzaWRla2ljayBpbmNyZWFzZXMgdHdvIGFiaWxpdHkgc2NvcmVzIG9mIHlvdXIgY2hvaWNlIGJ5IDEuIFRoZSBzaWRla2ljayBjYW4ndCBpbmNyZWFzZSBhbiBhYmlsaXR5IHNjb3JlIGFib3ZlIDIwIHVzaW5nIHRoaXMgZmVhdHVyZS5cIixcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwiV2lsbCBiZSBkZXRlcm1pbmVkIGJhc2VkIG9uIHRoZSBzaWRla2ljaydzIGN1cnJlbnQgYWJpbGl0aWVzXCIgfVxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIG5iQ2hvaWNlczogMlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXSxcclxuICAgICAgICAxNDogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcIkFiaWxpdHkgU2NvcmUgSW1wcm92ZW1lbnRcIixcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwiVGhlIHNpZGVraWNrIGluY3JlYXNlcyBvbmUgYWJpbGl0eSBzY29yZSBvZiB5b3VyIGNob2ljZSBieSAyLCBvciB0aGUgc2lkZWtpY2sgaW5jcmVhc2VzIHR3byBhYmlsaXR5IHNjb3JlcyBvZiB5b3VyIGNob2ljZSBieSAxLiBUaGUgc2lkZWtpY2sgY2FuJ3QgaW5jcmVhc2UgYW4gYWJpbGl0eSBzY29yZSBhYm92ZSAyMCB1c2luZyB0aGlzIGZlYXR1cmUuXCIsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIldpbGwgYmUgZGV0ZXJtaW5lZCBiYXNlZCBvbiB0aGUgc2lkZWtpY2sncyBjdXJyZW50IGFiaWxpdGllc1wiIH1cclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBuYkNob2ljZXM6IDJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgMTU6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJFeHRyYSBBdHRhY2tcIixcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwiVGhlIHNpZGVraWNrIGNhbiBhdHRhY2sgdGhyZWUgdGltZXMsIGluc3RlYWQgb2Ygb25jZSwgd2hlbmV2ZXIgaXQgdGFrZXMgdGhlIEF0dGFjayBhY3Rpb24gb24gaXRzIHR1cm4uIElmIHRoZSBzaWRla2ljayBoYXMgdGhlIE11bHRpYXR0YWNrIGFjdGlvbiwgaXQgY2FuIHVzZSBFeHRyYSBBdHRhY2sgb3IgTXVsdGlhdHRhY2sgb24gYSB0dXJuLCBub3QgYm90aC5cIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXSxcclxuICAgICAgICAxNjogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcIkFiaWxpdHkgU2NvcmUgSW1wcm92ZW1lbnRcIixcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwiVGhlIHNpZGVraWNrIGluY3JlYXNlcyBvbmUgYWJpbGl0eSBzY29yZSBvZiB5b3VyIGNob2ljZSBieSAyLCBvciB0aGUgc2lkZWtpY2sgaW5jcmVhc2VzIHR3byBhYmlsaXR5IHNjb3JlcyBvZiB5b3VyIGNob2ljZSBieSAxLiBUaGUgc2lkZWtpY2sgY2FuJ3QgaW5jcmVhc2UgYW4gYWJpbGl0eSBzY29yZSBhYm92ZSAyMCB1c2luZyB0aGlzIGZlYXR1cmUuXCIsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIldpbGwgYmUgZGV0ZXJtaW5lZCBiYXNlZCBvbiB0aGUgc2lkZWtpY2sncyBjdXJyZW50IGFiaWxpdGllc1wiIH1cclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBuYkNob2ljZXM6IDJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgMTg6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJJbmRvbWl0YWJsZVwiLFxyXG4gICAgICAgICAgICAgICAgZGVzYzogXCJUd2ljZSBwZXIgbG9uZyByZXN0LCB0aGUgc2lkZWtpY2sgY2FuIHJlcm9sbCBhIHNhdmluZyB0aHJvdyB0aGF0IGl0IGZhaWxzLCBidXQgaXQgbXVzdCB1c2UgdGhlIG5ldyByb2xsLlwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgXSxcclxuICAgICAgICAxOTogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcIkFiaWxpdHkgU2NvcmUgSW1wcm92ZW1lbnRcIixcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwiVGhlIHNpZGVraWNrIGluY3JlYXNlcyBvbmUgYWJpbGl0eSBzY29yZSBvZiB5b3VyIGNob2ljZSBieSAyLCBvciB0aGUgc2lkZWtpY2sgaW5jcmVhc2VzIHR3byBhYmlsaXR5IHNjb3JlcyBvZiB5b3VyIGNob2ljZSBieSAxLiBUaGUgc2lkZWtpY2sgY2FuJ3QgaW5jcmVhc2UgYW4gYWJpbGl0eSBzY29yZSBhYm92ZSAyMCB1c2luZyB0aGlzIGZlYXR1cmUuXCIsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIldpbGwgYmUgZGV0ZXJtaW5lZCBiYXNlZCBvbiB0aGUgc2lkZWtpY2sncyBjdXJyZW50IGFiaWxpdGllc1wiIH1cclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBuYkNob2ljZXM6IDJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgMjA6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJTZWNvbmQgV2luZFwiLFxyXG4gICAgICAgICAgICAgICAgZGVzYzogXCJUd2ljZSBwZXIgc2hvcnQgb3IgbG9uZyByZXN0LCB0aGUgc2lkZWtpY2sgY2FuIHVzZSBhIGJvbnVzIGFjdGlvbiBvbiBpdHMgdHVybiB0byByZWdhaW4gaGl0IHBvaW50cyBlcXVhbCB0byAxZDEwICsgaXRzIGxldmVsIGluIHRoaXMgY2xhc3MuXCIsXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogXCJib251c19hY3Rpb25zXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF0sXHJcbiAgICB9O1xyXG59IiwgImltcG9ydCB7IEFwcCB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IHsgTGV2ZWxTZWxlY3RNb2RhbCwgQ2xhc3NTZWxlY3RNb2RhbCwgT3B0aW9uU2VsZWN0TW9kYWwsIE5hbWVJbnB1dE1vZGFsLCBGb2xkZXJTZWxlY3RNb2RhbCB9IGZyb20gJy4vbW9kYWxzJztcclxuaW1wb3J0IHsgU2lkZWtpY2tDbGFzcyB9IGZyb20gJ3NpZGVraWNrcy9jbGFzc2VzJztcclxuaW1wb3J0IHtGZWF0dXJlLCBPcHRpb259IGZyb20gJy4uL3N0YXRibG9ja3Mvc3RhdGJsb2NrcydcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzaG93TGV2ZWxTZWxlY3RNb2RhbChhcHA6IEFwcCk6IFByb21pc2U8bnVtYmVyPiB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICBjb25zdCBtb2RhbCA9IG5ldyBMZXZlbFNlbGVjdE1vZGFsKGFwcCwgcmVzb2x2ZSk7XHJcbiAgICAgICAgbW9kYWwub3BlbigpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzaG93Q2xhc3NTZWxlY3RNb2RhbChhcHA6IEFwcCk6IFByb21pc2U8U2lkZWtpY2tDbGFzcz4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG1vZGFsID0gbmV3IENsYXNzU2VsZWN0TW9kYWwoYXBwLCByZXNvbHZlKTtcclxuICAgICAgICBtb2RhbC5vcGVuKCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNob3dPcHRpb25TZWxlY3RNb2RhbChhcHA6IEFwcCwgZmVhdHVyZTogRmVhdHVyZSwgY2hvaWNlSW5kZXg6IG51bWJlciwgbWF4Q2hvaWNlczogbnVtYmVyKTogUHJvbWlzZTxPcHRpb24+IHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG1vZGFsID0gbmV3IE9wdGlvblNlbGVjdE1vZGFsKGFwcCwgZmVhdHVyZSwgcmVzb2x2ZSwgY2hvaWNlSW5kZXgsIG1heENob2ljZXMpO1xyXG4gICAgICAgIG1vZGFsLm9wZW4oKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2hvd05hbWVJbnB1dE1vZGFsKGFwcDogQXBwKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICBjb25zdCBtb2RhbCA9IG5ldyBOYW1lSW5wdXRNb2RhbChhcHAsIHJlc29sdmUpO1xyXG4gICAgICAgIG1vZGFsLm9wZW4oKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vLyBub3QgZnVsbHkgaW1wbGVtZW50ZWQgeWV0XHJcbmV4cG9ydCBmdW5jdGlvbiBzaG93Rm9sZGVyU2VsZWN0TW9kYWwoYXBwOiBBcHApOiBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD4ge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1vZGFsID0gbmV3IEZvbGRlclNlbGVjdE1vZGFsKGFwcCwgcmVzb2x2ZSk7XHJcbiAgICAgIG1vZGFsLm9wZW4oKTtcclxuICAgIH0pO1xyXG4gIH0iLCAiaW1wb3J0IHsgTm90aWNlLCBub3JtYWxpemVQYXRoLCBwYXJzZVlhbWwsIHN0cmluZ2lmeVlhbWwgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IHNob3dOYW1lSW5wdXRNb2RhbCwgc2hvd0ZvbGRlclNlbGVjdE1vZGFsIH0gZnJvbSAnbW9kYWxzL3Nob3cnO1xyXG5pbXBvcnQgU3RhdGJsb2NrU2lkZWtpY2sgZnJvbSAnLi4vbWFpbic7XHJcblxyXG5leHBvcnQgdHlwZSBBYmlsaXR5ID0gXCJzdHJlbmd0aFwiIHwgXCJkZXh0ZXJpdHlcIiB8IFwiY29uc3RpdHV0aW9uXCIgfCBcImludGVsbGlnZW5jZVwiIHwgXCJ3aXNkb21cIiB8IFwiY2hhcmlzbWFcIjtcclxuZXhwb3J0IHR5cGUgU2tpbGwgPSBzdHJpbmc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFByb2ZpY2llbmNpZXMge1xyXG4gICAgW2tleTogc3RyaW5nXTogbnVtYmVyIHwgdW5kZWZpbmVkO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWJpbGl0eUZvclNraWxsKHNraWxsOiBTa2lsbCk6IEFiaWxpdHkge1xyXG4gICAgY29uc3Qgc2tpbGxUb0FiaWxpdHlNYXA6IFJlY29yZDxTa2lsbCwgQWJpbGl0eT4gPSB7XHJcbiAgICAgICAgYWNyb2JhdGljczogJ2RleHRlcml0eScsXHJcbiAgICAgICAgYW5pbWFsX2hhbmRsaW5nOiAnd2lzZG9tJyxcclxuICAgICAgICBhcmNhbmE6ICdpbnRlbGxpZ2VuY2UnLFxyXG4gICAgICAgIGF0aGxldGljczogJ3N0cmVuZ3RoJyxcclxuICAgICAgICBkZWNlcHRpb246ICdjaGFyaXNtYScsXHJcbiAgICAgICAgaGlzdG9yeTogJ2ludGVsbGlnZW5jZScsXHJcbiAgICAgICAgaW5zaWdodDogJ3dpc2RvbScsXHJcbiAgICAgICAgaW50aW1pZGF0aW9uOiAnY2hhcmlzbWEnLFxyXG4gICAgICAgIGludmVzdGlnYXRpb246ICdpbnRlbGxpZ2VuY2UnLFxyXG4gICAgICAgIG1lZGljaW5lOiAnd2lzZG9tJyxcclxuICAgICAgICBuYXR1cmU6ICdpbnRlbGxpZ2VuY2UnLFxyXG4gICAgICAgIHBlcmNlcHRpb246ICd3aXNkb20nLFxyXG4gICAgICAgIHBlcmZvcm1hbmNlOiAnY2hhcmlzbWEnLFxyXG4gICAgICAgIHBlcnN1YXNpb246ICdjaGFyaXNtYScsXHJcbiAgICAgICAgcmVsaWdpb246ICdpbnRlbGxpZ2VuY2UnLFxyXG4gICAgICAgIHNsZWlnaHRfb2ZfaGFuZDogJ2RleHRlcml0eScsXHJcbiAgICAgICAgc3RlYWx0aDogJ2RleHRlcml0eScsXHJcbiAgICAgICAgc3Vydml2YWw6ICd3aXNkb20nXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IG5vcm1hbGl6ZWRTa2lsbCA9IHNraWxsLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvIC9nLCAnXycpOyAvLyBOb3JtYWxpemUgaW5wdXRcclxuXHJcbiAgICAvLyBDaGVjayBpZiB0aGUgc2tpbGwgZXhpc3RzIGluIHRoZSBtYXBcclxuICAgIGlmIChza2lsbFRvQWJpbGl0eU1hcFtub3JtYWxpemVkU2tpbGxdKSB7XHJcbiAgICAgICAgcmV0dXJuIHNraWxsVG9BYmlsaXR5TWFwW25vcm1hbGl6ZWRTa2lsbF07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQWJpbGl0eSBub3QgZm91bmQgZm9yIHNraWxsOiAke3NraWxsfWApO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRyYWl0IHtcclxuICAgIG5hbWU6IHN0cmluZztcclxuICAgIGRlc2M6IHN0cmluZztcclxuICAgIHRyYWl0cz86IFRyYWl0W107XHJcbiAgICBba2V5OiBzdHJpbmddOiBhbnk7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRmVhdHVyZSB7XHJcbiAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICBkZXNjOiBzdHJpbmc7XHJcbiAgICBjYXRlZ29yeT86IHN0cmluZztcclxuICAgIG9wdGlvbnM/OiBPcHRpb25bXTtcclxuICAgIG5iQ2hvaWNlcz86IG51bWJlcjtcclxuICAgIGNvbmRpdGlvbnM/OiBzdHJpbmdbXVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE9wdGlvbiB7XHJcbiAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICBkZXNjPzogc3RyaW5nO1xyXG4gICAgY2F0ZWdvcnk/OiBzdHJpbmdcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgU3BlbGwgPSBzdHJpbmcgfCB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0YXRibG9jayB7XHJcbiAgICBpbWFnZT86IHN0cmluZztcclxuICAgIG5hbWU/OiBzdHJpbmc7XHJcbiAgICBzaXplPzogc3RyaW5nO1xyXG4gICAgdHlwZT86IHN0cmluZztcclxuICAgIHN1YnR5cGU/OiBzdHJpbmc7XHJcbiAgICBhbGlnbm1lbnQ/OiBzdHJpbmc7XHJcbiAgICBhYz86IHN0cmluZyB8IG51bWJlcjtcclxuICAgIGhwPzogbnVtYmVyO1xyXG4gICAgaGl0X2RpY2U6IHN0cmluZztcclxuICAgIHNwZWVkPzogc3RyaW5nO1xyXG4gICAgc3RhdHM6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcclxuICAgIHNhdmVzPzogeyBbSyBpbiBBYmlsaXR5XT86IG51bWJlciB9O1xyXG4gICAgc2tpbGxzYXZlcz86IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH07XHJcbiAgICBkYW1hZ2VfdnVsbmVyYWJpbGl0aWVzPzogc3RyaW5nO1xyXG4gICAgZGFtYWdlX3Jlc2lzdGFuY2VzPzogc3RyaW5nO1xyXG4gICAgZGFtYWdlX2ltbXVuaXRpZXM/OiBzdHJpbmc7XHJcbiAgICBjb25kaXRpb25faW1tdW5pdGllcz86IHN0cmluZztcclxuICAgIHNlbnNlcz86IHN0cmluZztcclxuICAgIGxhbmd1YWdlcz86IHN0cmluZztcclxuICAgIGNyOiBzdHJpbmcgfCBudW1iZXI7XHJcbiAgICB0cmFpdHM/OiBUcmFpdFtdO1xyXG4gICAgc3BlbGxzPzogU3BlbGxbXTtcclxuICAgIGFjdGlvbnM/OiBUcmFpdFtdO1xyXG4gICAgYm9udXNfYWN0aW9ucz86IFRyYWl0W107XHJcbiAgICBsZWdlbmRhcnlfYWN0aW9ucz86IFRyYWl0W107XHJcbiAgICBsZWdlbmRhcnlfZGVzY3JpcHRpb24/OiBzdHJpbmc7XHJcbiAgICBteXRoaWNfYWN0aW9ucz86IFRyYWl0W107XHJcbiAgICBteXRoaWNfZGVzY3JpcHRpb24/OiBzdHJpbmc7XHJcbiAgICByZWFjdGlvbnM/OiBUcmFpdFtdO1xyXG4gICAgbGFpcl9hY3Rpb25zPzogVHJhaXRbXTtcclxuICAgIHNvdXJjZT86IHN0cmluZyB8IHN0cmluZ1tdO1xyXG4gICAgc3BlbGxzTm90ZXM/OiBzdHJpbmc7XHJcbiAgICBcInN0YXRibG9jay1saW5rXCI/OiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZGF0YTogYW55KSB7XHJcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBkYXRhKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHR5cGUgQ2F0ZWdvcnlLZXkgPSB7XHJcbiAgICBbS2V5IGluIGtleW9mIFN0YXRibG9ja106IFN0YXRibG9ja1tLZXldIGV4dGVuZHMgVHJhaXRbXSA/IEtleSA6IG5ldmVyXHJcbn1ba2V5b2YgU3RhdGJsb2NrXTsgXHJcblxyXG4vLyBGdW5jdGlvbiB0byBleHRyYWN0IGEgU3RhdGJsb2NrIGZyb20gbWFya2Rvd24gY29udGVudFxyXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdFN0YXRibG9jayhub3RlQ29udGVudDogc3RyaW5nKTogU3RhdGJsb2NrIHwgbnVsbCB7XHJcbiAgICBjb25zdCByZWdleCA9IC9gYGBzdGF0YmxvY2tcXG4oW1xcc1xcU10rPylcXG5gYGAvO1xyXG4gICAgY29uc3QgbWF0Y2ggPSBub3RlQ29udGVudC5tYXRjaChyZWdleCk7XHJcbiAgICBpZiAobWF0Y2ggJiYgbWF0Y2hbMV0pIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gcGFyc2VZYW1sKG1hdGNoWzFdKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3RhdGJsb2NrKGRhdGEpXHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIFlBTUw6XCIsIGUpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJObyBzdGF0YmxvY2sgZm91bmRcIik7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIEZ1bmN0aW9uIHRvIGZvcm1hdCBhIFN0YXRibG9jayBhcyBtYXJrZG93biB0ZXh0XHJcbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRTdGF0YmxvY2tBc1RleHQoc3RhdGJsb2NrOiBTdGF0YmxvY2spOiBzdHJpbmcge1xyXG4gICAgY29uc3QgeWFtbENvbnRlbnQgPSBzdHJpbmdpZnlZYW1sKHN0YXRibG9jayk7XHJcbiAgICByZXR1cm4gYFxcblxcYFxcYFxcYHN0YXRibG9ja1xcbiR7eWFtbENvbnRlbnR9XFxuXFxgXFxgXFxgYDtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhdmVTdGF0YmxvY2tUb0ZpbGUocGx1Z2luOiBTdGF0YmxvY2tTaWRla2ljaywgY29udGVudDogc3RyaW5nLCBuYW1lOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IHsgc2V0dGluZ3MgfSA9IHBsdWdpbjtcclxuICAgIGxldCBmb2xkZXJQYXRoOiBzdHJpbmc7XHJcbiAgICBzd2l0Y2ggKHNldHRpbmdzLnNhdmVNb2RlKSB7XHJcbiAgICAgICAgY2FzZSAnc2FtZUZvbGRlcic6XHJcbiAgICAgICAgZm9sZGVyUGF0aCA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCkucGFyZW50LnBhdGg7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnZGVmYXVsdEZvbGRlcic6XHJcbiAgICAgICAgZm9sZGVyUGF0aCA9IG5vcm1hbGl6ZVBhdGgoc2V0dGluZ3Muc2F2ZUZvbGRlcik7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAncHJvbXB0Rm9sZGVyJzogICAgICAgICAvLyBub3QgZnVsbHkgaW1wbGVtZW50ZWQgeWV0XHJcbiAgICAgICAgY29uc3QgRm9sZGVyID0gYXdhaXQgc2hvd0ZvbGRlclNlbGVjdE1vZGFsKHBsdWdpbi5hcHApO1xyXG4gICAgICAgIGlmICghRm9sZGVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9sZGVyUGF0aCA9IEZvbGRlcjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgIG5ldyBOb3RpY2UoJ0ludmFsaWQgc2F2ZSBtb2RlIHNldHRpbmcuJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGZvbGRlciBleGlzdHMsIGFuZCBjcmVhdGUgaXQgaWYgaXQgZG9lc24ndFxyXG4gICAgICAgIGNvbnN0IGV4aXN0cyA9IGF3YWl0IHBsdWdpbi5hcHAudmF1bHQuYWRhcHRlci5leGlzdHMoZm9sZGVyUGF0aCk7XHJcbiAgICAgICAgaWYgKCFleGlzdHMpIHtcclxuICAgICAgICAgICAgYXdhaXQgcGx1Z2luLmFwcC52YXVsdC5jcmVhdGVGb2xkZXIoZm9sZGVyUGF0aCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgZmlsZU5hbWUgPSBgJHtuYW1lfWA7XHJcbiAgICAgICAgY29uc3QgZmlsZVBhdGggPSBgJHtmb2xkZXJQYXRofS8ke2ZpbGVOYW1lfWA7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBmaWxlIGFscmVhZHkgZXhpc3RzXHJcbiAgICAgICAgY29uc3QgZmlsZUV4aXN0cyA9IGF3YWl0IHBsdWdpbi5hcHAudmF1bHQuYWRhcHRlci5leGlzdHMoZmlsZVBhdGgpO1xyXG5cclxuICAgICAgICBpZiAoZmlsZUV4aXN0cykge1xyXG4gICAgICAgICAgICAvLyBJZiB0aGUgZmlsZSBhbHJlYWR5IGV4aXN0cywgc2hvdyB0aGUgTmFtZUlucHV0TW9kYWwgYWdhaW5cclxuICAgICAgICAgICAgbGV0IG5ld0ZpbGVOYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtb2RhbFJlc3VsdCA9IGF3YWl0IHNob3dOYW1lSW5wdXRNb2RhbChwbHVnaW4uYXBwKTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbW9kYWxSZXN1bHQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3RmlsZU5hbWUgPSBtb2RhbFJlc3VsdDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVXNlciBjYW5jZWxsZWQgdGhlIG1vZGFsLCByZXR1cm4gd2l0aG91dCBzYXZpbmdcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFuZXdGaWxlTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZXIgZW50ZXJlZCBhbiBlbXB0eSBzdHJpbmcsIHJldHVybiB3aXRob3V0IHNhdmluZ1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmaWxlTmFtZSA9IGAke25ld0ZpbGVOYW1lfS5tZGA7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdGaWxlUGF0aCA9IGAke2ZvbGRlclBhdGh9LyR7ZmlsZU5hbWV9YDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0ZpbGVFeGlzdHMgPSBhd2FpdCBwbHVnaW4uYXBwLnZhdWx0LmFkYXB0ZXIuZXhpc3RzKG5ld0ZpbGVQYXRoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIW5ld0ZpbGVFeGlzdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBGb3VuZCBhIHVuaXF1ZSBmaWxlIG5hbWUsIGJyZWFrIG91dCBvZiB0aGUgbG9vcFxyXG4gICAgICAgICAgICAgICAgICAgIG5hbWUgPSBuZXdGaWxlTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IE5vdGljZShgRmlsZSAke25ld0ZpbGVOYW1lfS5tZCBhbHJlYWR5IGV4aXN0cy4gUGxlYXNlIGNob29zZSBhIGRpZmZlcmVudCBuYW1lLmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDcmVhdGUgbmV3IGZpbGUgd2l0aCB0aGUgdXBkYXRlZCBjb250ZW50XHJcbiAgICAgICAgYXdhaXQgcGx1Z2luLmFwcC52YXVsdC5jcmVhdGUoZmlsZVBhdGgsIGNvbnRlbnQpO1xyXG4gICAgICAgIC8vIG5ldyBOb3RpY2UoYFNpZGVraWNrIHNhdmVkIGFzICR7ZmlsZU5hbWV9YCk7XHJcbiAgICAgICAgcGx1Z2luLmFwcC53b3Jrc3BhY2Uub3BlbkxpbmtUZXh0KGZpbGVOYW1lLCBmaWxlUGF0aCwgdHJ1ZSwgeyBhY3RpdmU6IHRydWUgfSk7XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHNhdmUgdGhlIGZpbGU6XCIsIGVycm9yKTtcclxuICAgICAgICBuZXcgTm90aWNlKFwiRXJyb3Igc2F2aW5nIHRoZSBzaWRla2lja1wiKTtcclxuICAgIH1cclxufSIsICIvLyBJbXBvcnRzIGZyb20geW91ciBleGlzdGluZyBtb2R1bGVzXHJcbmltcG9ydCB7IEFiaWxpdHksIFByb2ZpY2llbmNpZXMsIFN0YXRibG9jaywgZ2V0QWJpbGl0eUZvclNraWxsIH0gZnJvbSAnLi4vc3RhdGJsb2Nrcy9zdGF0YmxvY2tzJztcclxuaW1wb3J0IHsgU2lkZWtpY2tDbGFzcyB9IGZyb20gJy4vY2xhc3Nlcyc7XHJcbmltcG9ydCB7IEFiaWxpdGllcywgUHJvZmljaWVuY3ksIEF0dGFjayB9IGZyb20gJy4uL3N0YXRibG9ja3MvY29tcG9uZW50cyc7XHJcbmltcG9ydCB7IEZlYXR1cmUsIE9wdGlvbiwgVHJhaXQgfSBmcm9tICcuLi9zdGF0YmxvY2tzL3N0YXRibG9ja3MnO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBDbGFzcyB0byByZXByZXNlbnQgYSBEJkQgNWUgU2lkZWtpY2sgYmFzZWQgb24gVENvRSBydWxlcy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBTaWRla2ljayB7XHJcbiAgICBzdGF0YmxvY2s6IFN0YXRibG9jaztcclxuICAgIHNpZGVraWNrQ2xhc3M6IFNpZGVraWNrQ2xhc3M7XHJcbiAgICBsZXZlbDogbnVtYmVyO1xyXG4gICAgZXhwZXJ0aXNlU2tpbGxzOiBzdHJpbmdbXTsgXHJcblxyXG4gICAgY29uc3RydWN0b3Ioc3RhdGJsb2NrOiBTdGF0YmxvY2ssIHNpZGVraWNrQ2xhc3M6IFNpZGVraWNrQ2xhc3MsIGxldmVsOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnN0YXRibG9jayA9IHN0YXRibG9jaztcclxuICAgICAgICB0aGlzLnNpZGVraWNrQ2xhc3MgPSBzaWRla2lja0NsYXNzO1xyXG4gICAgICAgIHRoaXMubGV2ZWwgPSBsZXZlbDtcclxuICAgIH1cclxuXHJcbiAgICAvLyByZWltcGxlbWVudGF0aW9uIHdpdGggQXR0YWNrIGNsYXNzXHJcbiAgICBjaGVja0NvbmRpdGlvbihjb25kaXRpb246IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHN3aXRjaCAoY29uZGl0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJodW1hbm9pZFwiOlxyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnN0YXRibG9jay50eXBlKSB7IHJldHVybiBmYWxzZTsgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSByZXR1cm4gdGhpcy5zdGF0YmxvY2sudHlwZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiaHVtYW5vaWRcIik7XHJcbiAgICAgICAgICAgIGNhc2UgXCJzaW1wbGUgd2VhcG9uXCI6XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc3RhdGJsb2NrLmFjdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNpbXBsZUF0dGFja3MgPSB0aGlzLnN0YXRibG9jay5hY3Rpb25zXHJcbiAgICAgICAgICAgICAgICAgICAgLm1hcChhY3Rpb24gPT4gbmV3IEF0dGFjayhhY3Rpb24pKVxyXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoYXR0YWNrID0+IGF0dGFjay5pc0F0dGFjayAmJiBhdHRhY2suaXNTaW1wbGVXZWFwb24pO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2ltcGxlQXR0YWNrcy5sZW5ndGggPiAwO1xyXG4gICAgICAgICAgICBjYXNlIFwibWFydGlhbCB3ZWFwb25cIjpcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5zdGF0YmxvY2suYWN0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgY29uc3QgbWFydGlhbEF0dGFja3MgPSB0aGlzLnN0YXRibG9jay5hY3Rpb25zXHJcbiAgICAgICAgICAgICAgICAgICAgLm1hcChhY3Rpb24gPT4gbmV3IEF0dGFjayhhY3Rpb24pKVxyXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoYXR0YWNrID0+IGF0dGFjay5pc0F0dGFjayAmJiBhdHRhY2suaXNNYXJ0aWFsV2VhcG9uKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hcnRpYWxBdHRhY2tzLmxlbmd0aCA+IDA7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldE9wdGlvbnMoZmVhdHVyZTogRmVhdHVyZSk6IE9wdGlvbltdIHtcclxuICAgICAgICBpZiAoIWZlYXR1cmUub3B0aW9ucykgeyByZXR1cm4gW107IH1cclxuICAgICAgICBzd2l0Y2ggKGZlYXR1cmUubmFtZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiU2F2aW5nIFRocm93IFByb2ZpY2llbmN5XCI6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0YmxvY2sgJiYgdGhpcy5zdGF0YmxvY2suc2F2ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZXhpc3RpbmdTYXZlczogc3RyaW5nW107XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5zdGF0YmxvY2suc2F2ZXMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nU2F2ZXMgPSB0aGlzLnN0YXRibG9jay5zYXZlcy5tYXAoc2F2ZSA9PiBPYmplY3Qua2V5cyhzYXZlKVswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdTYXZlcyA9IE9iamVjdC5rZXlzKHRoaXMuc3RhdGJsb2NrLnNhdmVzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZlYXR1cmUub3B0aW9ucy5maWx0ZXIob3B0aW9uID0+ICFleGlzdGluZ1NhdmVzLmluY2x1ZGVzKG9wdGlvbi5uYW1lKVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmVhdHVyZS5vcHRpb25zO1xyXG4gICAgICAgICAgICBjYXNlIFwiU2tpbGwgUHJvZmljaWVuY2llc1wiOlxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGJsb2NrICYmIHRoaXMuc3RhdGJsb2NrLnNraWxsc2F2ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZXhpc3RpbmdTa2lsbHM6IHN0cmluZ1tdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuc3RhdGJsb2NrLnNraWxsc2F2ZXMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nU2tpbGxzID0gdGhpcy5zdGF0YmxvY2suc2tpbGxzYXZlcy5tYXAoc2tpbGwgPT4gT2JqZWN0LmtleXMoc2tpbGwpWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZ1NraWxscyA9IE9iamVjdC5rZXlzKHRoaXMuc3RhdGJsb2NrLnNraWxsc2F2ZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmVhdHVyZS5vcHRpb25zLmZpbHRlcihvcHRpb24gPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgIWV4aXN0aW5nU2tpbGxzLmluY2x1ZGVzKG9wdGlvbi5uYW1lKVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmVhdHVyZS5vcHRpb25zO1xyXG4gICAgICAgICAgICBjYXNlIFwiVG9vbCBQcm9maWNpZW5jaWVzXCI6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0YmxvY2sgJiYgdGhpcy5zdGF0YmxvY2sudHJhaXRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdQcm9mU3RyaW5nID0gdGhpcy5zdGF0YmxvY2sudHJhaXRzLmZpbmQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICh0cmFpdCkgPT4gdHJhaXQubmFtZSA9PT0gXCJFcXVpcG1lbnQgUHJvZmljaWVuY2llc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgKT8uZGVzYy5zcGxpdChcIndpdGhcIilbMV0uc2xpY2UoMCwgLTEpOztcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ1Byb2ZMaXN0ID0gZXhpc3RpbmdQcm9mU3RyaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gZXhpc3RpbmdQcm9mU3RyaW5nLnNwbGl0KFwiLCBcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBbXTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmVhdHVyZS5vcHRpb25zLmZpbHRlcihcclxuICAgICAgICAgICAgICAgICAgICAgICAgKG9wdGlvbikgPT4gIWV4aXN0aW5nUHJvZkxpc3QuaW5jbHVkZXMob3B0aW9uLm5hbWUpXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBmZWF0dXJlLm9wdGlvbnM7XHJcbiAgICAgICAgICAgIGNhc2UgXCJFeHBlcnRpc2VcIjpcclxuICAgICAgICAgICAgICAgIC8vIEZpbHRlciBvdXQgc2tpbGxzIHdoZXJlIHRoZSBzaWRla2ljayBhbHJlYWR5IGhhcyBFeHBlcnRpc2VcclxuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nRXhwZXJ0aXNlU2tpbGxzID0gbmV3IFNldCh0aGlzLmV4cGVydGlzZVNraWxscyB8fCBbXSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0YmxvY2suc2tpbGxzYXZlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLnN0YXRibG9jay5za2lsbHNhdmVzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKHNraWxsID0+ICFleGlzdGluZ0V4cGVydGlzZVNraWxscy5oYXMoc2tpbGwpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKHNraWxsID0+ICh7IG5hbWU6IHNraWxsIH0pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICAgICAgY2FzZSBcIkFiaWxpdHkgU2NvcmUgSW1wcm92ZW1lbnRcIjpcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFiaWxpdGllcyA9IEFiaWxpdGllcy5mcm9tQXJyYXkodGhpcy5zdGF0YmxvY2suc3RhdHMpO1xyXG4gICAgICAgICAgICAgICAgZmVhdHVyZS5vcHRpb25zID0gW107XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoYWJpbGl0aWVzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDIwKSB7IC8vIENoZWNrIGlmIHRoZSBhYmlsaXR5IHNjb3JlIGlzIGxlc3MgdGhhbiAyMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhYmlsaXR5TmFtZSA9IGtleS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGtleS5zbGljZSgxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWJpbGl0eU1vZCA9IEFiaWxpdGllcy5jYWxjdWxhdGVNb2RpZmllcih2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZFNpZ24gPSBhYmlsaXR5TW9kID49IDAgPyBcIitcIiA6IFwiLVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmZWF0dXJlLm9wdGlvbnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBhYmlsaXR5TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6IGAke3ZhbHVlfSAoJHttb2RTaWdufSR7TWF0aC5hYnMoYWJpbGl0eU1vZCl9KWBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZlYXR1cmUub3B0aW9ucztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIC8vIFJldHVybiB0aGUgZXhpc3Rpbmcgb3B0aW9ucyBpZiBhbnksIG90aGVyd2lzZSByZXR1cm4gYW4gZW1wdHkgYXJyYXlcclxuICAgICAgICAgICAgICAgIHJldHVybiBmZWF0dXJlLm9wdGlvbnM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIE1ldGhvZCB0byBhcHBseSBmZWF0dXJlcyB0byB0aGUgc3RhdGJsb2NrXHJcbiAgICBhcHBseUZlYXR1cmUoZmVhdHVyZTogRmVhdHVyZSwgY2hvaWNlPzogT3B0aW9uKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgcHJvZmljaWVuY3lCb251cyA9IFByb2ZpY2llbmN5LmNhbGN1bGF0ZVBCKHRoaXMubGV2ZWwpOyAvLyBDYWxjdWxhdGUgYmFzZWQgb24gY3VycmVudCBsZXZlbFxyXG4gICAgICAgIGNvbnN0IGFiaWxpdGllcyA9IEFiaWxpdGllcy5mcm9tQXJyYXkodGhpcy5zdGF0YmxvY2suc3RhdHMpO1xyXG4gICAgICAgIHN3aXRjaCAoZmVhdHVyZS5uYW1lKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJTYXZpbmcgVGhyb3cgUHJvZmljaWVuY3lcIjpcclxuICAgICAgICAgICAgY2FzZSBcIlNoYXJwIE1pbmRcIjpcclxuICAgICAgICAgICAgICAgIGlmIChjaG9pY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc3RhdGJsb2NrLnNhdmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGJsb2NrLnNhdmVzID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFiaWxpdHlLZXkgPSBjaG9pY2UubmFtZS50b0xvd2VyQ2FzZSgpIGFzIEFiaWxpdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgYWJpbGl0eVNjb3JlID0gYWJpbGl0aWVzW2FiaWxpdHlLZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IGFiaWxpdHlNb2QgPSBBYmlsaXRpZXMuY2FsY3VsYXRlTW9kaWZpZXIoYWJpbGl0eVNjb3JlKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRibG9jay5zYXZlc1thYmlsaXR5S2V5XSA9IDA7Ly9hYmlsaXR5TW9kICsgcHJvZmljaWVuY3lCb251cztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiU2tpbGwgUHJvZmljaWVuY2llc1wiOlxyXG4gICAgICAgICAgICAgICAgaWYgKGNob2ljZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5zdGF0YmxvY2suc2tpbGxzYXZlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRibG9jay5za2lsbHNhdmVzID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGJsb2NrLnNraWxsc2F2ZXNbY2hvaWNlLm5hbWVdID0gMCBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiVG9vbCBQcm9maWNpZW5jaWVzXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCJBcm1vciBQcm9maWNpZW5jeVwiOlxyXG4gICAgICAgICAgICBjYXNlIFwiU2hpZWxkIFByb2ZpY2llbmN5XCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCJXZWFwb24gUHJvZmljaWVuY3lcIjpcclxuICAgICAgICAgICAgICAgIGxldCBlcXVpcG1lbnQgPSBcIlwiXHJcbiAgICAgICAgICAgICAgICBpZiAoY2hvaWNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXF1aXBtZW50ID0gY2hvaWNlLm5hbWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGVxdWlwbWVudCA9IGZlYXR1cmUuZGVzY1xyXG4gICAgICAgICAgICAgICAgfSAgXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0YmxvY2sgJiYgdGhpcy5zdGF0YmxvY2sudHJhaXRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdFcXVpcG1lbnRQcm9maWNpZW5jaWVzID0gdGhpcy5zdGF0YmxvY2sudHJhaXRzLmZpbmQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICh0cmFpdCkgPT4gdHJhaXQubmFtZSA9PT0gXCJFcXVpcG1lbnQgUHJvZmljaWVuY2llc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdFcXVpcG1lbnRQcm9maWNpZW5jaWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nRXF1aXBtZW50UHJvZmljaWVuY2llcy5kZXNjID0gZXhpc3RpbmdFcXVpcG1lbnRQcm9maWNpZW5jaWVzLmRlc2MucmVwbGFjZSgnLicsICcsICcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZ0VxdWlwbWVudFByb2ZpY2llbmNpZXMuZGVzYyArPSBgJHtlcXVpcG1lbnR9LmA7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0YmxvY2sudHJhaXRzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJFcXVpcG1lbnQgUHJvZmljaWVuY2llc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogYFRoZSBzaWRla2ljayBoYXMgcHJvZmljaWVuY3kgd2l0aCAke2VxdWlwbWVudH0uYCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7IFxyXG4gICAgICAgICAgICBjYXNlIFwiRXhwZXJ0aXNlXCI6XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hvaWNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmV4cGVydGlzZVNraWxscykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV4cGVydGlzZVNraWxscyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmV4cGVydGlzZVNraWxscy5wdXNoKGNob2ljZS5uYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiQWJpbGl0eSBTY29yZSBJbXByb3ZlbWVudFwiOlxyXG4gICAgICAgICAgICAgICAgaWYgKGNob2ljZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFiaWxpdHlOYW1lID0gY2hvaWNlLm5hbWUudG9Mb3dlckNhc2UoKSBhcyBBYmlsaXR5O1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFiaWxpdGllcyA9IG5ldyBBYmlsaXRpZXMoLi4udGhpcy5zdGF0YmxvY2suc3RhdHMpOyAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBPYmplY3Qua2V5cyhhYmlsaXRpZXMpLmluZGV4T2YoYWJpbGl0eU5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGJsb2NrLnN0YXRzW2luZGV4XSA9IGFiaWxpdGllc1thYmlsaXR5TmFtZV0gKz0gMTsgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7ICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjYXNlIFwiTWFydGlhbCBSb2xlXCI6XHJcbiAgICAgICAgICAgICAgICBpZiAoIWNob2ljZSkgeyByZXR1cm4gfVxyXG4gICAgICAgICAgICAgICAgZmVhdHVyZS5uYW1lID0gY2hvaWNlLm5hbWVcclxuICAgICAgICAgICAgICAgIGZlYXR1cmUuZGVzYyA9IGNob2ljZS5kZXNjIHx8IFwiXCJcclxuICAgICAgICAgICAgICAgIGZlYXR1cmUuY2F0ZWdvcnkgPSBjaG9pY2UuY2F0ZWdvcnlcclxuICAgICAgICAgICAgICAgIGlmIChjaG9pY2UubmFtZSA9PT0gXCJBdHRhY2tlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWN0aW9ucyA9IHRoaXMuc3RhdGJsb2NrLmFjdGlvbnM7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhY3Rpb25zKSByZXR1cm47XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGJsb2NrLmFjdGlvbnMgPSBhY3Rpb25zLm1hcChhY3Rpb24gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHRhY2sgPSBuZXcgQXR0YWNrKGFjdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRhY2suaXNBdHRhY2sgJiYgYXR0YWNrLnRvSGl0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjay50b0hpdCArPSAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5hY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogYXR0YWNrLmNvbnN0cnVjdERlc2NyaXB0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5U3RhbmRhcmRGZWF0dXJlKGZlYXR1cmUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJTcGVsbGNhc3RlciBSb2xlXCI6XHJcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZXhpc3RpbmcgJ1NwZWxscycgb3IgJ1NwZWxsY2FzdGluZycgdHJhaXRzXHJcbiAgICAgICAgICAgICAgICBpZiAoY2hvaWNlKXtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0YmxvY2sudHJhaXRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGJsb2NrLnRyYWl0cyA9IHRoaXMuc3RhdGJsb2NrLnRyYWl0cy5maWx0ZXIoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFpdCA9PiB0cmFpdC5uYW1lLnRvTG93ZXJDYXNlKCkgIT09ICdzcGVsbHMnICYmIHRyYWl0Lm5hbWUudG9Mb3dlckNhc2UoKSAhPT0gJ3NwZWxsY2FzdGluZydcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZS5uYW1lID0gY2hvaWNlLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZS5kZXNjID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5U3RhbmRhcmRGZWF0dXJlKGZlYXR1cmUpXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIlNjaG9vbCBvZiBNYWdpYyBmb3IgRW1wb3dlcmVkIFNwZWxsc1wiOlxyXG4gICAgICAgICAgICAgICAgaWYgKGNob2ljZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZlYXR1cmUubmFtZSA9IFwiRW1wb3dlcmVkIFNwZWxsc1wiO1xyXG4gICAgICAgICAgICAgICAgICAgIGZlYXR1cmUuZGVzYyA9IGBXaGVuZXZlciB0aGUgc2lkZWtpY2sgY2FzdHMgYSBzcGVsbCBpbiB0aGUgJHtjaG9pY2UubmFtZX0gc2Nob29sIGJ5IGV4cGVuZGluZyBhIHNwZWxsIHNsb3QsIHRoZSBzaWRla2ljayBjYW4gYWRkIGl0cyBzcGVsbGNhc3RpbmcgYWJpbGl0eSBtb2RpZmllciB0byB0aGUgc3BlbGwncyBkYW1hZ2Ugcm9sbCBvciBoZWFsaW5nIHJvbGwsIGlmIGFueS5gO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlTdGFuZGFyZEZlYXR1cmUoZmVhdHVyZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIkltcHJvdmVkIERlZmVuc2VcIjpcclxuICAgICAgICAgICAgICAgIGxldCBhYyA9IHRoaXMuc3RhdGJsb2NrLmFjO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYWMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhYyA9PT0gJ3N0cmluZycpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjUGFydHMgPSBhYy5zcGxpdCgnICcsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFjUGFydHNbMF0gKz0gMTtcclxuICAgICAgICAgICAgICAgICAgICBhYyA9IGAke2FjUGFydHNbMF19ICR7YWNQYXJ0c1sxXX1gXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFjID09PSAnbnVtYmVyJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgYWMgKz0gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFjKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGJsb2NrLmFjID0gYWM7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5U3RhbmRhcmRGZWF0dXJlKGZlYXR1cmUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5U3RhbmRhcmRGZWF0dXJlKGZlYXR1cmU6IEZlYXR1cmUpIHtcclxuICAgICAgICBjb25zdCB2YWxpZENhdGVnb3JpZXMgPSBbXCJ0cmFpdHNcIiwgXCJhY3Rpb25zXCIsIFwiYm9udXNfYWN0aW9uc1wiLCBcImxlZ2VuZGFyeV9hY3Rpb25zXCIsIFwibXl0aGljX2FjdGlvbnNcIiwgXCJyZWFjdGlvbnNcIl0gYXMgY29uc3Q7XHJcbiAgICAgICAgdHlwZSBWYWxpZENhdGVnb3J5S2V5cyA9IHR5cGVvZiB2YWxpZENhdGVnb3JpZXNbbnVtYmVyXTtcclxuICAgIFxyXG4gICAgICAgIC8vIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgYSBjYXRlZ29yeSBpcyB2YWxpZFxyXG4gICAgICAgIGZ1bmN0aW9uIGlzVmFsaWRDYXRlZ29yeShjYXRlZ29yeTogYW55KTogY2F0ZWdvcnkgaXMgVmFsaWRDYXRlZ29yeUtleXMge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsaWRDYXRlZ29yaWVzLmluY2x1ZGVzKGNhdGVnb3J5KTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAvLyBVc2UgdGhlIHR5cGUgZ3VhcmQgZnVuY3Rpb25cclxuICAgICAgICBjb25zdCBjYXRlZ29yeSA9IChmZWF0dXJlLmNhdGVnb3J5ICYmIGlzVmFsaWRDYXRlZ29yeShmZWF0dXJlLmNhdGVnb3J5KSkgPyBmZWF0dXJlLmNhdGVnb3J5IDogXCJ0cmFpdHNcIjtcclxuICAgIFxyXG4gICAgICAgIGlmICghdGhpcy5zdGF0YmxvY2tbY2F0ZWdvcnldKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGJsb2NrW2NhdGVnb3J5XSA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gKHRoaXMuc3RhdGJsb2NrW2NhdGVnb3J5XSBhcyBUcmFpdFtdKS5maW5kSW5kZXgodHJhaXQgPT4gdHJhaXQubmFtZSA9PT0gZmVhdHVyZS5uYW1lKTtcclxuICAgIFxyXG4gICAgICAgIGNvbnN0IG5ld1RyYWl0OiBUcmFpdCA9IHtcclxuICAgICAgICAgICAgbmFtZTogZmVhdHVyZS5uYW1lLFxyXG4gICAgICAgICAgICBkZXNjOiBmZWF0dXJlLmRlc2NcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xyXG4gICAgICAgICAgICAodGhpcy5zdGF0YmxvY2tbY2F0ZWdvcnldIGFzIFRyYWl0W10pW2luZGV4XSA9IG5ld1RyYWl0O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICh0aGlzLnN0YXRibG9ja1tjYXRlZ29yeV0gYXMgVHJhaXRbXSkucHVzaChuZXdUcmFpdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5U3BlbGxjYXN0aW5nKCkge1xyXG4gICAgICAgIGNvbnN0IHByb2ZpY2llbmN5Qm9udXMgPSBQcm9maWNpZW5jeS5jYWxjdWxhdGVQQih0aGlzLmxldmVsKTsgLy8gQ2FsY3VsYXRlIGJhc2VkIG9uIGN1cnJlbnQgbGV2ZWxcclxuICAgICAgICBsZXQgc3BlbGxMaXN0ID0gXCJcIjtcclxuICAgICAgICBsZXQgc3BlbGxBYmlsaXR5ID0gXCJcIjtcclxuICAgICAgICBpZiAodGhpcy5zdGF0YmxvY2sudHJhaXRzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJvbGUgPSB0aGlzLnN0YXRibG9jay50cmFpdHMuZmluZCh0cmFpdCA9PiBbJ0hlYWxlcicsICdNYWdlJywgJ1Byb2RpZ3knXS5pbmNsdWRlcyh0cmFpdC5uYW1lKSk7XHJcbiAgICAgICAgICAgIGlmICghcm9sZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuOyAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzd2l0Y2ggKHJvbGUubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIk1hZ2VcIjpcclxuICAgICAgICAgICAgICAgICAgICBzcGVsbExpc3QgPSBcIldpemFyZFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHNwZWxsQWJpbGl0eSA9IFwiSW50ZWxsaWdlbmNlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiSGVhbGVyXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgc3BlbGxMaXN0ID0gXCJDbGVyaWMgYW5kIERydWlkXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgc3BlbGxBYmlsaXR5ID0gXCJXaXNkb21cIjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJQcm9kaWd5XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgc3BlbGxMaXN0ID0gXCJCYXJkIGFuZCBXYXJsb2NrXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgc3BlbGxBYmlsaXR5ID0gXCJDaGFyaXNtYVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGFiaWxpdGllcyA9IEFiaWxpdGllcy5mcm9tQXJyYXkodGhpcy5zdGF0YmxvY2suc3RhdHMpO1xyXG4gICAgICAgICAgICBjb25zdCBhYmlsaXR5TmFtZSA9IHNwZWxsQWJpbGl0eS50b0xvd2VyQ2FzZSgpIGFzIEFiaWxpdHk7XHJcbiAgICAgICAgICAgIGNvbnN0IHNwZWxsTW9kID0gQWJpbGl0aWVzLmNhbGN1bGF0ZU1vZGlmaWVyKGFiaWxpdGllc1thYmlsaXR5TmFtZV0pO1xyXG4gICAgICAgICAgICBjb25zdCBzcGVsbERDID0gOCArIHByb2ZpY2llbmN5Qm9udXMgKyBzcGVsbE1vZDtcclxuICAgICAgICAgICAgY29uc3Qgc3BlbGxBdHRhY2sgPSBwcm9maWNpZW5jeUJvbnVzICsgc3BlbGxNb2Q7XHJcbiAgICAgICAgICAgIGNvbnN0IHNwZWxsQXR0YWNrU2lnbiA9IHNwZWxsQXR0YWNrID49IDAgPyBcIitcIiA6IFwiLVwiO1xyXG4gICAgICAgICAgICBjb25zdCBzcGVsbEF0dGFja1dpdGhTaWduID0gYCR7c3BlbGxBdHRhY2tTaWdufSR7TWF0aC5hYnMoc3BlbGxBdHRhY2spfWA7XHJcbiAgICBcclxuICAgICAgICAgICAgY29uc3Qgc3BlbGxjYXN0ZXJMZXZlbCA9IHRoaXMubGV2ZWw7XHJcbiAgICAgICAgICAgIGNvbnN0IHNwZWxsU2xvdHM6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0gPSB7XHJcbiAgICAgICAgICAgICAgICAxOiAwLCAyOiAwLCAzOiAwLCA0OiAwLCA1OiAwXHJcbiAgICAgICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICAgICAgY29uc3Qgc3BlbGxUYWJsZSA9IFtcclxuICAgICAgICAgICAgICAgIHsgbGV2ZWw6IDEsIGNhbnRyaXBzOiAyLCBzcGVsbHM6IDEsIHNsb3RzOiB7IDE6IDIgfSB9LFxyXG4gICAgICAgICAgICAgICAgeyBsZXZlbDogMiwgY2FudHJpcHM6IDIsIHNwZWxsczogMiwgc2xvdHM6IHsgMTogMiB9IH0sXHJcbiAgICAgICAgICAgICAgICB7IGxldmVsOiAzLCBjYW50cmlwczogMiwgc3BlbGxzOiAzLCBzbG90czogeyAxOiAzIH0gfSxcclxuICAgICAgICAgICAgICAgIHsgbGV2ZWw6IDQsIGNhbnRyaXBzOiAzLCBzcGVsbHM6IDMsIHNsb3RzOiB7IDE6IDMgfSB9LFxyXG4gICAgICAgICAgICAgICAgeyBsZXZlbDogNSwgY2FudHJpcHM6IDMsIHNwZWxsczogNCwgc2xvdHM6IHsgMTogNCwgMjogMiB9IH0sXHJcbiAgICAgICAgICAgICAgICB7IGxldmVsOiA2LCBjYW50cmlwczogMywgc3BlbGxzOiA0LCBzbG90czogeyAxOiA0LCAyOiAyIH0gfSxcclxuICAgICAgICAgICAgICAgIHsgbGV2ZWw6IDcsIGNhbnRyaXBzOiAzLCBzcGVsbHM6IDUsIHNsb3RzOiB7IDE6IDQsIDI6IDMgfSB9LFxyXG4gICAgICAgICAgICAgICAgeyBsZXZlbDogOCwgY2FudHJpcHM6IDMsIHNwZWxsczogNSwgc2xvdHM6IHsgMTogNCwgMjogMyB9IH0sXHJcbiAgICAgICAgICAgICAgICB7IGxldmVsOiA5LCBjYW50cmlwczogMywgc3BlbGxzOiA2LCBzbG90czogeyAxOiA0LCAyOiAzLCAzOiAyIH0gfSxcclxuICAgICAgICAgICAgICAgIHsgbGV2ZWw6IDEwLCBjYW50cmlwczogNCwgc3BlbGxzOiA2LCBzbG90czogeyAxOiA0LCAyOiAzLCAzOiAyIH0gfSxcclxuICAgICAgICAgICAgICAgIHsgbGV2ZWw6IDExLCBjYW50cmlwczogNCwgc3BlbGxzOiA3LCBzbG90czogeyAxOiA0LCAyOiAzLCAzOiAzIH0gfSxcclxuICAgICAgICAgICAgICAgIHsgbGV2ZWw6IDEyLCBjYW50cmlwczogNCwgc3BlbGxzOiA3LCBzbG90czogeyAxOiA0LCAyOiAzLCAzOiAzIH0gfSxcclxuICAgICAgICAgICAgICAgIHsgbGV2ZWw6IDEzLCBjYW50cmlwczogNCwgc3BlbGxzOiA4LCBzbG90czogeyAxOiA0LCAyOiAzLCAzOiAzLCA0OiAxIH0gfSxcclxuICAgICAgICAgICAgICAgIHsgbGV2ZWw6IDE0LCBjYW50cmlwczogNCwgc3BlbGxzOiA4LCBzbG90czogeyAxOiA0LCAyOiAzLCAzOiAzLCA0OiAxIH0gfSxcclxuICAgICAgICAgICAgICAgIHsgbGV2ZWw6IDE1LCBjYW50cmlwczogNCwgc3BlbGxzOiA5LCBzbG90czogeyAxOiA0LCAyOiAzLCAzOiAzLCA0OiAyIH0gfSxcclxuICAgICAgICAgICAgICAgIHsgbGV2ZWw6IDE2LCBjYW50cmlwczogNCwgc3BlbGxzOiA5LCBzbG90czogeyAxOiA0LCAyOiAzLCAzOiAzLCA0OiAyIH0gfSxcclxuICAgICAgICAgICAgICAgIHsgbGV2ZWw6IDE3LCBjYW50cmlwczogNCwgc3BlbGxzOiAxMCwgc2xvdHM6IHsgMTogNCwgMjogMywgMzogMywgNDogMywgNTogMSB9IH0sXHJcbiAgICAgICAgICAgICAgICB7IGxldmVsOiAxOCwgY2FudHJpcHM6IDQsIHNwZWxsczogMTAsIHNsb3RzOiB7IDE6IDQsIDI6IDMsIDM6IDMsIDQ6IDMsIDU6IDEgfSB9LFxyXG4gICAgICAgICAgICAgICAgeyBsZXZlbDogMTksIGNhbnRyaXBzOiA0LCBzcGVsbHM6IDExLCBzbG90czogeyAxOiA0LCAyOiAzLCAzOiAzLCA0OiAzLCA1OiAyIH0gfSxcclxuICAgICAgICAgICAgICAgIHsgbGV2ZWw6IDIwLCBjYW50cmlwczogNCwgc3BlbGxzOiAxMSwgc2xvdHM6IHsgMTogNCwgMjogMywgMzogMywgNDogMywgNTogMiB9IH1cclxuICAgICAgICAgICAgXTtcclxuICAgIFxyXG4gICAgICAgICAgICBjb25zdCBsZXZlbERhdGEgPSBzcGVsbFRhYmxlLmZpbmQoZW50cnkgPT4gZW50cnkubGV2ZWwgPT09IHNwZWxsY2FzdGVyTGV2ZWwpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGlmIChsZXZlbERhdGEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNhbnRyaXBzS25vd24gPSBsZXZlbERhdGEuY2FudHJpcHM7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzcGVsbHNLbm93biA9IGxldmVsRGF0YS5zcGVsbHM7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2xldmVsLCBzbG90c10gb2YgT2JqZWN0LmVudHJpZXMobGV2ZWxEYXRhLnNsb3RzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNwZWxsU2xvdHNbbGV2ZWxdID0gc2xvdHM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNwZWxsY2FzdGluZyA9IGBUaGUgc2lkZWtpY2sgaXMgYSBsZXZlbCAke3NwZWxsY2FzdGVyTGV2ZWx9IHNwZWxsY2FzdGVyLiBJdHMgc3BlbGxjYXN0aW5nIGFiaWxpdHkgaXMgJHtzcGVsbEFiaWxpdHl9IChzcGVsbCBzYXZlIERDICR7c3BlbGxEQ30sICR7c3BlbGxBdHRhY2tXaXRoU2lnbn0gdG8gaGl0IHdpdGggc3BlbGwgYXR0YWNrcykuIFRoZSBzaWRla2ljayBjYW4gY2FzdCB0aGUgZm9sbG93aW5nICR7Y2FudHJpcHNLbm93bn0gY2FudHJpcHMgYW5kICR7c3BlbGxzS25vd259IHNwZWxscyBmcm9tIHRoZSAke3NwZWxsTGlzdH0gc3BlbGwgbGlzdCR7c3BlbGxMaXN0LmluY2x1ZGVzKFwiYW5kXCIpID8gJ3MnIDogJyd9OlxcbmAgK1xyXG4gICAgICAgICAgICAgICAgICAgIGAtIENhbnRyaXBzIChhdCB3aWxsKTogXFxuYCArXHJcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMoc3BlbGxTbG90cylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigoW18sIHZhbHVlXSkgPT4gdmFsdWUgPiAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKChbbGV2ZWwsIHNsb3RzXSkgPT4gYC0gTGV2ZWwgJHtsZXZlbH0gKCR7c2xvdHN9IHNsb3Qke3Nsb3RzICE9PSAxID8gJ3MnIDogJyd9KTogXFxuYClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmpvaW4oJycpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICByb2xlLmRlc2MgPSBzcGVsbGNhc3Rpbmc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByb2xlLmRlc2MgPSAnJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVTa2lsbHMob2xkQWJpbGl0aWVzOiBBYmlsaXRpZXMsIG9sZFByb2ZpY2llbmN5Qm9udXM6IG51bWJlcikge1xyXG4gICAgICAgIGNvbnN0IG5ld0FiaWxpdGllcyA9IEFiaWxpdGllcy5mcm9tQXJyYXkodGhpcy5zdGF0YmxvY2suc3RhdHMpO1xyXG4gICAgICAgIGNvbnN0IG9sZE1vZHMgPSBBYmlsaXRpZXMuY2FsY3VsYXRlTW9kaWZpZXJzKG9sZEFiaWxpdGllcyk7XHJcbiAgICAgICAgY29uc3QgbmV3TW9kcyA9IEFiaWxpdGllcy5jYWxjdWxhdGVNb2RpZmllcnMobmV3QWJpbGl0aWVzKTtcclxuICAgICAgICBjb25zdCBuZXdQcm9maWNpZW5jeUJvbnVzID0gUHJvZmljaWVuY3kuY2FsY3VsYXRlUEIodGhpcy5sZXZlbCk7XHJcbiAgICBcclxuICAgICAgICBjb25zdCB1cGRhdGVkU2tpbGxzOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9ID0ge307XHJcbiAgICBcclxuICAgICAgICBmb3IgKGNvbnN0IHNraWxsIGluIHRoaXMuc3RhdGJsb2NrLnNraWxsc2F2ZXMpIHtcclxuICAgICAgICAgICAgY29uc3Qgc2tpbGxBYmlsaXR5ID0gZ2V0QWJpbGl0eUZvclNraWxsKHNraWxsKTtcclxuICAgICAgICAgICAgY29uc3Qgb2xkQWJpbGl0eU1vZCA9IG9sZE1vZHNbc2tpbGxBYmlsaXR5XTtcclxuICAgICAgICAgICAgY29uc3QgbmV3QWJpbGl0eU1vZCA9IG5ld01vZHNbc2tpbGxBYmlsaXR5XTtcclxuICAgIFxyXG4gICAgICAgICAgICBjb25zdCBpc0V4cGVydGlzZSA9IHRoaXMuZXhwZXJ0aXNlU2tpbGxzPy5pbmNsdWRlcyhza2lsbCkgfHwgZmFsc2U7XHJcbiAgICBcclxuICAgICAgICAgICAgbGV0IG9sZFNraWxsQm9udXMgPSB0aGlzLnN0YXRibG9jay5za2lsbHNhdmVzW3NraWxsXTtcclxuICAgIFxyXG4gICAgICAgICAgICBpZiAob2xkU2tpbGxCb251cyA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgb2xkU2tpbGxCb251cyA9IG9sZEFiaWxpdHlNb2QgKyBvbGRQcm9maWNpZW5jeUJvbnVzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgY29uc3QgbmV3UHJvZmljaWVuY3lCb251c1RvQWRkID0gaXNFeHBlcnRpc2UgPyBuZXdQcm9maWNpZW5jeUJvbnVzICogMiA6IG5ld1Byb2ZpY2llbmN5Qm9udXM7XHJcbiAgICBcclxuICAgICAgICAgICAgY29uc3QgbmV3U2tpbGxCb251cyA9IG9sZFNraWxsQm9udXMgLSBvbGRBYmlsaXR5TW9kIC0gb2xkUHJvZmljaWVuY3lCb251cyArIG5ld0FiaWxpdHlNb2QgKyBuZXdQcm9maWNpZW5jeUJvbnVzVG9BZGQ7XHJcbiAgICBcclxuICAgICAgICAgICAgdXBkYXRlZFNraWxsc1tza2lsbF0gPSBuZXdTa2lsbEJvbnVzO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIC8vIFNvcnQgdGhlIHNraWxscyBhbHBoYWJldGljYWxseVxyXG4gICAgICAgIGNvbnN0IHNvcnRlZFNraWxscyA9IE9iamVjdC5lbnRyaWVzKHVwZGF0ZWRTa2lsbHMpXHJcbiAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBhWzBdLmxvY2FsZUNvbXBhcmUoYlswXSkpXHJcbiAgICAgICAgICAgIC5yZWR1Y2UoKG9iaiwgW2tleSwgdmFsdWVdKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBvYmpba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcclxuICAgICAgICAgICAgfSwge30gYXMgeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSk7XHJcbiAgICBcclxuICAgICAgICB0aGlzLnN0YXRibG9jay5za2lsbHNhdmVzID0gc29ydGVkU2tpbGxzO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVNhdmVzKG9sZEFiaWxpdGllczogQWJpbGl0aWVzLCBvbGRQcm9maWNpZW5jeUJvbnVzOiBudW1iZXIpIHtcclxuICAgICAgICBjb25zdCBuZXdBYmlsaXRpZXMgPSBBYmlsaXRpZXMuZnJvbUFycmF5KHRoaXMuc3RhdGJsb2NrLnN0YXRzKTtcclxuICAgICAgICBjb25zdCBvbGRNb2RzID0gQWJpbGl0aWVzLmNhbGN1bGF0ZU1vZGlmaWVycyhvbGRBYmlsaXRpZXMpO1xyXG4gICAgICAgIGNvbnN0IG5ld01vZHMgPSBBYmlsaXRpZXMuY2FsY3VsYXRlTW9kaWZpZXJzKG5ld0FiaWxpdGllcyk7XHJcbiAgICAgICAgY29uc3QgbmV3UHJvZmljaWVuY3lCb251cyA9IFByb2ZpY2llbmN5LmNhbGN1bGF0ZVBCKHRoaXMubGV2ZWwpO1xyXG4gICAgXHJcbiAgICAgICAgY29uc3QgdXBkYXRlZFNhdmVzOiB7IFtrZXkgaW4gQWJpbGl0eV0/OiBudW1iZXIgfSA9IHt9O1xyXG4gICAgXHJcbiAgICAgICAgZm9yIChjb25zdCBzYXZlIGluIHRoaXMuc3RhdGJsb2NrLnNhdmVzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNhdmVLZXkgPSBzYXZlLnRvTG93ZXJDYXNlKCkgYXMgQWJpbGl0eTtcclxuICAgICAgICAgICAgY29uc3Qgb2xkQWJpbGl0eU1vZCA9IG9sZE1vZHNbc2F2ZUtleV07XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0FiaWxpdHlNb2QgPSBuZXdNb2RzW3NhdmVLZXldO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGxldCBvbGRTYXZlQm9udXMgPSAodGhpcy5zdGF0YmxvY2suc2F2ZXMgYXMgUHJvZmljaWVuY2llcylbc2F2ZV07XHJcbiAgICBcclxuICAgICAgICAgICAgaWYgKG9sZFNhdmVCb251cyA9PT0gdW5kZWZpbmVkIHx8IG9sZFNhdmVCb251cyA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgb2xkU2F2ZUJvbnVzID0gb2xkQWJpbGl0eU1vZCArIG9sZFByb2ZpY2llbmN5Qm9udXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBjb25zdCBuZXdTYXZlQm9udXMgPSBvbGRTYXZlQm9udXMgLSBvbGRBYmlsaXR5TW9kIC0gb2xkUHJvZmljaWVuY3lCb251cyArIG5ld0FiaWxpdHlNb2QgKyBuZXdQcm9maWNpZW5jeUJvbnVzO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHVwZGF0ZWRTYXZlc1tzYXZlS2V5XSA9IG5ld1NhdmVCb251cztcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAvLyBTb3J0IHRoZSBzYXZlcyBhbHBoYWJldGljYWxseVxyXG4gICAgICAgIGNvbnN0IHNvcnRlZFNhdmVzID0gT2JqZWN0LmVudHJpZXModXBkYXRlZFNhdmVzKVxyXG4gICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gYVswXS5sb2NhbGVDb21wYXJlKGJbMF0pKVxyXG4gICAgICAgICAgICAucmVkdWNlKChvYmosIFtrZXksIHZhbHVlXSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgb2JqW2tleSBhcyBBYmlsaXR5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcclxuICAgICAgICAgICAgfSwge30gYXMgeyBba2V5IGluIEFiaWxpdHldPzogbnVtYmVyIH0pO1xyXG4gICAgXHJcbiAgICAgICAgdGhpcy5zdGF0YmxvY2suc2F2ZXMgPSBzb3J0ZWRTYXZlcztcclxuICAgIH1cclxuXHJcblxyXG4gICAgdXBkYXRlQXR0YWNrcyhvbGRBYmlsaXRpZXM6IEFiaWxpdGllcywgb2xkUHJvZmljaWVuY3lCb251czogbnVtYmVyKSB7XHJcbiAgICAgICAgY29uc3QgbmV3QWJpbGl0aWVzID0gQWJpbGl0aWVzLmZyb21BcnJheSh0aGlzLnN0YXRibG9jay5zdGF0cyk7XHJcbiAgICAgICAgY29uc3Qgb2xkTW9kcyA9IEFiaWxpdGllcy5jYWxjdWxhdGVNb2RpZmllcnMob2xkQWJpbGl0aWVzKTtcclxuICAgICAgICBjb25zdCBuZXdNb2RzID0gQWJpbGl0aWVzLmNhbGN1bGF0ZU1vZGlmaWVycyhuZXdBYmlsaXRpZXMpO1xyXG4gICAgICAgIGNvbnN0IG5ld1Byb2ZpY2llbmN5Qm9udXMgPSBQcm9maWNpZW5jeS5jYWxjdWxhdGVQQih0aGlzLmxldmVsKTtcclxuICAgIFxyXG4gICAgICAgIGNvbnN0IGFjdGlvbnMgPSB0aGlzLnN0YXRibG9jay5hY3Rpb25zID8/IFtdO1xyXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRBY3Rpb25zOiB0eXBlb2YgYWN0aW9ucyA9IFtdO1xyXG4gICAgXHJcbiAgICAgICAgZm9yIChjb25zdCBhY3Rpb24gb2YgYWN0aW9ucykge1xyXG4gICAgICAgICAgICBjb25zdCBhdHRhY2sgPSBuZXcgQXR0YWNrKGFjdGlvbik7XHJcbiAgICAgICAgICAgIGlmIChhdHRhY2suaXNBdHRhY2spIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlbGV2YW50QWJpbGl0eSA9IGF0dGFjay5nZXRSZWxldmFudEFiaWxpdHkobmV3QWJpbGl0aWVzKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9sZEFiaWxpdHlNb2QgPSBvbGRNb2RzW3JlbGV2YW50QWJpbGl0eV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdBYmlsaXR5TW9kID0gbmV3TW9kc1tyZWxldmFudEFiaWxpdHldO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9maWNpZW5jeUJvbnVzRGlmZiA9IG5ld1Byb2ZpY2llbmN5Qm9udXMgLSBvbGRQcm9maWNpZW5jeUJvbnVzO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbW9kaWZpZXJEaWZmID0gbmV3QWJpbGl0eU1vZCAtIG9sZEFiaWxpdHlNb2Q7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGxldCB1cGRhdGVkVG9IaXQgPSBhdHRhY2sudG9IaXQ7XHJcbiAgICAgICAgICAgICAgICBsZXQgdXBkYXRlZERhbWFnZU1vZCA9IGF0dGFjay5kYW1hZ2VNb2Q7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmIChhdHRhY2sudG9IaXQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF0dGFjay50b0hpdCArPSBtb2RpZmllckRpZmY7XHJcbiAgICAgICAgICAgICAgICAgICAgYXR0YWNrLnRvSGl0ICs9IHByb2ZpY2llbmN5Qm9udXNEaWZmO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoYXR0YWNrLmRhbWFnZU1vZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXR0YWNrLmRhbWFnZU1vZCArPSBtb2RpZmllckRpZmY7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRBY3Rpb24gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLi4uYWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlc2M6IGF0dGFjay5jb25zdHJ1Y3REZXNjcmlwdGlvbigpXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0YmxvY2suYWN0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGJsb2NrLmFjdGlvbnNbdGhpcy5zdGF0YmxvY2suYWN0aW9ucy5pbmRleE9mKGFjdGlvbildID0gdXBkYXRlZEFjdGlvbjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0YmxvY2suYWN0aW9ucyA9IFt1cGRhdGVkQWN0aW9uXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSAgICBcclxuICAgICAgICB0aGlzLnN0YXRibG9jay5hY3Rpb25zID0gdXBkYXRlZEFjdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlU2Vuc2VzKCkge1xyXG4gICAgICAgIGNvbnN0IHNlbnNlcyA9IHRoaXMuc3RhdGJsb2NrLnNlbnNlcztcclxuICAgICAgICBpZiAoIXNlbnNlcykgcmV0dXJuO1xyXG4gICAgXHJcbiAgICAgICAgY29uc3QgcGFzc2l2ZVBlcmNlcHRpb25NYXRjaCA9IHNlbnNlcy5tYXRjaCgvcGFzc2l2ZSBQZXJjZXB0aW9uIChcXGQrKS9pKTtcclxuICAgICAgICBpZiAocGFzc2l2ZVBlcmNlcHRpb25NYXRjaCkge1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50UGFzc2l2ZVBlcmNlcHRpb24gPSBwYXJzZUludChwYXNzaXZlUGVyY2VwdGlvbk1hdGNoWzFdLCAxMCk7XHJcbiAgICBcclxuICAgICAgICAgICAgY29uc3QgYWJpbGl0aWVzID0gQWJpbGl0aWVzLmZyb21BcnJheSh0aGlzLnN0YXRibG9jay5zdGF0cyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHdpc2RvbU1vZCA9IEFiaWxpdGllcy5jYWxjdWxhdGVNb2RpZmllcihhYmlsaXRpZXMud2lzZG9tKTtcclxuICAgIFxyXG4gICAgICAgICAgICBjb25zdCBwcm9maWNpZW5jeUJvbnVzID0gUHJvZmljaWVuY3kuY2FsY3VsYXRlUEIodGhpcy5sZXZlbCk7XHJcbiAgICBcclxuICAgICAgICAgICAgbGV0IHBlcmNlcHRpb24gPSAxMDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGJsb2NrLnNraWxsc2F2ZXMgJiYgdGhpcy5zdGF0YmxvY2suc2tpbGxzYXZlcy5oYXNPd25Qcm9wZXJ0eSgnUGVyY2VwdGlvbicpKSB7XHJcbiAgICAgICAgICAgICAgICBwZXJjZXB0aW9uICs9IHdpc2RvbU1vZCArIHByb2ZpY2llbmN5Qm9udXM7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwZXJjZXB0aW9uICs9IHdpc2RvbU1vZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1Bhc3NpdmVQZXJjZXB0aW9uID0gcGVyY2VwdGlvbjtcclxuICAgIFxyXG4gICAgICAgICAgICBpZiAobmV3UGFzc2l2ZVBlcmNlcHRpb24gIT09IGN1cnJlbnRQYXNzaXZlUGVyY2VwdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0YmxvY2suc2Vuc2VzID0gc2Vuc2VzLnJlcGxhY2UoL3Bhc3NpdmUgUGVyY2VwdGlvbiBcXGQrL2ksIGBwYXNzaXZlIFBlcmNlcHRpb24gJHtuZXdQYXNzaXZlUGVyY2VwdGlvbn1gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNlcmlhbGl6ZSB0aGUgc2lkZWtpY2sgdG8gYSBzdHJpbmcgZm9ybWF0IGZvciBzYXZpbmcgb3IgZGVidWdnaW5nLlxyXG4gICAgICovXHJcbiAgICB0b1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBgU2lkZWtpY2s6ICR7dGhpcy5zdGF0YmxvY2submFtZX0sIENsYXNzOiAke3RoaXMuc2lkZWtpY2tDbGFzcy5uYW1lfSwgTGV2ZWw6ICR7dGhpcy5sZXZlbH1gO1xyXG4gICAgfVxyXG59IiwgImltcG9ydCB7IEFwcCwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZywgVEZvbGRlciB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IFN0YXRibG9ja1NpZGVraWNrIGZyb20gJ21haW4nO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTdGF0YmxvY2tTaWRla2lja1NldHRpbmdzIHtcclxuICBzYXZlRm9sZGVyOiBzdHJpbmc7XHJcbiAgc2F2ZU1vZGU6ICdzYW1lRm9sZGVyJyB8ICdkZWZhdWx0Rm9sZGVyJyB8ICdwcm9tcHRGb2xkZXInO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgREVGQVVMVF9TRVRUSU5HUzogU3RhdGJsb2NrU2lkZWtpY2tTZXR0aW5ncyA9IHtcclxuICBzYXZlRm9sZGVyOiAnL3NpZGVraWNrcycsXHJcbiAgc2F2ZU1vZGU6ICdkZWZhdWx0Rm9sZGVyJywgLy8gU2V0IHRoZSBkZWZhdWx0IHNhdmUgbW9kZVxyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0YXRibG9ja1NpZGVraWNrU2V0dGluZ3NUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcclxuICBwbHVnaW46IFN0YXRibG9ja1NpZGVraWNrO1xyXG5cclxuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBTdGF0YmxvY2tTaWRla2ljaykge1xyXG4gICAgc3VwZXIoYXBwLCBwbHVnaW4pO1xyXG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcbiAgfVxyXG5cclxuICBkaXNwbGF5KCk6IHZvaWQge1xyXG4gICAgY29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcclxuXHJcbiAgICBjb250YWluZXJFbC5lbXB0eSgpO1xyXG5cclxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAuc2V0TmFtZShcIlNhdmUgbW9kZVwiKVxyXG4gICAgICAuc2V0RGVzYyhcIkNob29zZSBob3cgdG8gc2F2ZSB0aGUgc2lkZWtpY2sgZmlsZXNcIilcclxuICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT5cclxuICAgICAgICBkcm9wZG93blxyXG4gICAgICAgICAgLmFkZE9wdGlvbignc2FtZUZvbGRlcicsICdTYW1lIGFzIG9yaWdpbmFsIGZpbGUnKVxyXG4gICAgICAgICAgLmFkZE9wdGlvbignZGVmYXVsdEZvbGRlcicsICdEZWZhdWx0IGZvbGRlcicpXHJcbiAgICAgICAgICAvLyAuYWRkT3B0aW9uKCdwcm9tcHRGb2xkZXInLCAnUHJvbXB0IGZvciBGb2xkZXInKVxyXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnNhdmVNb2RlKVxyXG4gICAgICAgICAgLy8gLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZTogJ3NhbWVGb2xkZXInIHwgJ2RlZmF1bHRGb2xkZXInIHwgJ3Byb21wdEZvbGRlcicpID0+IHtcclxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWU6ICdzYW1lRm9sZGVyJyB8ICdkZWZhdWx0Rm9sZGVyJykgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zYXZlTW9kZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgLnNldE5hbWUoXCJEZWZhdWx0IGZvbGRlclwiKVxyXG4gICAgICAuc2V0RGVzYyhcIlNlbGVjdCB0aGUgZm9sZGVyIHdoZXJlIHNpZGVraWNrIGZpbGVzIHNob3VsZCBiZSBzYXZlZCB3aGVuICdTYXZlIG1vZGUnIGlzIHNldCB0byAnRGVmYXVsdCBmb2xkZXInXCIpXHJcbiAgICAgIC5hZGRUZXh0KCh0ZXh0Q29tcG9uZW50KSA9PiB7XHJcbiAgICAgICAgICB0ZXh0Q29tcG9uZW50LmlucHV0RWwucGxhY2Vob2xkZXIgPSAnRW50ZXIgZm9sZGVyIHBhdGguLi4nO1xyXG4gICAgICAgICAgdGV4dENvbXBvbmVudC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zYXZlRm9sZGVyKTtcclxuICAgICAgICAgIHRleHRDb21wb25lbnQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc2F2ZUZvbGRlciA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgXHJcbiAgICAgIFxyXG4gIH1cclxufSJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQUFBQSxtQkFBdUU7OztBQ01oRSxJQUFNLGtCQUFOLE1BQXNCO0FBQUEsRUFDekIsWUFBbUIsT0FBZTtBQUFmO0FBQUEsRUFBZ0I7QUFBQSxFQUVuQyxPQUFPLE1BQU0sU0FBa0Q7QUFFM0QsVUFBTSxXQUFXLE9BQU8sWUFBWSxXQUFXLFFBQVEsU0FBUyxJQUFJO0FBRXBFLFFBQUksQ0FBQztBQUFVLGFBQU87QUFDdEIsUUFBSTtBQUNKLFFBQUksU0FBUyxTQUFTLEdBQUcsR0FBRztBQUN4QixZQUFNLENBQUMsV0FBVyxXQUFXLElBQUksU0FBUyxNQUFNLEdBQUcsRUFBRSxJQUFJLE1BQU07QUFDL0QsY0FBUSxZQUFZO0FBQUEsSUFDeEIsT0FBTztBQUNILGNBQVEsT0FBTyxRQUFRO0FBQ3ZCLFVBQUksTUFBTSxLQUFLO0FBQUcsZUFBTztBQUFBLElBQzdCO0FBQ0EsV0FBTyxJQUFJLGdCQUFnQixLQUFLO0FBQUEsRUFDcEM7QUFBQSxFQUVBLFdBQVcsUUFBZ0IsS0FBYztBQUNyQyxXQUFPLEtBQUssU0FBUztBQUFBLEVBQ3pCO0FBQ0o7QUFLTyxJQUFNLFVBQU4sTUFBYztBQUFBLEVBQ2pCLFlBQW1CLFNBQXdCLFNBQXdCLE9BQWU7QUFBL0Q7QUFBd0I7QUFBd0I7QUFBQSxFQUFnQjtBQUFBLEVBRW5GLE9BQU8sTUFBTSxlQUF1QztBQUNoRCxVQUFNLFFBQVE7QUFDZCxVQUFNLFFBQVEsY0FBYyxNQUFNLEtBQUs7QUFDdkMsUUFBSSxDQUFDO0FBQU8sYUFBTztBQUduQixVQUFNLFFBQVEsVUFBVSxNQUFNLENBQUMsS0FBSyxLQUFLLFFBQVEsT0FBTyxFQUFFLEdBQUcsRUFBRTtBQUUvRCxXQUFPLElBQUksUUFBUSxT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TyxFQUFFLEdBQUcsRUFBRSxFQUFFO0FBQUEsUUFDcEQsRUFBRSxPQUFPLEdBQUcsVUFBVSxHQUFHLFFBQVEsR0FBRyxPQUFPLEVBQUUsR0FBRyxFQUFFLEVBQUU7QUFBQSxRQUNwRCxFQUFFLE9BQU8sR0FBRyxVQUFVLEdBQUcsUUFBUSxHQUFHLE9BQU8sRUFBRSxHQUFHLEVBQUUsRUFBRTtBQUFBLFFBQ3BELEVBQUUsT0FBTyxHQUFHLFVBQVUsR0FBRyxRQUFRLEdBQUcsT0FBTyxFQUFFLEdBQUcsR0FBRyxHQUFHLEVBQUUsRUFBRTtBQUFBLFFBQzFELEVBQUUsT0FBTyxHQUFHLFVBQVUsR0FBRyxRQUFRLEdBQUcsT0FBTyxFQUFFLEdBQUcsR0FBRyxHQUFHLEVBQUUsRUFBRTtBQUFBLFFBQzFELEVBQUUsT0FBTyxHQUFHLFVBQVUsR0FBRyxRQUFRLEdBQUcsT0FBTyxFQUFFLEdBQUcsR0FBRyxHQUFHLEVBQUUsRUFBRTtBQUFBLFFBQzFELEVBQUUsT0FBTyxHQUFHLFVBQVUsR0FBRyxRQUFRLEdBQUcsT0FBTyxFQUFFLEdBQUcsR0FBRyxHQUFHLEVBQUUsRUFBRTtBQUFBLFFBQzFELEVBQUUsT0FBTyxHQUFHLFVBQVUsR0FBRyxRQUFRLEdBQUcsT0FBTyxFQUFFLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxFQUFFLEVBQUU7QUFBQSxRQUNoRSxFQUFFLE9BQU8sSUFBSSxVQUFVLEdBQUcsUUFBUSxHQUFHLE9BQU8sRUFBRSxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsRUFBRSxFQUFFO0FBQUEsUUFDakUsRUFBRSxPQUFPLElBQUksVUFBVSxHQUFHLFFBQVEsR0FBRyxPQUFPLEVBQUUsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEVBQUUsRUFBRTtBQUFBLFFBQ2pFLEVBQUUsT0FBTyxJQUFJLFVBQVUsR0FBRyxRQUFRLEdBQUcsT0FBTyxFQUFFLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxFQUFFLEVBQUU7QUFBQSxRQUNqRSxFQUFFLE9BQU8sSUFBSSxVQUFVLEdBQUcsUUFBUSxHQUFHLE9B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QUFNLFVBQVUsVUFBVSxpQkFBaUIsU0FBUyxJQUFJO0FBRXhELGFBQVMsYUFBYSxjQUFjLG1CQUFtQjtBQUN2RCxhQUFTLGNBQWMsY0FBYyxtQkFBbUI7QUFDeEQsYUFBUyxZQUFZLGNBQWMsbUJBQW1CO0FBQ3RELGFBQVMsYUFBYTtBQU90QixhQUFTLFVBQVUsV0FBVyxRQUFRLFNBQVM7QUFDL0MsYUFBUyxVQUFVLEtBQUssU0FBUztBQUVqQyxVQUFNLGVBQWUsTUFBTSxtQkFBbUIsS0FBSyxHQUFHO0FBQ3RELGFBQVMsVUFBVSxPQUFPLEdBQUcsa0JBQWtCLFNBQVMsVUFBVSxVQUFVLFNBQVMsY0FBYztBQUNuRyxVQUFNLFdBQVcsR0FBRyxTQUFTLFVBQVU7QUFFdkMsVUFBTSxpQkFBaUIsc0JBQXNCLFNBQVMsU0FBUztBQUMvRCx3QkFBb0IsTUFBTSxnQkFBZ0IsUUFBUTtBQUFBLEVBQ3REO0FBQUEsRUFDQSxXQUFXO0FBQUEsRUFBQztBQUNoQjsiLAogICJuYW1lcyI6IFsiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJhYmlsaXRpZXMiLCAiY2F0ZWdvcnkiLCAiaW1wb3J0X29ic2lkaWFuIiwgImFiaWxpdGllcyJdCn0K
