/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var Fc=Object.create;var nr=Object.defineProperty;var Ec=Object.getOwnPropertyDescriptor;var Cc=Object.getOwnPropertyNames;var wc=Object.getPrototypeOf,bc=Object.prototype.hasOwnProperty;var Sc=(t,e,r)=>e in t?nr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var A=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),_c=(t,e)=>{for(var r in e)nr(t,r,{get:e[r],enumerable:!0})},ua=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Cc(e))!bc.call(t,i)&&i!==r&&nr(t,i,{get:()=>e[i],enumerable:!(n=Ec(e,i))||n.enumerable});return t};var di=(t,e,r)=>(r=t!=null?Fc(wc(t)):{},ua(e||!t||!t.__esModule?nr(r,"default",{value:t,enumerable:!0}):r,t)),kc=t=>ua(nr({},"__esModule",{value:!0}),t);var ie=(t,e,r)=>Sc(t,typeof e!="symbol"?e+"":e,r);var se=A(ge=>{"use strict";ge.__esModule=!0;ge.extend=ca;ge.indexOf=Ac;ge.escapeExpression=Ic;ge.isEmpty=Lc;ge.createFrame=Nc;ge.blockParams=Pc;ge.appendContextPath=Bc;var Oc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},xc=/[&<>"'`=]/g,Tc=/[&<>"'`=]/;function Mc(t){return Oc[t]}function ca(t){for(var e=1;e<arguments.length;e++)for(var r in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],r)&&(t[r]=arguments[e][r]);return t}var mi=Object.prototype.toString;ge.toString=mi;var pi=function(e){return typeof e=="function"};pi(/x/)&&(ge.isFunction=pi=function(t){return typeof t=="function"&&mi.call(t)==="[object Function]"});ge.isFunction=pi;var ha=Array.isArray||function(t){return t&&typeof t=="object"?mi.call(t)==="[object Array]":!1};ge.isArray=ha;function Ac(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Ic(t){if(typeof t!="string"){if(t&&t.toHTML)return t.toHTML();if(t==null)return"";if(!t)return t+"";t=""+t}return Tc.test(t)?t.replace(xc,Mc):t}function Lc(t){return!t&&t!==0?!0:!!(ha(t)&&t.length===0)}function Nc(t){var e=ca({},t);return e._parent=t,e}function Pc(t,e){return t.path=e,t}function Bc(t,e){return(t?t+".":"")+e}});var Ee=A((jr,fa)=>{"use strict";jr.__esModule=!0;var gi=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function Di(t,e){var r=e&&e.loc,n=void 0,i=void 0,s=void 0,a=void 0;r&&(n=r.start.line,i=r.end.line,s=r.start.column,a=r.end.column,t+=" - "+n+":"+s);for(var o=Error.prototype.constructor.call(this,t),u=0;u<gi.length;u++)this[gi[u]]=o[gi[u]];Error.captureStackTrace&&Error.captureStackTrace(this,Di);try{r&&(this.lineNumber=n,this.endLineNumber=i,Object.defineProperty?(Object.defineProperty(this,"column",{value:s,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:a,enumerable:!0})):(this.column=s,this.endColumn=a))}catch(l){}}Di.prototype=new Error;jr.default=Di;fa.exports=jr.default});var pa=A((zr,da)=>{"use strict";zr.__esModule=!0;var yi=se();zr.default=function(t){t.registerHelper("blockHelperMissing",function(e,r){var n=r.inverse,i=r.fn;if(e===!0)return i(this);if(e===!1||e==null)return n(this);if(yi.isArray(e))return e.length>0?(r.ids&&(r.ids=[r.name]),t.helpers.each(e,r)):n(this);if(r.data&&r.ids){var s=yi.createFrame(r.data);s.contextPath=yi.appendContextPath(r.data.contextPath,r.name),r={data:s}}return i(e,r)})};da.exports=zr.default});var ga=A((Yr,ma)=>{"use strict";Yr.__esModule=!0;function Rc(t){return t&&t.__esModule?t:{default:t}}var sr=se(),Hc=Ee(),Gc=Rc(Hc);Yr.default=function(t){t.registerHelper("each",function(e,r){if(!r)throw new Gc.default("Must pass iterator to #each");var n=r.fn,i=r.inverse,s=0,a="",o=void 0,u=void 0;r.data&&r.ids&&(u=sr.appendContextPath(r.data.contextPath,r.ids[0])+"."),sr.isFunction(e)&&(e=e.call(this)),r.data&&(o=sr.createFrame(r.data));function l(E,O,P){o&&(o.key=E,o.index=O,o.first=O===0,o.last=!!P,u&&(o.contextPath=u+E)),a=a+n(e[E],{data:o,blockParams:sr.blockParams([e[E],E],[u+E,null])})}if(e&&typeof e=="object")if(sr.isArray(e))for(var d=e.length;s<d;s++)s in e&&l(s,s,s===e.length-1);else if(typeof Symbol=="function"&&e[Symbol.iterator]){for(var c=[],m=e[Symbol.iterator](),D=m.next();!D.done;D=m.next())c.push(D.value);e=c;for(var d=e.length;s<d;s++)l(s,s,s===e.length-1)}else(function(){var E=void 0;Object.keys(e).forEach(function(O){E!==void 0&&l(E,s-1),E=O,s++}),E!==void 0&&l(E,s-1,!0)})();return s===0&&(a=i(this)),a})};ma.exports=Yr.default});var ya=A((Zr,Da)=>{"use strict";Zr.__esModule=!0;function qc(t){return t&&t.__esModule?t:{default:t}}var Vc=Ee(),Uc=qc(Vc);Zr.default=function(t){t.registerHelper("helperMissing",function(){if(arguments.length!==1)throw new Uc.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})};Da.exports=Zr.default});var Ca=A((Kr,Ea)=>{"use strict";Kr.__esModule=!0;function Wc(t){return t&&t.__esModule?t:{default:t}}var va=se(),jc=Ee(),Fa=Wc(jc);Kr.default=function(t){t.registerHelper("if",function(e,r){if(arguments.length!=2)throw new Fa.default("#if requires exactly one argument");return va.isFunction(e)&&(e=e.call(this)),!r.hash.includeZero&&!e||va.isEmpty(e)?r.inverse(this):r.fn(this)}),t.registerHelper("unless",function(e,r){if(arguments.length!=2)throw new Fa.default("#unless requires exactly one argument");return t.helpers.if.call(this,e,{fn:r.inverse,inverse:r.fn,hash:r.hash})})};Ea.exports=Kr.default});var ba=A((Jr,wa)=>{"use strict";Jr.__esModule=!0;Jr.default=function(t){t.registerHelper("log",function(){for(var e=[void 0],r=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)e.push(arguments[n]);var i=1;r.hash.level!=null?i=r.hash.level:r.data&&r.data.level!=null&&(i=r.data.level),e[0]=i,t.log.apply(t,e)})};wa.exports=Jr.default});var _a=A(($r,Sa)=>{"use strict";$r.__esModule=!0;$r.default=function(t){t.registerHelper("lookup",function(e,r,n){return e&&n.lookupProperty(e,r)})};Sa.exports=$r.default});var Oa=A((Qr,ka)=>{"use strict";Qr.__esModule=!0;function zc(t){return t&&t.__esModule?t:{default:t}}var ar=se(),Yc=Ee(),Zc=zc(Yc);Qr.default=function(t){t.registerHelper("with",function(e,r){if(arguments.length!=2)throw new Zc.default("#with requires exactly one argument");ar.isFunction(e)&&(e=e.call(this));var n=r.fn;if(ar.isEmpty(e))return r.inverse(this);var i=r.data;return r.data&&r.ids&&(i=ar.createFrame(r.data),i.contextPath=ar.appendContextPath(r.data.contextPath,r.ids[0])),n(e,{data:i,blockParams:ar.blockParams([e],[i&&i.contextPath])})})};ka.exports=Qr.default});var vi=A(Xr=>{"use strict";Xr.__esModule=!0;Xr.registerDefaultHelpers=lh;Xr.moveHelperToHooks=ch;function ct(t){return t&&t.__esModule?t:{default:t}}var Kc=pa(),Jc=ct(Kc),$c=ga(),Qc=ct($c),Xc=ya(),eh=ct(Xc),th=Ca(),rh=ct(th),nh=ba(),ih=ct(nh),sh=_a(),ah=ct(sh),oh=Oa(),uh=ct(oh);function lh(t){Jc.default(t),Qc.default(t),eh.default(t),rh.default(t),ih.default(t),ah.default(t),uh.default(t)}function ch(t,e,r){t.helpers[e]&&(t.hooks[e]=t.helpers[e],r||delete t.helpers[e])}});var Ta=A((en,xa)=>{"use strict";en.__esModule=!0;var hh=se();en.default=function(t){t.registerDecorator("inline",function(e,r,n,i){var s=e;return r.partials||(r.partials={},s=function(a,o){var u=n.partials;n.partials=hh.extend({},u,r.partials);var l=e(a,o);return n.partials=u,l}),r.partials[i.args[0]]=i.fn,s})};xa.exports=en.default});var Ma=A(Fi=>{"use strict";Fi.__esModule=!0;Fi.registerDefaultDecorators=mh;function fh(t){return t&&t.__esModule?t:{default:t}}var dh=Ta(),ph=fh(dh);function mh(t){ph.default(t)}});var Ei=A((tn,Aa)=>{"use strict";tn.__esModule=!0;var gh=se(),xt={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if(typeof e=="string"){var r=gh.indexOf(xt.methodMap,e.toLowerCase());r>=0?e=r:e=parseInt(e,10)}return e},log:function(e){if(e=xt.lookupLevel(e),typeof console!="undefined"&&xt.lookupLevel(xt.level)<=e){var r=xt.methodMap[e];console[r]||(r="log");for(var n=arguments.length,i=Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];console[r].apply(console,i)}}};tn.default=xt;Aa.exports=tn.default});var Ia=A(Ci=>{"use strict";Ci.__esModule=!0;Ci.createNewLookupObject=yh;var Dh=se();function yh(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return Dh.extend.apply(void 0,[Object.create(null)].concat(e))}});var wi=A(or=>{"use strict";or.__esModule=!0;or.createProtoAccessControl=Ch;or.resultIsAllowed=wh;or.resetLoggedProperties=Sh;function vh(t){return t&&t.__esModule?t:{default:t}}var La=Ia(),Fh=Ei(),Eh=vh(Fh),rn=Object.create(null);function Ch(t){var e=Object.create(null);e.constructor=!1,e.__defineGetter__=!1,e.__defineSetter__=!1,e.__lookupGetter__=!1;var r=Object.create(null);return r.__proto__=!1,{properties:{whitelist:La.createNewLookupObject(r,t.allowedProtoProperties),defaultValue:t.allowProtoPropertiesByDefault},methods:{whitelist:La.createNewLookupObject(e,t.allowedProtoMethods),defaultValue:t.allowProtoMethodsByDefault}}}function wh(t,e,r){return Na(typeof t=="function"?e.methods:e.properties,r)}function Na(t,e){return t.whitelist[e]!==void 0?t.whitelist[e]===!0:t.defaultValue!==void 0?t.defaultValue:(bh(e),!1)}function bh(t){rn[t]!==!0&&(rn[t]=!0,Eh.default.log("error",'Handlebars: Access has been denied to resolve the property "'+t+`" because it is not an "own property" of its parent.
You can add a runtime option to disable the check or this warning:
See https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details`))}function Sh(){Object.keys(rn).forEach(function(t){delete rn[t]})}});var sn=A(Pe=>{"use strict";Pe.__esModule=!0;Pe.HandlebarsEnvironment=_i;function Pa(t){return t&&t.__esModule?t:{default:t}}var ht=se(),_h=Ee(),bi=Pa(_h),kh=vi(),Oh=Ma(),xh=Ei(),nn=Pa(xh),Th=wi(),Mh="4.7.8";Pe.VERSION=Mh;var Ah=8;Pe.COMPILER_REVISION=Ah;var Ih=7;Pe.LAST_COMPATIBLE_COMPILER_REVISION=Ih;var Lh={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};Pe.REVISION_CHANGES=Lh;var Si="[object Object]";function _i(t,e,r){this.helpers=t||{},this.partials=e||{},this.decorators=r||{},kh.registerDefaultHelpers(this),Oh.registerDefaultDecorators(this)}_i.prototype={constructor:_i,logger:nn.default,log:nn.default.log,registerHelper:function(e,r){if(ht.toString.call(e)===Si){if(r)throw new bi.default("Arg not supported with multiple helpers");ht.extend(this.helpers,e)}else this.helpers[e]=r},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,r){if(ht.toString.call(e)===Si)ht.extend(this.partials,e);else{if(typeof r=="undefined")throw new bi.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=r}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,r){if(ht.toString.call(e)===Si){if(r)throw new bi.default("Arg not supported with multiple decorators");ht.extend(this.decorators,e)}else this.decorators[e]=r},unregisterDecorator:function(e){delete this.decorators[e]},resetLoggedPropertyAccesses:function(){Th.resetLoggedProperties()}};var Nh=nn.default.log;Pe.log=Nh;Pe.createFrame=ht.createFrame;Pe.logger=nn.default});var Ra=A((an,Ba)=>{"use strict";an.__esModule=!0;function ki(t){this.string=t}ki.prototype.toString=ki.prototype.toHTML=function(){return""+this.string};an.default=ki;Ba.exports=an.default});var Ha=A(Oi=>{"use strict";Oi.__esModule=!0;Oi.wrapHelper=Ph;function Ph(t,e){if(typeof t!="function")return t;var r=function(){var i=arguments[arguments.length-1];return arguments[arguments.length-1]=e(i),t.apply(this,arguments)};return r}});var Wa=A(Xe=>{"use strict";Xe.__esModule=!0;Xe.checkRevision=Vh;Xe.template=Uh;Xe.wrapProgram=on;Xe.resolvePartial=Wh;Xe.invokePartial=jh;Xe.noop=Va;function Bh(t){return t&&t.__esModule?t:{default:t}}function Rh(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}var Hh=se(),je=Rh(Hh),Gh=Ee(),ze=Bh(Gh),Ye=sn(),Ga=vi(),qh=Ha(),qa=wi();function Vh(t){var e=t&&t[0]||1,r=Ye.COMPILER_REVISION;if(!(e>=Ye.LAST_COMPATIBLE_COMPILER_REVISION&&e<=Ye.COMPILER_REVISION))if(e<Ye.LAST_COMPATIBLE_COMPILER_REVISION){var n=Ye.REVISION_CHANGES[r],i=Ye.REVISION_CHANGES[e];throw new ze.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+i+").")}else throw new ze.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}function Uh(t,e){if(!e)throw new ze.default("No environment passed to template");if(!t||!t.main)throw new ze.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var r=t.compiler&&t.compiler[0]===7;function n(a,o,u){u.hash&&(o=je.extend({},o,u.hash),u.ids&&(u.ids[0]=!0)),a=e.VM.resolvePartial.call(this,a,o,u);var l=je.extend({},u,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),d=e.VM.invokePartial.call(this,a,o,l);if(d==null&&e.compile&&(u.partials[u.name]=e.compile(a,t.compilerOptions,e),d=u.partials[u.name](o,l)),d!=null){if(u.indent){for(var c=d.split(`
`),m=0,D=c.length;m<D&&!(!c[m]&&m+1===D);m++)c[m]=u.indent+c[m];d=c.join(`
`)}return d}else throw new ze.default("The partial "+u.name+" could not be compiled when running in runtime-only mode")}var i={strict:function(o,u,l){if(!o||!(u in o))throw new ze.default('"'+u+'" not defined in '+o,{loc:l});return i.lookupProperty(o,u)},lookupProperty:function(o,u){var l=o[u];if(l==null||Object.prototype.hasOwnProperty.call(o,u)||qa.resultIsAllowed(l,i.protoAccessControl,u))return l},lookup:function(o,u){for(var l=o.length,d=0;d<l;d++){var c=o[d]&&i.lookupProperty(o[d],u);if(c!=null)return o[d][u]}},lambda:function(o,u){return typeof o=="function"?o.call(u):o},escapeExpression:je.escapeExpression,invokePartial:n,fn:function(o){var u=t[o];return u.decorator=t[o+"_d"],u},programs:[],program:function(o,u,l,d,c){var m=this.programs[o],D=this.fn(o);return u||c||d||l?m=on(this,o,D,u,l,d,c):m||(m=this.programs[o]=on(this,o,D)),m},data:function(o,u){for(;o&&u--;)o=o._parent;return o},mergeIfNeeded:function(o,u){var l=o||u;return o&&u&&o!==u&&(l=je.extend({},u,o)),l},nullContext:Object.seal({}),noop:e.VM.noop,compilerInfo:t.compiler};function s(a){var o=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],u=o.data;s._setup(o),!o.partial&&t.useData&&(u=zh(a,u));var l=void 0,d=t.useBlockParams?[]:void 0;t.useDepths&&(o.depths?l=a!=o.depths[0]?[a].concat(o.depths):o.depths:l=[a]);function c(m){return""+t.main(i,m,i.helpers,i.partials,u,d,l)}return c=Ua(t.main,c,i,o.depths||[],u,d),c(a,o)}return s.isTop=!0,s._setup=function(a){if(a.partial)i.protoAccessControl=a.protoAccessControl,i.helpers=a.helpers,i.partials=a.partials,i.decorators=a.decorators,i.hooks=a.hooks;else{var o=je.extend({},e.helpers,a.helpers);Yh(o,i),i.helpers=o,t.usePartial&&(i.partials=i.mergeIfNeeded(a.partials,e.partials)),(t.usePartial||t.useDecorators)&&(i.decorators=je.extend({},e.decorators,a.decorators)),i.hooks={},i.protoAccessControl=qa.createProtoAccessControl(a);var u=a.allowCallsToHelperMissing||r;Ga.moveHelperToHooks(i,"helperMissing",u),Ga.moveHelperToHooks(i,"blockHelperMissing",u)}},s._child=function(a,o,u,l){if(t.useBlockParams&&!u)throw new ze.default("must pass block params");if(t.useDepths&&!l)throw new ze.default("must pass parent depths");return on(i,a,t[a],o,0,u,l)},s}function on(t,e,r,n,i,s,a){function o(u){var l=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],d=a;return a&&u!=a[0]&&!(u===t.nullContext&&a[0]===null)&&(d=[u].concat(a)),r(t,u,t.helpers,t.partials,l.data||n,s&&[l.blockParams].concat(s),d)}return o=Ua(r,o,t,a,n,s),o.program=e,o.depth=a?a.length:0,o.blockParams=i||0,o}function Wh(t,e,r){return t?!t.call&&!r.name&&(r.name=t,t=r.partials[t]):r.name==="@partial-block"?t=r.data["partial-block"]:t=r.partials[r.name],t}function jh(t,e,r){var n=r.data&&r.data["partial-block"];r.partial=!0,r.ids&&(r.data.contextPath=r.ids[0]||r.data.contextPath);var i=void 0;if(r.fn&&r.fn!==Va&&function(){r.data=Ye.createFrame(r.data);var s=r.fn;i=r.data["partial-block"]=function(o){var u=arguments.length<=1||arguments[1]===void 0?{}:arguments[1];return u.data=Ye.createFrame(u.data),u.data["partial-block"]=n,s(o,u)},s.partials&&(r.partials=je.extend({},r.partials,s.partials))}(),t===void 0&&i&&(t=i),t===void 0)throw new ze.default("The partial "+r.name+" could not be found");if(t instanceof Function)return t(e,r)}function Va(){return""}function zh(t,e){return(!e||!("root"in e))&&(e=e?Ye.createFrame(e):{},e.root=t),e}function Ua(t,e,r,n,i,s){if(t.decorator){var a={};e=t.decorator(e,a,r,n&&n[0],i,s,n),je.extend(e,a)}return e}function Yh(t,e){Object.keys(t).forEach(function(r){var n=t[r];t[r]=Zh(n,e)})}function Zh(t,e){var r=e.lookupProperty;return qh.wrapHelper(t,function(n){return je.extend({lookupProperty:r},n)})}});var xi=A((un,ja)=>{"use strict";un.__esModule=!0;un.default=function(t){(function(){typeof globalThis!="object"&&(Object.prototype.__defineGetter__("__magic__",function(){return this}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__)})();var e=globalThis.Handlebars;t.noConflict=function(){return globalThis.Handlebars===t&&(globalThis.Handlebars=e),t}};ja.exports=un.default});var Ja=A((ln,Ka)=>{"use strict";ln.__esModule=!0;function Mi(t){return t&&t.__esModule?t:{default:t}}function Ai(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}var Kh=sn(),za=Ai(Kh),Jh=Ra(),$h=Mi(Jh),Qh=Ee(),Xh=Mi(Qh),ef=se(),Ti=Ai(ef),tf=Wa(),Ya=Ai(tf),rf=xi(),nf=Mi(rf);function Za(){var t=new za.HandlebarsEnvironment;return Ti.extend(t,za),t.SafeString=$h.default,t.Exception=Xh.default,t.Utils=Ti,t.escapeExpression=Ti.escapeExpression,t.VM=Ya,t.template=function(e){return Ya.template(e,t)},t}var ur=Za();ur.create=Za;nf.default(ur);ur.default=ur;ln.default=ur;Ka.exports=ln.default});var Ii=A((cn,Qa)=>{"use strict";cn.__esModule=!0;var $a={helpers:{helperExpression:function(e){return e.type==="SubExpression"||(e.type==="MustacheStatement"||e.type==="BlockStatement")&&!!(e.params&&e.params.length||e.hash)},scopedId:function(e){return/^\.|this\b/.test(e.original)},simpleId:function(e){return e.parts.length===1&&!$a.helpers.scopedId(e)&&!e.depth}}};cn.default=$a;Qa.exports=cn.default});var eo=A((hn,Xa)=>{"use strict";hn.__esModule=!0;var sf=function(){var t={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(i,s,a,o,u,l,d){var c=l.length-1;switch(u){case 1:return l[c-1];case 2:this.$=o.prepareProgram(l[c]);break;case 3:this.$=l[c];break;case 4:this.$=l[c];break;case 5:this.$=l[c];break;case 6:this.$=l[c];break;case 7:this.$=l[c];break;case 8:this.$=l[c];break;case 9:this.$={type:"CommentStatement",value:o.stripComment(l[c]),strip:o.stripFlags(l[c],l[c]),loc:o.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:l[c],value:l[c],loc:o.locInfo(this._$)};break;case 11:this.$=o.prepareRawBlock(l[c-2],l[c-1],l[c],this._$);break;case 12:this.$={path:l[c-3],params:l[c-2],hash:l[c-1]};break;case 13:this.$=o.prepareBlock(l[c-3],l[c-2],l[c-1],l[c],!1,this._$);break;case 14:this.$=o.prepareBlock(l[c-3],l[c-2],l[c-1],l[c],!0,this._$);break;case 15:this.$={open:l[c-5],path:l[c-4],params:l[c-3],hash:l[c-2],blockParams:l[c-1],strip:o.stripFlags(l[c-5],l[c])};break;case 16:this.$={path:l[c-4],params:l[c-3],hash:l[c-2],blockParams:l[c-1],strip:o.stripFlags(l[c-5],l[c])};break;case 17:this.$={path:l[c-4],params:l[c-3],hash:l[c-2],blockParams:l[c-1],strip:o.stripFlags(l[c-5],l[c])};break;case 18:this.$={strip:o.stripFlags(l[c-1],l[c-1]),program:l[c]};break;case 19:var m=o.prepareBlock(l[c-2],l[c-1],l[c],l[c],!1,this._$),D=o.prepareProgram([m],l[c-1].loc);D.chained=!0,this.$={strip:l[c-2].strip,program:D,chain:!0};break;case 20:this.$=l[c];break;case 21:this.$={path:l[c-1],strip:o.stripFlags(l[c-2],l[c])};break;case 22:this.$=o.prepareMustache(l[c-3],l[c-2],l[c-1],l[c-4],o.stripFlags(l[c-4],l[c]),this._$);break;case 23:this.$=o.prepareMustache(l[c-3],l[c-2],l[c-1],l[c-4],o.stripFlags(l[c-4],l[c]),this._$);break;case 24:this.$={type:"PartialStatement",name:l[c-3],params:l[c-2],hash:l[c-1],indent:"",strip:o.stripFlags(l[c-4],l[c]),loc:o.locInfo(this._$)};break;case 25:this.$=o.preparePartialBlock(l[c-2],l[c-1],l[c],this._$);break;case 26:this.$={path:l[c-3],params:l[c-2],hash:l[c-1],strip:o.stripFlags(l[c-4],l[c])};break;case 27:this.$=l[c];break;case 28:this.$=l[c];break;case 29:this.$={type:"SubExpression",path:l[c-3],params:l[c-2],hash:l[c-1],loc:o.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:l[c],loc:o.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:o.id(l[c-2]),value:l[c],loc:o.locInfo(this._$)};break;case 32:this.$=o.id(l[c-1]);break;case 33:this.$=l[c];break;case 34:this.$=l[c];break;case 35:this.$={type:"StringLiteral",value:l[c],original:l[c],loc:o.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(l[c]),original:Number(l[c]),loc:o.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:l[c]==="true",original:l[c]==="true",loc:o.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:o.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:o.locInfo(this._$)};break;case 40:this.$=l[c];break;case 41:this.$=l[c];break;case 42:this.$=o.preparePath(!0,l[c],this._$);break;case 43:this.$=o.preparePath(!1,l[c],this._$);break;case 44:l[c-2].push({part:o.id(l[c]),original:l[c],separator:l[c-1]}),this.$=l[c-2];break;case 45:this.$=[{part:o.id(l[c]),original:l[c]}];break;case 46:this.$=[];break;case 47:l[c-1].push(l[c]);break;case 48:this.$=[];break;case 49:l[c-1].push(l[c]);break;case 50:this.$=[];break;case 51:l[c-1].push(l[c]);break;case 58:this.$=[];break;case 59:l[c-1].push(l[c]);break;case 64:this.$=[];break;case 65:l[c-1].push(l[c]);break;case 70:this.$=[];break;case 71:l[c-1].push(l[c]);break;case 78:this.$=[];break;case 79:l[c-1].push(l[c]);break;case 82:this.$=[];break;case 83:l[c-1].push(l[c]);break;case 86:this.$=[];break;case 87:l[c-1].push(l[c]);break;case 90:this.$=[];break;case 91:l[c-1].push(l[c]);break;case 94:this.$=[];break;case 95:l[c-1].push(l[c]);break;case 98:this.$=[l[c]];break;case 99:l[c-1].push(l[c]);break;case 100:this.$=[l[c]];break;case 101:l[c-1].push(l[c]);break}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(i,s){throw new Error(i)},parse:function(i){var s=this,a=[0],o=[null],u=[],l=this.table,d="",c=0,m=0,D=0,E=2,O=1;this.lexer.setInput(i),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc=="undefined"&&(this.lexer.yylloc={});var P=this.lexer.yylloc;u.push(P);var L=this.lexer.options&&this.lexer.options.ranges;typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);function U(Z){a.length=a.length-2*Z,o.length=o.length-Z,u.length=u.length-Z}function re(){var Z;return Z=s.lexer.lex()||1,typeof Z!="number"&&(Z=s.symbols_[Z]||Z),Z}for(var v,x,R,b,M,H,ae={},oe,V,Le,ue;;){if(R=a[a.length-1],this.defaultActions[R]?b=this.defaultActions[R]:((v===null||typeof v=="undefined")&&(v=re()),b=l[R]&&l[R][v]),typeof b=="undefined"||!b.length||!b[0]){var le="";if(!D){ue=[];for(oe in l[R])this.terminals_[oe]&&oe>2&&ue.push("'"+this.terminals_[oe]+"'");this.lexer.showPosition?le="Parse error on line "+(c+1)+`:
`+this.lexer.showPosition()+`
Expecting `+ue.join(", ")+", got '"+(this.terminals_[v]||v)+"'":le="Parse error on line "+(c+1)+": Unexpected "+(v==1?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(le,{text:this.lexer.match,token:this.terminals_[v]||v,line:this.lexer.yylineno,loc:P,expected:ue})}}if(b[0]instanceof Array&&b.length>1)throw new Error("Parse Error: multiple actions possible at state: "+R+", token: "+v);switch(b[0]){case 1:a.push(v),o.push(this.lexer.yytext),u.push(this.lexer.yylloc),a.push(b[1]),v=null,x?(v=x,x=null):(m=this.lexer.yyleng,d=this.lexer.yytext,c=this.lexer.yylineno,P=this.lexer.yylloc,D>0&&D--);break;case 2:if(V=this.productions_[b[1]][1],ae.$=o[o.length-V],ae._$={first_line:u[u.length-(V||1)].first_line,last_line:u[u.length-1].last_line,first_column:u[u.length-(V||1)].first_column,last_column:u[u.length-1].last_column},L&&(ae._$.range=[u[u.length-(V||1)].range[0],u[u.length-1].range[1]]),H=this.performAction.call(ae,d,m,c,this.yy,b[1],o,u),typeof H!="undefined")return H;V&&(a=a.slice(0,-1*V*2),o=o.slice(0,-1*V),u=u.slice(0,-1*V)),a.push(this.productions_[b[1]][0]),o.push(ae.$),u.push(ae._$),Le=l[a[a.length-2]][a[a.length-1]],a.push(Le);break;case 3:return!0}}return!0}},e=function(){var n={EOF:1,parseError:function(s,a){if(this.yy.parser)this.yy.parser.parseError(s,a);else throw new Error(s)},setInput:function(s){return this._input=s,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var s=this._input[0];this.yytext+=s,this.yyleng++,this.offset++,this.match+=s,this.matched+=s;var a=s.match(/(?:\r\n?|\n).*/g);return a?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),s},unput:function(s){var a=s.length,o=s.split(/(?:\r\n?|\n)/g);this._input=s+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-a-1),this.offset-=a;var u=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),o.length-1&&(this.yylineno-=o.length-1);var l=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:o?(o.length===u.length?this.yylloc.first_column:0)+u[u.length-o.length].length-o[0].length:this.yylloc.first_column-a},this.options.ranges&&(this.yylloc.range=[l[0],l[0]+this.yyleng-a]),this},more:function(){return this._more=!0,this},less:function(s){this.unput(this.match.slice(s))},pastInput:function(){var s=this.matched.substr(0,this.matched.length-this.match.length);return(s.length>20?"...":"")+s.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var s=this.match;return s.length<20&&(s+=this._input.substr(0,20-s.length)),(s.substr(0,20)+(s.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var s=this.pastInput(),a=new Array(s.length+1).join("-");return s+this.upcomingInput()+`
`+a+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var s,a,o,u,l,d;this._more||(this.yytext="",this.match="");for(var c=this._currentRules(),m=0;m<c.length&&(o=this._input.match(this.rules[c[m]]),!(o&&(!a||o[0].length>a[0].length)&&(a=o,u=m,!this.options.flex)));m++);return a?(d=a[0].match(/(?:\r\n?|\n).*/g),d&&(this.yylineno+=d.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:d?d[d.length-1].length-d[d.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length},this.yytext+=a[0],this.match+=a[0],this.matches=a,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(a[0].length),this.matched+=a[0],s=this.performAction.call(this,this.yy,this,c[u],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),s||void 0):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var s=this.next();return typeof s!="undefined"?s:this.lex()},begin:function(s){this.conditionStack.push(s)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(s){this.begin(s)}};return n.options={},n.performAction=function(s,a,o,u){function l(c,m){return a.yytext=a.yytext.substring(c,a.yyleng-m+c)}var d=u;switch(o){case 0:if(a.yytext.slice(-2)==="\\\\"?(l(0,1),this.begin("mu")):a.yytext.slice(-1)==="\\"?(l(0,1),this.begin("emu")):this.begin("mu"),a.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;break;case 3:return this.begin("raw"),15;break;case 4:return this.popState(),this.conditionStack[this.conditionStack.length-1]==="raw"?15:(l(5,9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;break;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;break;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;break;case 16:return this.popState(),44;break;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(a.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;break;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;break;case 30:return this.popState(),33;break;case 31:return a.yytext=l(1,2).replace(/\\"/g,'"'),80;break;case 32:return a.yytext=l(1,2).replace(/\\'/g,"'"),80;break;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return a.yytext=a.yytext.replace(/\\([\\\]])/g,"$1"),72;break;case 43:return"INVALID";case 44:return 5}},n.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],n.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},n}();t.lexer=e;function r(){this.yy={}}return r.prototype=t,t.Parser=r,new r}();hn.default=sf;Xa.exports=hn.default});var Ni=A((pn,no)=>{"use strict";pn.__esModule=!0;function af(t){return t&&t.__esModule?t:{default:t}}var of=Ee(),Li=af(of);function fn(){this.parents=[]}fn.prototype={constructor:fn,mutating:!1,acceptKey:function(e,r){var n=this.accept(e[r]);if(this.mutating){if(n&&!fn.prototype[n.type])throw new Li.default('Unexpected node type "'+n.type+'" found when accepting '+r+" on "+e.type);e[r]=n}},acceptRequired:function(e,r){if(this.acceptKey(e,r),!e[r])throw new Li.default(e.type+" requires "+r)},acceptArray:function(e){for(var r=0,n=e.length;r<n;r++)this.acceptKey(e,r),e[r]||(e.splice(r,1),r--,n--)},accept:function(e){if(e){if(!this[e.type])throw new Li.default("Unknown type: "+e.type,e);this.current&&this.parents.unshift(this.current),this.current=e;var r=this[e.type](e);if(this.current=this.parents.shift(),!this.mutating||r)return r;if(r!==!1)return e}},Program:function(e){this.acceptArray(e.body)},MustacheStatement:dn,Decorator:dn,BlockStatement:to,DecoratorBlock:to,PartialStatement:ro,PartialBlockStatement:function(e){ro.call(this,e),this.acceptKey(e,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:dn,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(e){this.acceptArray(e.pairs)},HashPair:function(e){this.acceptRequired(e,"value")}};function dn(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")}function to(t){dn.call(this,t),this.acceptKey(t,"program"),this.acceptKey(t,"inverse")}function ro(t){this.acceptRequired(t,"name"),this.acceptArray(t.params),this.acceptKey(t,"hash")}pn.default=fn;no.exports=pn.default});var so=A((mn,io)=>{"use strict";mn.__esModule=!0;function uf(t){return t&&t.__esModule?t:{default:t}}var lf=Ni(),cf=uf(lf);function Be(){var t=arguments.length<=0||arguments[0]===void 0?{}:arguments[0];this.options=t}Be.prototype=new cf.default;Be.prototype.Program=function(t){var e=!this.options.ignoreStandalone,r=!this.isRootSeen;this.isRootSeen=!0;for(var n=t.body,i=0,s=n.length;i<s;i++){var a=n[i],o=this.accept(a);if(o){var u=Pi(n,i,r),l=Bi(n,i,r),d=o.openStandalone&&u,c=o.closeStandalone&&l,m=o.inlineStandalone&&u&&l;o.close&&ft(n,i,!0),o.open&&et(n,i,!0),e&&m&&(ft(n,i),et(n,i)&&a.type==="PartialStatement"&&(a.indent=/([ \t]+$)/.exec(n[i-1].original)[1])),e&&d&&(ft((a.program||a.inverse).body),et(n,i)),e&&c&&(ft(n,i),et((a.inverse||a.program).body))}}return t};Be.prototype.BlockStatement=Be.prototype.DecoratorBlock=Be.prototype.PartialBlockStatement=function(t){this.accept(t.program),this.accept(t.inverse);var e=t.program||t.inverse,r=t.program&&t.inverse,n=r,i=r;if(r&&r.chained)for(n=r.body[0].program;i.chained;)i=i.body[i.body.length-1].program;var s={open:t.openStrip.open,close:t.closeStrip.close,openStandalone:Bi(e.body),closeStandalone:Pi((n||e).body)};if(t.openStrip.close&&ft(e.body,null,!0),r){var a=t.inverseStrip;a.open&&et(e.body,null,!0),a.close&&ft(n.body,null,!0),t.closeStrip.open&&et(i.body,null,!0),!this.options.ignoreStandalone&&Pi(e.body)&&Bi(n.body)&&(et(e.body),ft(n.body))}else t.closeStrip.open&&et(e.body,null,!0);return s};Be.prototype.Decorator=Be.prototype.MustacheStatement=function(t){return t.strip};Be.prototype.PartialStatement=Be.prototype.CommentStatement=function(t){var e=t.strip||{};return{inlineStandalone:!0,open:e.open,close:e.close}};function Pi(t,e,r){e===void 0&&(e=t.length);var n=t[e-1],i=t[e-2];if(!n)return r;if(n.type==="ContentStatement")return(i||!r?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(n.original)}function Bi(t,e,r){e===void 0&&(e=-1);var n=t[e+1],i=t[e+2];if(!n)return r;if(n.type==="ContentStatement")return(i||!r?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(n.original)}function ft(t,e,r){var n=t[e==null?0:e+1];if(!(!n||n.type!=="ContentStatement"||!r&&n.rightStripped)){var i=n.value;n.value=n.value.replace(r?/^\s+/:/^[ \t]*\r?\n?/,""),n.rightStripped=n.value!==i}}function et(t,e,r){var n=t[e==null?t.length-1:e-1];if(!(!n||n.type!=="ContentStatement"||!r&&n.leftStripped)){var i=n.value;return n.value=n.value.replace(r?/\s+$/:/[ \t]+$/,""),n.leftStripped=n.value!==i,n.leftStripped}}mn.default=Be;io.exports=mn.default});var ao=A(Ce=>{"use strict";Ce.__esModule=!0;Ce.SourceLocation=df;Ce.id=pf;Ce.stripFlags=mf;Ce.stripComment=gf;Ce.preparePath=Df;Ce.prepareMustache=yf;Ce.prepareRawBlock=vf;Ce.prepareBlock=Ff;Ce.prepareProgram=Ef;Ce.preparePartialBlock=Cf;function hf(t){return t&&t.__esModule?t:{default:t}}var ff=Ee(),Ri=hf(ff);function Hi(t,e){if(e=e.path?e.path.original:e,t.path.original!==e){var r={loc:t.path.loc};throw new Ri.default(t.path.original+" doesn't match "+e,r)}}function df(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}}function pf(t){return/^\[.*\]$/.test(t)?t.substring(1,t.length-1):t}function mf(t,e){return{open:t.charAt(2)==="~",close:e.charAt(e.length-3)==="~"}}function gf(t){return t.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function Df(t,e,r){r=this.locInfo(r);for(var n=t?"@":"",i=[],s=0,a=0,o=e.length;a<o;a++){var u=e[a].part,l=e[a].original!==u;if(n+=(e[a].separator||"")+u,!l&&(u===".."||u==="."||u==="this")){if(i.length>0)throw new Ri.default("Invalid path: "+n,{loc:r});u===".."&&s++}else i.push(u)}return{type:"PathExpression",data:t,depth:s,parts:i,original:n,loc:r}}function yf(t,e,r,n,i,s){var a=n.charAt(3)||n.charAt(2),o=a!=="{"&&a!=="&",u=/\*/.test(n);return{type:u?"Decorator":"MustacheStatement",path:t,params:e,hash:r,escaped:o,strip:i,loc:this.locInfo(s)}}function vf(t,e,r,n){Hi(t,r),n=this.locInfo(n);var i={type:"Program",body:e,strip:{},loc:n};return{type:"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:i,openStrip:{},inverseStrip:{},closeStrip:{},loc:n}}function Ff(t,e,r,n,i,s){n&&n.path&&Hi(t,n);var a=/\*/.test(t.open);e.blockParams=t.blockParams;var o=void 0,u=void 0;if(r){if(a)throw new Ri.default("Unexpected inverse block on decorator",r);r.chain&&(r.program.body[0].closeStrip=n.strip),u=r.strip,o=r.program}return i&&(i=o,o=e,e=i),{type:a?"DecoratorBlock":"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:e,inverse:o,openStrip:t.strip,inverseStrip:u,closeStrip:n&&n.strip,loc:this.locInfo(s)}}function Ef(t,e){if(!e&&t.length){var r=t[0].loc,n=t[t.length-1].loc;r&&n&&(e={source:r.source,start:{line:r.start.line,column:r.start.column},end:{line:n.end.line,column:n.end.column}})}return{type:"Program",body:t,strip:{},loc:e}}function Cf(t,e,r,n){return Hi(t,r),{type:"PartialBlockStatement",name:t.path,params:t.params,hash:t.hash,program:e,openStrip:t.strip,closeStrip:r&&r.strip,loc:this.locInfo(n)}}});var lo=A(lr=>{"use strict";lr.__esModule=!0;lr.parseWithoutProcessing=uo;lr.parse=Tf;function wf(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function oo(t){return t&&t.__esModule?t:{default:t}}var bf=eo(),Gi=oo(bf),Sf=so(),_f=oo(Sf),kf=ao(),Of=wf(kf),xf=se();lr.parser=Gi.default;var gn={};xf.extend(gn,Of);function uo(t,e){if(t.type==="Program")return t;Gi.default.yy=gn,gn.locInfo=function(n){return new gn.SourceLocation(e&&e.srcName,n)};var r=Gi.default.parse(t);return r}function Tf(t,e){var r=uo(t,e),n=new _f.default(e);return n.accept(r)}});var po=A(dr=>{"use strict";dr.__esModule=!0;dr.Compiler=qi;dr.precompile=Lf;dr.compile=Nf;function ho(t){return t&&t.__esModule?t:{default:t}}var Mf=Ee(),hr=ho(Mf),fr=se(),Af=Ii(),cr=ho(Af),If=[].slice;function qi(){}qi.prototype={compiler:qi,equals:function(e){var r=this.opcodes.length;if(e.opcodes.length!==r)return!1;for(var n=0;n<r;n++){var i=this.opcodes[n],s=e.opcodes[n];if(i.opcode!==s.opcode||!fo(i.args,s.args))return!1}r=this.children.length;for(var n=0;n<r;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,r){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=r,this.stringParams=r.stringParams,this.trackIds=r.trackIds,r.blockParams=r.blockParams||[],r.knownHelpers=fr.extend(Object.create(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},r.knownHelpers),this.accept(e)},compileProgram:function(e){var r=new this.compiler,n=r.compile(e,this.options),i=this.guid++;return this.usePartial=this.usePartial||n.usePartial,this.children[i]=n,this.useDepths=this.useDepths||n.useDepths,i},accept:function(e){if(!this[e.type])throw new hr.default("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var r=this[e.type](e);return this.sourceNode.shift(),r},Program:function(e){this.options.blockParams.unshift(e.blockParams);for(var r=e.body,n=r.length,i=0;i<n;i++)this.accept(r[i]);return this.options.blockParams.shift(),this.isSimple=n===1,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){co(e);var r=e.program,n=e.inverse;r=r&&this.compileProgram(r),n=n&&this.compileProgram(n);var i=this.classifySexpr(e);i==="helper"?this.helperSexpr(e,r,n):i==="simple"?(this.simpleSexpr(e),this.opcode("pushProgram",r),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,r,n),this.opcode("pushProgram",r),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(e){var r=e.program&&this.compileProgram(e.program),n=this.setupFullMustacheParams(e,r,void 0),i=e.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,i.original)},PartialStatement:function(e){this.usePartial=!0;var r=e.program;r&&(r=this.compileProgram(e.program));var n=e.params;if(n.length>1)throw new hr.default("Unsupported number of partial arguments: "+n.length,e);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var i=e.name.original,s=e.name.type==="SubExpression";s&&this.accept(e.name),this.setupFullMustacheParams(e,r,void 0,!0);var a=e.indent||"";this.options.preventIndent&&a&&(this.opcode("appendContent",a),a=""),this.opcode("invokePartial",s,i,a),this.opcode("append")},PartialBlockStatement:function(e){this.PartialStatement(e)},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(e){this.DecoratorBlock(e)},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){co(e);var r=this.classifySexpr(e);r==="simple"?this.simpleSexpr(e):r==="helper"?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function(e,r,n){var i=e.path,s=i.parts[0],a=r!=null||n!=null;this.opcode("getContext",i.depth),this.opcode("pushProgram",r),this.opcode("pushProgram",n),i.strict=!0,this.accept(i),this.opcode("invokeAmbiguous",s,a)},simpleSexpr:function(e){var r=e.path;r.strict=!0,this.accept(r),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,r,n){var i=this.setupFullMustacheParams(e,r,n),s=e.path,a=s.parts[0];if(this.options.knownHelpers[a])this.opcode("invokeKnownHelper",i.length,a);else{if(this.options.knownHelpersOnly)throw new hr.default("You specified knownHelpersOnly, but used the unknown helper "+a,e);s.strict=!0,s.falsy=!0,this.accept(s),this.opcode("invokeHelper",i.length,s.original,cr.default.helpers.simpleId(s))}},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var r=e.parts[0],n=cr.default.helpers.scopedId(e),i=!e.depth&&!n&&this.blockParamIndex(r);i?this.opcode("lookupBlockParam",i,e.parts):r?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,n):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(e){var r=e.pairs,n=0,i=r.length;for(this.opcode("pushHash");n<i;n++)this.pushParam(r[n].value);for(;n--;)this.opcode("assignToHash",r[n].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:If.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){e&&(this.useDepths=!0)},classifySexpr:function(e){var r=cr.default.helpers.simpleId(e.path),n=r&&!!this.blockParamIndex(e.path.parts[0]),i=!n&&cr.default.helpers.helperExpression(e),s=!n&&(i||r);if(s&&!i){var a=e.path.parts[0],o=this.options;o.knownHelpers[a]?i=!0:o.knownHelpersOnly&&(s=!1)}return i?"helper":s?"ambiguous":"simple"},pushParams:function(e){for(var r=0,n=e.length;r<n;r++)this.pushParam(e[r])},pushParam:function(e){var r=e.value!=null?e.value:e.original||"";if(this.stringParams)r.replace&&(r=r.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",r,e.type),e.type==="SubExpression"&&this.accept(e);else{if(this.trackIds){var n=void 0;if(e.parts&&!cr.default.helpers.scopedId(e)&&!e.depth&&(n=this.blockParamIndex(e.parts[0])),n){var i=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,i)}else r=e.original||r,r.replace&&(r=r.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,r)}this.accept(e)}},setupFullMustacheParams:function(e,r,n,i){var s=e.params;return this.pushParams(s),this.opcode("pushProgram",r),this.opcode("pushProgram",n),e.hash?this.accept(e.hash):this.opcode("emptyHash",i),s},blockParamIndex:function(e){for(var r=0,n=this.options.blockParams.length;r<n;r++){var i=this.options.blockParams[r],s=i&&fr.indexOf(i,e);if(i&&s>=0)return[r,s]}}};function Lf(t,e,r){if(t==null||typeof t!="string"&&t.type!=="Program")throw new hr.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);e=e||{},"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var n=r.parse(t,e),i=new r.Compiler().compile(n,e);return new r.JavaScriptCompiler().compile(i,e)}function Nf(t,e,r){if(e===void 0&&(e={}),t==null||typeof t!="string"&&t.type!=="Program")throw new hr.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);e=fr.extend({},e),"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var n=void 0;function i(){var a=r.parse(t,e),o=new r.Compiler().compile(a,e),u=new r.JavaScriptCompiler().compile(o,e,void 0,!0);return r.template(u)}function s(a,o){return n||(n=i()),n.call(this,a,o)}return s._setup=function(a){return n||(n=i()),n._setup(a)},s._child=function(a,o,u,l){return n||(n=i()),n._child(a,o,u,l)},s}function fo(t,e){if(t===e)return!0;if(fr.isArray(t)&&fr.isArray(e)&&t.length===e.length){for(var r=0;r<t.length;r++)if(!fo(t[r],e[r]))return!1;return!0}}function co(t){if(!t.path.parts){var e=t.path;t.path={type:"PathExpression",data:!1,depth:0,parts:[e.original+""],original:e.original+"",loc:e.loc}}}});var go=A(Vi=>{var mo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");Vi.encode=function(t){if(0<=t&&t<mo.length)return mo[t];throw new TypeError("Must be between 0 and 63: "+t)};Vi.decode=function(t){var e=65,r=90,n=97,i=122,s=48,a=57,o=43,u=47,l=26,d=52;return e<=t&&t<=r?t-e:n<=t&&t<=i?t-n+l:s<=t&&t<=a?t-s+d:t==o?62:t==u?63:-1}});var ji=A(Wi=>{var Do=go(),Ui=5,yo=1<<Ui,vo=yo-1,Fo=yo;function Pf(t){return t<0?(-t<<1)+1:(t<<1)+0}function Bf(t){var e=(t&1)===1,r=t>>1;return e?-r:r}Wi.encode=function(e){var r="",n,i=Pf(e);do n=i&vo,i>>>=Ui,i>0&&(n|=Fo),r+=Do.encode(n);while(i>0);return r};Wi.decode=function(e,r,n){var i=e.length,s=0,a=0,o,u;do{if(r>=i)throw new Error("Expected more digits in base 64 VLQ value.");if(u=Do.decode(e.charCodeAt(r++)),u===-1)throw new Error("Invalid base64 digit: "+e.charAt(r-1));o=!!(u&Fo),u&=vo,s=s+(u<<a),a+=Ui}while(o);n.value=Bf(s),n.rest=r}});var At=A(ee=>{function Rf(t,e,r){if(e in t)return t[e];if(arguments.length===3)return r;throw new Error('"'+e+'" is a required argument.')}ee.getArg=Rf;var Eo=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,Hf=/^data:.+\,.+$/;function pr(t){var e=t.match(Eo);return e?{scheme:e[1],auth:e[2],host:e[3],port:e[4],path:e[5]}:null}ee.urlParse=pr;function Tt(t){var e="";return t.scheme&&(e+=t.scheme+":"),e+="//",t.auth&&(e+=t.auth+"@"),t.host&&(e+=t.host),t.port&&(e+=":"+t.port),t.path&&(e+=t.path),e}ee.urlGenerate=Tt;function zi(t){var e=t,r=pr(t);if(r){if(!r.path)return t;e=r.path}for(var n=ee.isAbsolute(e),i=e.split(/\/+/),s,a=0,o=i.length-1;o>=0;o--)s=i[o],s==="."?i.splice(o,1):s===".."?a++:a>0&&(s===""?(i.splice(o+1,a),a=0):(i.splice(o,2),a--));return e=i.join("/"),e===""&&(e=n?"/":"."),r?(r.path=e,Tt(r)):e}ee.normalize=zi;function Co(t,e){t===""&&(t="."),e===""&&(e=".");var r=pr(e),n=pr(t);if(n&&(t=n.path||"/"),r&&!r.scheme)return n&&(r.scheme=n.scheme),Tt(r);if(r||e.match(Hf))return e;if(n&&!n.host&&!n.path)return n.host=e,Tt(n);var i=e.charAt(0)==="/"?e:zi(t.replace(/\/+$/,"")+"/"+e);return n?(n.path=i,Tt(n)):i}ee.join=Co;ee.isAbsolute=function(t){return t.charAt(0)==="/"||Eo.test(t)};function Gf(t,e){t===""&&(t="."),t=t.replace(/\/$/,"");for(var r=0;e.indexOf(t+"/")!==0;){var n=t.lastIndexOf("/");if(n<0||(t=t.slice(0,n),t.match(/^([^\/]+:\/)?\/*$/)))return e;++r}return Array(r+1).join("../")+e.substr(t.length+1)}ee.relative=Gf;var wo=function(){var t=Object.create(null);return!("__proto__"in t)}();function bo(t){return t}function qf(t){return So(t)?"$"+t:t}ee.toSetString=wo?bo:qf;function Vf(t){return So(t)?t.slice(1):t}ee.fromSetString=wo?bo:Vf;function So(t){if(!t)return!1;var e=t.length;if(e<9||t.charCodeAt(e-1)!==95||t.charCodeAt(e-2)!==95||t.charCodeAt(e-3)!==111||t.charCodeAt(e-4)!==116||t.charCodeAt(e-5)!==111||t.charCodeAt(e-6)!==114||t.charCodeAt(e-7)!==112||t.charCodeAt(e-8)!==95||t.charCodeAt(e-9)!==95)return!1;for(var r=e-10;r>=0;r--)if(t.charCodeAt(r)!==36)return!1;return!0}function Uf(t,e,r){var n=Mt(t.source,e.source);return n!==0||(n=t.originalLine-e.originalLine,n!==0)||(n=t.originalColumn-e.originalColumn,n!==0||r)||(n=t.generatedColumn-e.generatedColumn,n!==0)||(n=t.generatedLine-e.generatedLine,n!==0)?n:Mt(t.name,e.name)}ee.compareByOriginalPositions=Uf;function Wf(t,e,r){var n=t.generatedLine-e.generatedLine;return n!==0||(n=t.generatedColumn-e.generatedColumn,n!==0||r)||(n=Mt(t.source,e.source),n!==0)||(n=t.originalLine-e.originalLine,n!==0)||(n=t.originalColumn-e.originalColumn,n!==0)?n:Mt(t.name,e.name)}ee.compareByGeneratedPositionsDeflated=Wf;function Mt(t,e){return t===e?0:t===null?1:e===null?-1:t>e?1:-1}function jf(t,e){var r=t.generatedLine-e.generatedLine;return r!==0||(r=t.generatedColumn-e.generatedColumn,r!==0)||(r=Mt(t.source,e.source),r!==0)||(r=t.originalLine-e.originalLine,r!==0)||(r=t.originalColumn-e.originalColumn,r!==0)?r:Mt(t.name,e.name)}ee.compareByGeneratedPositionsInflated=jf;function zf(t){return JSON.parse(t.replace(/^\)]}'[^\n]*\n/,""))}ee.parseSourceMapInput=zf;function Yf(t,e,r){if(e=e||"",t&&(t[t.length-1]!=="/"&&e[0]!=="/"&&(t+="/"),e=t+e),r){var n=pr(r);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var i=n.path.lastIndexOf("/");i>=0&&(n.path=n.path.substring(0,i+1))}e=Co(Tt(n),e)}return zi(e)}ee.computeSourceURL=Yf});var Ki=A(_o=>{var Yi=At(),Zi=Object.prototype.hasOwnProperty,dt=typeof Map!="undefined";function Ze(){this._array=[],this._set=dt?new Map:Object.create(null)}Ze.fromArray=function(e,r){for(var n=new Ze,i=0,s=e.length;i<s;i++)n.add(e[i],r);return n};Ze.prototype.size=function(){return dt?this._set.size:Object.getOwnPropertyNames(this._set).length};Ze.prototype.add=function(e,r){var n=dt?e:Yi.toSetString(e),i=dt?this.has(e):Zi.call(this._set,n),s=this._array.length;(!i||r)&&this._array.push(e),i||(dt?this._set.set(e,s):this._set[n]=s)};Ze.prototype.has=function(e){if(dt)return this._set.has(e);var r=Yi.toSetString(e);return Zi.call(this._set,r)};Ze.prototype.indexOf=function(e){if(dt){var r=this._set.get(e);if(r>=0)return r}else{var n=Yi.toSetString(e);if(Zi.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')};Ze.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)};Ze.prototype.toArray=function(){return this._array.slice()};_o.ArraySet=Ze});var xo=A(Oo=>{var ko=At();function Zf(t,e){var r=t.generatedLine,n=e.generatedLine,i=t.generatedColumn,s=e.generatedColumn;return n>r||n==r&&s>=i||ko.compareByGeneratedPositionsInflated(t,e)<=0}function Dn(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}Dn.prototype.unsortedForEach=function(e,r){this._array.forEach(e,r)};Dn.prototype.add=function(e){Zf(this._last,e)?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))};Dn.prototype.toArray=function(){return this._sorted||(this._array.sort(ko.compareByGeneratedPositionsInflated),this._sorted=!0),this._array};Oo.MappingList=Dn});var Ji=A(To=>{var mr=ji(),K=At(),yn=Ki().ArraySet,Kf=xo().MappingList;function we(t){t||(t={}),this._file=K.getArg(t,"file",null),this._sourceRoot=K.getArg(t,"sourceRoot",null),this._skipValidation=K.getArg(t,"skipValidation",!1),this._sources=new yn,this._names=new yn,this._mappings=new Kf,this._sourcesContents=null}we.prototype._version=3;we.fromSourceMap=function(e){var r=e.sourceRoot,n=new we({file:e.file,sourceRoot:r});return e.eachMapping(function(i){var s={generated:{line:i.generatedLine,column:i.generatedColumn}};i.source!=null&&(s.source=i.source,r!=null&&(s.source=K.relative(r,s.source)),s.original={line:i.originalLine,column:i.originalColumn},i.name!=null&&(s.name=i.name)),n.addMapping(s)}),e.sources.forEach(function(i){var s=i;r!==null&&(s=K.relative(r,i)),n._sources.has(s)||n._sources.add(s);var a=e.sourceContentFor(i);a!=null&&n.setSourceContent(i,a)}),n};we.prototype.addMapping=function(e){var r=K.getArg(e,"generated"),n=K.getArg(e,"original",null),i=K.getArg(e,"source",null),s=K.getArg(e,"name",null);this._skipValidation||this._validateMapping(r,n,i,s),i!=null&&(i=String(i),this._sources.has(i)||this._sources.add(i)),s!=null&&(s=String(s),this._names.has(s)||this._names.add(s)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:n!=null&&n.line,originalColumn:n!=null&&n.column,source:i,name:s})};we.prototype.setSourceContent=function(e,r){var n=e;this._sourceRoot!=null&&(n=K.relative(this._sourceRoot,n)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[K.toSetString(n)]=r):this._sourcesContents&&(delete this._sourcesContents[K.toSetString(n)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))};we.prototype.applySourceMap=function(e,r,n){var i=r;if(r==null){if(e.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);i=e.file}var s=this._sourceRoot;s!=null&&(i=K.relative(s,i));var a=new yn,o=new yn;this._mappings.unsortedForEach(function(u){if(u.source===i&&u.originalLine!=null){var l=e.originalPositionFor({line:u.originalLine,column:u.originalColumn});l.source!=null&&(u.source=l.source,n!=null&&(u.source=K.join(n,u.source)),s!=null&&(u.source=K.relative(s,u.source)),u.originalLine=l.line,u.originalColumn=l.column,l.name!=null&&(u.name=l.name))}var d=u.source;d!=null&&!a.has(d)&&a.add(d);var c=u.name;c!=null&&!o.has(c)&&o.add(c)},this),this._sources=a,this._names=o,e.sources.forEach(function(u){var l=e.sourceContentFor(u);l!=null&&(n!=null&&(u=K.join(n,u)),s!=null&&(u=K.relative(s,u)),this.setSourceContent(u,l))},this)};we.prototype._validateMapping=function(e,r,n,i){if(r&&typeof r.line!="number"&&typeof r.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!r&&!n&&!i)){if(e&&"line"in e&&"column"in e&&r&&"line"in r&&"column"in r&&e.line>0&&e.column>=0&&r.line>0&&r.column>=0&&n)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:r,name:i}))}};we.prototype._serializeMappings=function(){for(var e=0,r=1,n=0,i=0,s=0,a=0,o="",u,l,d,c,m=this._mappings.toArray(),D=0,E=m.length;D<E;D++){if(l=m[D],u="",l.generatedLine!==r)for(e=0;l.generatedLine!==r;)u+=";",r++;else if(D>0){if(!K.compareByGeneratedPositionsInflated(l,m[D-1]))continue;u+=","}u+=mr.encode(l.generatedColumn-e),e=l.generatedColumn,l.source!=null&&(c=this._sources.indexOf(l.source),u+=mr.encode(c-a),a=c,u+=mr.encode(l.originalLine-1-i),i=l.originalLine-1,u+=mr.encode(l.originalColumn-n),n=l.originalColumn,l.name!=null&&(d=this._names.indexOf(l.name),u+=mr.encode(d-s),s=d)),o+=u}return o};we.prototype._generateSourcesContent=function(e,r){return e.map(function(n){if(!this._sourcesContents)return null;r!=null&&(n=K.relative(r,n));var i=K.toSetString(n);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)};we.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(e.file=this._file),this._sourceRoot!=null&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e};we.prototype.toString=function(){return JSON.stringify(this.toJSON())};To.SourceMapGenerator=we});var Mo=A(pt=>{pt.GREATEST_LOWER_BOUND=1;pt.LEAST_UPPER_BOUND=2;function $i(t,e,r,n,i,s){var a=Math.floor((e-t)/2)+t,o=i(r,n[a],!0);return o===0?a:o>0?e-a>1?$i(a,e,r,n,i,s):s==pt.LEAST_UPPER_BOUND?e<n.length?e:-1:a:a-t>1?$i(t,a,r,n,i,s):s==pt.LEAST_UPPER_BOUND?a:t<0?-1:t}pt.search=function(e,r,n,i){if(r.length===0)return-1;var s=$i(-1,r.length,e,r,n,i||pt.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&n(r[s],r[s-1],!0)===0;)--s;return s}});var Io=A(Ao=>{function Qi(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function Jf(t,e){return Math.round(t+Math.random()*(e-t))}function Xi(t,e,r,n){if(r<n){var i=Jf(r,n),s=r-1;Qi(t,i,n);for(var a=t[n],o=r;o<n;o++)e(t[o],a)<=0&&(s+=1,Qi(t,s,o));Qi(t,s+1,o);var u=s+1;Xi(t,e,r,u-1),Xi(t,e,u+1,n)}}Ao.quickSort=function(t,e){Xi(t,e,0,t.length-1)}});var No=A(vn=>{var _=At(),es=Mo(),It=Ki().ArraySet,$f=ji(),gr=Io().quickSort;function q(t,e){var r=t;return typeof t=="string"&&(r=_.parseSourceMapInput(t)),r.sections!=null?new xe(r,e):new X(r,e)}q.fromSourceMap=function(t,e){return X.fromSourceMap(t,e)};q.prototype._version=3;q.prototype.__generatedMappings=null;Object.defineProperty(q.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}});q.prototype.__originalMappings=null;Object.defineProperty(q.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}});q.prototype._charIsMappingSeparator=function(e,r){var n=e.charAt(r);return n===";"||n===","};q.prototype._parseMappings=function(e,r){throw new Error("Subclasses must implement _parseMappings")};q.GENERATED_ORDER=1;q.ORIGINAL_ORDER=2;q.GREATEST_LOWER_BOUND=1;q.LEAST_UPPER_BOUND=2;q.prototype.eachMapping=function(e,r,n){var i=r||null,s=n||q.GENERATED_ORDER,a;switch(s){case q.GENERATED_ORDER:a=this._generatedMappings;break;case q.ORIGINAL_ORDER:a=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var o=this.sourceRoot;a.map(function(u){var l=u.source===null?null:this._sources.at(u.source);return l=_.computeSourceURL(o,l,this._sourceMapURL),{source:l,generatedLine:u.generatedLine,generatedColumn:u.generatedColumn,originalLine:u.originalLine,originalColumn:u.originalColumn,name:u.name===null?null:this._names.at(u.name)}},this).forEach(e,i)};q.prototype.allGeneratedPositionsFor=function(e){var r=_.getArg(e,"line"),n={source:_.getArg(e,"source"),originalLine:r,originalColumn:_.getArg(e,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var i=[],s=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",_.compareByOriginalPositions,es.LEAST_UPPER_BOUND);if(s>=0){var a=this._originalMappings[s];if(e.column===void 0)for(var o=a.originalLine;a&&a.originalLine===o;)i.push({line:_.getArg(a,"generatedLine",null),column:_.getArg(a,"generatedColumn",null),lastColumn:_.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s];else for(var u=a.originalColumn;a&&a.originalLine===r&&a.originalColumn==u;)i.push({line:_.getArg(a,"generatedLine",null),column:_.getArg(a,"generatedColumn",null),lastColumn:_.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s]}return i};vn.SourceMapConsumer=q;function X(t,e){var r=t;typeof t=="string"&&(r=_.parseSourceMapInput(t));var n=_.getArg(r,"version"),i=_.getArg(r,"sources"),s=_.getArg(r,"names",[]),a=_.getArg(r,"sourceRoot",null),o=_.getArg(r,"sourcesContent",null),u=_.getArg(r,"mappings"),l=_.getArg(r,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);a&&(a=_.normalize(a)),i=i.map(String).map(_.normalize).map(function(d){return a&&_.isAbsolute(a)&&_.isAbsolute(d)?_.relative(a,d):d}),this._names=It.fromArray(s.map(String),!0),this._sources=It.fromArray(i,!0),this._absoluteSources=this._sources.toArray().map(function(d){return _.computeSourceURL(a,d,e)}),this.sourceRoot=a,this.sourcesContent=o,this._mappings=u,this._sourceMapURL=e,this.file=l}X.prototype=Object.create(q.prototype);X.prototype.consumer=q;X.prototype._findSourceIndex=function(t){var e=t;if(this.sourceRoot!=null&&(e=_.relative(this.sourceRoot,e)),this._sources.has(e))return this._sources.indexOf(e);var r;for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==t)return r;return-1};X.fromSourceMap=function(e,r){var n=Object.create(X.prototype),i=n._names=It.fromArray(e._names.toArray(),!0),s=n._sources=It.fromArray(e._sources.toArray(),!0);n.sourceRoot=e._sourceRoot,n.sourcesContent=e._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=e._file,n._sourceMapURL=r,n._absoluteSources=n._sources.toArray().map(function(D){return _.computeSourceURL(n.sourceRoot,D,r)});for(var a=e._mappings.toArray().slice(),o=n.__generatedMappings=[],u=n.__originalMappings=[],l=0,d=a.length;l<d;l++){var c=a[l],m=new Lo;m.generatedLine=c.generatedLine,m.generatedColumn=c.generatedColumn,c.source&&(m.source=s.indexOf(c.source),m.originalLine=c.originalLine,m.originalColumn=c.originalColumn,c.name&&(m.name=i.indexOf(c.name)),u.push(m)),o.push(m)}return gr(n.__originalMappings,_.compareByOriginalPositions),n};X.prototype._version=3;Object.defineProperty(X.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function Lo(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}X.prototype._parseMappings=function(e,r){for(var n=1,i=0,s=0,a=0,o=0,u=0,l=e.length,d=0,c={},m={},D=[],E=[],O,P,L,U,re;d<l;)if(e.charAt(d)===";")n++,d++,i=0;else if(e.charAt(d)===",")d++;else{for(O=new Lo,O.generatedLine=n,U=d;U<l&&!this._charIsMappingSeparator(e,U);U++);if(P=e.slice(d,U),L=c[P],L)d+=P.length;else{for(L=[];d<U;)$f.decode(e,d,m),re=m.value,d=m.rest,L.push(re);if(L.length===2)throw new Error("Found a source, but no line and column");if(L.length===3)throw new Error("Found a source and line, but no column");c[P]=L}O.generatedColumn=i+L[0],i=O.generatedColumn,L.length>1&&(O.source=o+L[1],o+=L[1],O.originalLine=s+L[2],s=O.originalLine,O.originalLine+=1,O.originalColumn=a+L[3],a=O.originalColumn,L.length>4&&(O.name=u+L[4],u+=L[4])),E.push(O),typeof O.originalLine=="number"&&D.push(O)}gr(E,_.compareByGeneratedPositionsDeflated),this.__generatedMappings=E,gr(D,_.compareByOriginalPositions),this.__originalMappings=D};X.prototype._findMapping=function(e,r,n,i,s,a){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[i]);return es.search(e,r,s,a)};X.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var r=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(r.generatedLine===n.generatedLine){r.lastGeneratedColumn=n.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}};X.prototype.originalPositionFor=function(e){var r={generatedLine:_.getArg(e,"line"),generatedColumn:_.getArg(e,"column")},n=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",_.compareByGeneratedPositionsDeflated,_.getArg(e,"bias",q.GREATEST_LOWER_BOUND));if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===r.generatedLine){var s=_.getArg(i,"source",null);s!==null&&(s=this._sources.at(s),s=_.computeSourceURL(this.sourceRoot,s,this._sourceMapURL));var a=_.getArg(i,"name",null);return a!==null&&(a=this._names.at(a)),{source:s,line:_.getArg(i,"originalLine",null),column:_.getArg(i,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}};X.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return e==null}):!1};X.prototype.sourceContentFor=function(e,r){if(!this.sourcesContent)return null;var n=this._findSourceIndex(e);if(n>=0)return this.sourcesContent[n];var i=e;this.sourceRoot!=null&&(i=_.relative(this.sourceRoot,i));var s;if(this.sourceRoot!=null&&(s=_.urlParse(this.sourceRoot))){var a=i.replace(/^file:\/\//,"");if(s.scheme=="file"&&this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];if((!s.path||s.path=="/")&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(r)return null;throw new Error('"'+i+'" is not in the SourceMap.')};X.prototype.generatedPositionFor=function(e){var r=_.getArg(e,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};var n={source:r,originalLine:_.getArg(e,"line"),originalColumn:_.getArg(e,"column")},i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",_.compareByOriginalPositions,_.getArg(e,"bias",q.GREATEST_LOWER_BOUND));if(i>=0){var s=this._originalMappings[i];if(s.source===n.source)return{line:_.getArg(s,"generatedLine",null),column:_.getArg(s,"generatedColumn",null),lastColumn:_.getArg(s,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};vn.BasicSourceMapConsumer=X;function xe(t,e){var r=t;typeof t=="string"&&(r=_.parseSourceMapInput(t));var n=_.getArg(r,"version"),i=_.getArg(r,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new It,this._names=new It;var s={line:-1,column:0};this._sections=i.map(function(a){if(a.url)throw new Error("Support for url field in sections not implemented.");var o=_.getArg(a,"offset"),u=_.getArg(o,"line"),l=_.getArg(o,"column");if(u<s.line||u===s.line&&l<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=o,{generatedOffset:{generatedLine:u+1,generatedColumn:l+1},consumer:new q(_.getArg(a,"map"),e)}})}xe.prototype=Object.create(q.prototype);xe.prototype.constructor=q;xe.prototype._version=3;Object.defineProperty(xe.prototype,"sources",{get:function(){for(var t=[],e=0;e<this._sections.length;e++)for(var r=0;r<this._sections[e].consumer.sources.length;r++)t.push(this._sections[e].consumer.sources[r]);return t}});xe.prototype.originalPositionFor=function(e){var r={generatedLine:_.getArg(e,"line"),generatedColumn:_.getArg(e,"column")},n=es.search(r,this._sections,function(s,a){var o=s.generatedLine-a.generatedOffset.generatedLine;return o||s.generatedColumn-a.generatedOffset.generatedColumn}),i=this._sections[n];return i?i.consumer.originalPositionFor({line:r.generatedLine-(i.generatedOffset.generatedLine-1),column:r.generatedColumn-(i.generatedOffset.generatedLine===r.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}};xe.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})};xe.prototype.sourceContentFor=function(e,r){for(var n=0;n<this._sections.length;n++){var i=this._sections[n],s=i.consumer.sourceContentFor(e,!0);if(s)return s}if(r)return null;throw new Error('"'+e+'" is not in the SourceMap.')};xe.prototype.generatedPositionFor=function(e){for(var r=0;r<this._sections.length;r++){var n=this._sections[r];if(n.consumer._findSourceIndex(_.getArg(e,"source"))!==-1){var i=n.consumer.generatedPositionFor(e);if(i){var s={line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)};return s}}}return{line:null,column:null}};xe.prototype._parseMappings=function(e,r){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var i=this._sections[n],s=i.consumer._generatedMappings,a=0;a<s.length;a++){var o=s[a],u=i.consumer._sources.at(o.source);u=_.computeSourceURL(i.consumer.sourceRoot,u,this._sourceMapURL),this._sources.add(u),u=this._sources.indexOf(u);var l=null;o.name&&(l=i.consumer._names.at(o.name),this._names.add(l),l=this._names.indexOf(l));var d={source:u,generatedLine:o.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:o.generatedColumn+(i.generatedOffset.generatedLine===o.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:o.originalLine,originalColumn:o.originalColumn,name:l};this.__generatedMappings.push(d),typeof d.originalLine=="number"&&this.__originalMappings.push(d)}gr(this.__generatedMappings,_.compareByGeneratedPositionsDeflated),gr(this.__originalMappings,_.compareByOriginalPositions)};vn.IndexedSourceMapConsumer=xe});var Bo=A(Po=>{var Qf=Ji().SourceMapGenerator,Fn=At(),Xf=/(\r?\n)/,ed=10,Lt="$$$isSourceNode$$$";function De(t,e,r,n,i){this.children=[],this.sourceContents={},this.line=t==null?null:t,this.column=e==null?null:e,this.source=r==null?null:r,this.name=i==null?null:i,this[Lt]=!0,n!=null&&this.add(n)}De.fromStringWithSourceMap=function(e,r,n){var i=new De,s=e.split(Xf),a=0,o=function(){var m=E(),D=E()||"";return m+D;function E(){return a<s.length?s[a++]:void 0}},u=1,l=0,d=null;return r.eachMapping(function(m){if(d!==null)if(u<m.generatedLine)c(d,o()),u++,l=0;else{var D=s[a]||"",E=D.substr(0,m.generatedColumn-l);s[a]=D.substr(m.generatedColumn-l),l=m.generatedColumn,c(d,E),d=m;return}for(;u<m.generatedLine;)i.add(o()),u++;if(l<m.generatedColumn){var D=s[a]||"";i.add(D.substr(0,m.generatedColumn)),s[a]=D.substr(m.generatedColumn),l=m.generatedColumn}d=m},this),a<s.length&&(d&&c(d,o()),i.add(s.splice(a).join(""))),r.sources.forEach(function(m){var D=r.sourceContentFor(m);D!=null&&(n!=null&&(m=Fn.join(n,m)),i.setSourceContent(m,D))}),i;function c(m,D){if(m===null||m.source===void 0)i.add(D);else{var E=n?Fn.join(n,m.source):m.source;i.add(new De(m.originalLine,m.originalColumn,E,D,m.name))}}};De.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(r){this.add(r)},this);else if(e[Lt]||typeof e=="string")e&&this.children.push(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this};De.prototype.prepend=function(e){if(Array.isArray(e))for(var r=e.length-1;r>=0;r--)this.prepend(e[r]);else if(e[Lt]||typeof e=="string")this.children.unshift(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this};De.prototype.walk=function(e){for(var r,n=0,i=this.children.length;n<i;n++)r=this.children[n],r[Lt]?r.walk(e):r!==""&&e(r,{source:this.source,line:this.line,column:this.column,name:this.name})};De.prototype.join=function(e){var r,n,i=this.children.length;if(i>0){for(r=[],n=0;n<i-1;n++)r.push(this.children[n]),r.push(e);r.push(this.children[n]),this.children=r}return this};De.prototype.replaceRight=function(e,r){var n=this.children[this.children.length-1];return n[Lt]?n.replaceRight(e,r):typeof n=="string"?this.children[this.children.length-1]=n.replace(e,r):this.children.push("".replace(e,r)),this};De.prototype.setSourceContent=function(e,r){this.sourceContents[Fn.toSetString(e)]=r};De.prototype.walkSourceContents=function(e){for(var r=0,n=this.children.length;r<n;r++)this.children[r][Lt]&&this.children[r].walkSourceContents(e);for(var i=Object.keys(this.sourceContents),r=0,n=i.length;r<n;r++)e(Fn.fromSetString(i[r]),this.sourceContents[i[r]])};De.prototype.toString=function(){var e="";return this.walk(function(r){e+=r}),e};De.prototype.toStringWithSourceMap=function(e){var r={code:"",line:1,column:0},n=new Qf(e),i=!1,s=null,a=null,o=null,u=null;return this.walk(function(l,d){r.code+=l,d.source!==null&&d.line!==null&&d.column!==null?((s!==d.source||a!==d.line||o!==d.column||u!==d.name)&&n.addMapping({source:d.source,original:{line:d.line,column:d.column},generated:{line:r.line,column:r.column},name:d.name}),s=d.source,a=d.line,o=d.column,u=d.name,i=!0):i&&(n.addMapping({generated:{line:r.line,column:r.column}}),s=null,i=!1);for(var c=0,m=l.length;c<m;c++)l.charCodeAt(c)===ed?(r.line++,r.column=0,c+1===m?(s=null,i=!1):i&&n.addMapping({source:d.source,original:{line:d.line,column:d.column},generated:{line:r.line,column:r.column},name:d.name})):r.column++}),this.walkSourceContents(function(l,d){n.setSourceContent(l,d)}),{code:r.code,map:n}};Po.SourceNode=De});var Ro=A(En=>{En.SourceMapGenerator=Ji().SourceMapGenerator;En.SourceMapConsumer=No().SourceMapConsumer;En.SourceNode=Bo().SourceNode});var Vo=A((Cn,qo)=>{"use strict";Cn.__esModule=!0;var rs=se(),mt=void 0;try{(typeof define!="function"||!define.amd)&&(Ho=Ro(),mt=Ho.SourceNode)}catch(t){}var Ho;mt||(mt=function(t,e,r,n){this.src="",n&&this.add(n)},mt.prototype={add:function(e){rs.isArray(e)&&(e=e.join("")),this.src+=e},prepend:function(e){rs.isArray(e)&&(e=e.join("")),this.src=e+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}});function ts(t,e,r){if(rs.isArray(t)){for(var n=[],i=0,s=t.length;i<s;i++)n.push(e.wrap(t[i],r));return n}else if(typeof t=="boolean"||typeof t=="number")return t+"";return t}function Go(t){this.srcFile=t,this.source=[]}Go.prototype={isEmpty:function(){return!this.source.length},prepend:function(e,r){this.source.unshift(this.wrap(e,r))},push:function(e,r){this.source.push(this.wrap(e,r))},merge:function(){var e=this.empty();return this.each(function(r){e.add(["  ",r,`
`])}),e},each:function(e){for(var r=0,n=this.source.length;r<n;r++)e(this.source[r])},empty:function(){var e=this.currentLocation||{start:{}};return new mt(e.start.line,e.start.column,this.srcFile)},wrap:function(e){var r=arguments.length<=1||arguments[1]===void 0?this.currentLocation||{start:{}}:arguments[1];return e instanceof mt?e:(e=ts(e,this,r),new mt(r.start.line,r.start.column,this.srcFile,e))},functionCall:function(e,r,n){return n=this.generateList(n),this.wrap([e,r?"."+r+"(":"(",n,")"])},quotedString:function(e){return'"'+(e+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(e){var r=this,n=[];Object.keys(e).forEach(function(s){var a=ts(e[s],r);a!=="undefined"&&n.push([r.quotedString(s),":",a])});var i=this.generateList(n);return i.prepend("{"),i.add("}"),i},generateList:function(e){for(var r=this.empty(),n=0,i=e.length;n<i;n++)n&&r.add(","),r.add(ts(e[n],this));return r},generateArray:function(e){var r=this.generateList(e);return r.prepend("["),r.add("]"),r}};Cn.default=Go;qo.exports=Cn.default});var Yo=A((wn,zo)=>{"use strict";wn.__esModule=!0;function jo(t){return t&&t.__esModule?t:{default:t}}var Uo=sn(),td=Ee(),ns=jo(td),rd=se(),nd=Vo(),Wo=jo(nd);function Nt(t){this.value=t}function Pt(){}Pt.prototype={nameLookup:function(e,r){return this.internalNameLookup(e,r)},depthedLookup:function(e){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(e),")"]},compilerInfo:function(){var e=Uo.COMPILER_REVISION,r=Uo.REVISION_CHANGES[e];return[e,r]},appendToBuffer:function(e,r,n){return rd.isArray(e)||(e=[e]),e=this.source.wrap(e,r),this.environment.isSimple?["return ",e,";"]:n?["buffer += ",e,";"]:(e.appendToBuffer=!0,e)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(e,r){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",e,",",JSON.stringify(r),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(e,r,n,i){this.environment=e,this.options=r,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!i,this.name=this.environment.name,this.isChild=!!n,this.context=n||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(e,r),this.useDepths=this.useDepths||e.useDepths||e.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||e.useBlockParams;var s=e.opcodes,a=void 0,o=void 0,u=void 0,l=void 0;for(u=0,l=s.length;u<l;u++)a=s[u],this.source.currentLocation=a.loc,o=o||a.loc,this[a.opcode].apply(this,a.args);if(this.source.currentLocation=o,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new ns.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),`;
`]),this.decorators.push("return fn;"),i?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend(`function(fn, props, container, depth0, data, blockParams, depths) {
`),this.decorators.push(`}
`),this.decorators=this.decorators.merge()));var d=this.createFunctionContext(i);if(this.isChild)return d;var c={compiler:this.compilerInfo(),main:d};this.decorators&&(c.main_d=this.decorators,c.useDecorators=!0);var m=this.context,D=m.programs,E=m.decorators;for(u=0,l=D.length;u<l;u++)D[u]&&(c[u]=D[u],E[u]&&(c[u+"_d"]=E[u],c.useDecorators=!0));return this.environment.usePartial&&(c.usePartial=!0),this.options.data&&(c.useData=!0),this.useDepths&&(c.useDepths=!0),this.useBlockParams&&(c.useBlockParams=!0),this.options.compat&&(c.compat=!0),i?c.compilerOptions=this.options:(c.compiler=JSON.stringify(c.compiler),this.source.currentLocation={start:{line:1,column:0}},c=this.objectLiteral(c),r.srcName?(c=c.toStringWithSourceMap({file:r.destName}),c.map=c.map&&c.map.toString()):c=c.toString()),c},preamble:function(){this.lastContext=0,this.source=new Wo.default(this.options.srcName),this.decorators=new Wo.default(this.options.srcName)},createFunctionContext:function(e){var r=this,n="",i=this.stackVars.concat(this.registers.list);i.length>0&&(n+=", "+i.join(", "));var s=0;Object.keys(this.aliases).forEach(function(u){var l=r.aliases[u];l.children&&l.referenceCount>1&&(n+=", alias"+ ++s+"="+u,l.children[0]="alias"+s)}),this.lookupPropertyFunctionIsUsed&&(n+=", "+this.lookupPropertyFunctionVarDeclaration());var a=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&a.push("blockParams"),this.useDepths&&a.push("depths");var o=this.mergeSource(n);return e?(a.push(o),Function.apply(this,a)):this.source.wrap(["function(",a.join(","),`) {
  `,o,"}"])},mergeSource:function(e){var r=this.environment.isSimple,n=!this.forceBuffer,i=void 0,s=void 0,a=void 0,o=void 0;return this.source.each(function(u){u.appendToBuffer?(a?u.prepend("  + "):a=u,o=u):(a&&(s?a.prepend("buffer += "):i=!0,o.add(";"),a=o=void 0),s=!0,r||(n=!1))}),n?a?(a.prepend("return "),o.add(";")):s||this.source.push('return "";'):(e+=", buffer = "+(i?"":this.initializeBuffer()),a?(a.prepend("return buffer + "),o.add(";")):this.source.push("return buffer;")),e&&this.source.prepend("var "+e.substring(2)+(i?"":`;
`)),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return`
      lookupProperty = container.lookupProperty || function(parent, propertyName) {
        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {
          return parent[propertyName];
        }
        return undefined
    }
    `.trim()},blockValue:function(e){var r=this.aliasable("container.hooks.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(e,0,n);var i=this.popStack();n.splice(1,0,i),this.push(this.source.functionCall(r,"call",n))},ambiguousBlockValue:function(){var e=this.aliasable("container.hooks.blockHelperMissing"),r=[this.contextName(0)];this.setupHelperArgs("",0,r,!0),this.flushInline();var n=this.topStack();r.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(e,"call",r),"}"])},appendContent:function(e){this.pendingContent?e=this.pendingContent+e:this.pendingLocation=this.source.currentLocation,this.pendingContent=e},append:function(){if(this.isInline())this.replaceStack(function(r){return[" != null ? ",r,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var e=this.popStack();this.pushSource(["if (",e," != null) { ",this.appendToBuffer(e,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(e){this.lastContext=e},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(e,r,n,i){var s=0;!i&&this.options.compat&&!this.lastContext?this.push(this.depthedLookup(e[s++])):this.pushContext(),this.resolvePath("context",e,s,r,n)},lookupBlockParam:function(e,r){this.useBlockParams=!0,this.push(["blockParams[",e[0],"][",e[1],"]"]),this.resolvePath("context",r,1)},lookupData:function(e,r,n){e?this.pushStackLiteral("container.data(data, "+e+")"):this.pushStackLiteral("data"),this.resolvePath("data",r,0,!0,n)},resolvePath:function(e,r,n,i,s){var a=this;if(this.options.strict||this.options.assumeObjects){this.push(id(this.options.strict&&s,this,r,n,e));return}for(var o=r.length;n<o;n++)this.replaceStack(function(u){var l=a.nameLookup(u,r[n],e);return i?[" && ",l]:[" != null ? ",l," : ",u]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(e,r){this.pushContext(),this.pushString(r),r!=="SubExpression"&&(typeof e=="string"?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(e){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(e?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(e.ids)),this.stringParams&&(this.push(this.objectLiteral(e.contexts)),this.push(this.objectLiteral(e.types))),this.push(this.objectLiteral(e.values))},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){e!=null?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},registerDecorator:function(e,r){var n=this.nameLookup("decorators",r,"decorator"),i=this.setupHelperArgs(r,e);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",i])," || fn;"])},invokeHelper:function(e,r,n){var i=this.popStack(),s=this.setupHelper(e,r),a=[];n&&a.push(s.name),a.push(i),this.options.strict||a.push(this.aliasable("container.hooks.helperMissing"));var o=["(",this.itemsSeparatedBy(a,"||"),")"],u=this.source.functionCall(o,"call",s.callParams);this.push(u)},itemsSeparatedBy:function(e,r){var n=[];n.push(e[0]);for(var i=1;i<e.length;i++)n.push(r,e[i]);return n},invokeKnownHelper:function(e,r){var n=this.setupHelper(e,r);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function(e,r){this.useRegister("helper");var n=this.popStack();this.emptyHash();var i=this.setupHelper(0,e,r),s=this.lastHelper=this.nameLookup("helpers",e,"helper"),a=["(","(helper = ",s," || ",n,")"];this.options.strict||(a[0]="(helper = ",a.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",a,i.paramsInit?["),(",i.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",i.callParams)," : helper))"])},invokePartial:function(e,r,n){var i=[],s=this.setupParams(r,1,i);e&&(r=this.popStack(),delete s.name),n&&(s.indent=JSON.stringify(n)),s.helpers="helpers",s.partials="partials",s.decorators="container.decorators",e?i.unshift(r):i.unshift(this.nameLookup("partials",r,"partial")),this.options.compat&&(s.depths="depths"),s=this.objectLiteral(s),i.push(s),this.push(this.source.functionCall("container.invokePartial","",i))},assignToHash:function(e){var r=this.popStack(),n=void 0,i=void 0,s=void 0;this.trackIds&&(s=this.popStack()),this.stringParams&&(i=this.popStack(),n=this.popStack());var a=this.hash;n&&(a.contexts[e]=n),i&&(a.types[e]=i),s&&(a.ids[e]=s),a.values[e]=r},pushId:function(e,r,n){e==="BlockParam"?this.pushStackLiteral("blockParams["+r[0]+"].path["+r[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):e==="PathExpression"?this.pushString(r):e==="SubExpression"?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:Pt,compileChildren:function(e,r){for(var n=e.children,i=void 0,s=void 0,a=0,o=n.length;a<o;a++){i=n[a],s=new this.compiler;var u=this.matchExistingProgram(i);if(u==null){this.context.programs.push("");var l=this.context.programs.length;i.index=l,i.name="program"+l,this.context.programs[l]=s.compile(i,r,this.context,!this.precompile),this.context.decorators[l]=s.decorators,this.context.environments[l]=i,this.useDepths=this.useDepths||s.useDepths,this.useBlockParams=this.useBlockParams||s.useBlockParams,i.useDepths=this.useDepths,i.useBlockParams=this.useBlockParams}else i.index=u.index,i.name="program"+u.index,this.useDepths=this.useDepths||u.useDepths,this.useBlockParams=this.useBlockParams||u.useBlockParams}},matchExistingProgram:function(e){for(var r=0,n=this.context.environments.length;r<n;r++){var i=this.context.environments[r];if(i&&i.equals(e))return i}},programExpression:function(e){var r=this.environment.children[e],n=[r.index,"data",r.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"container.program("+n.join(", ")+")"},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},push:function(e){return e instanceof Nt||(e=this.source.wrap(e)),this.inlineStack.push(e),e},pushStackLiteral:function(e){this.push(new Nt(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),e&&this.source.push(e)},replaceStack:function(e){var r=["("],n=void 0,i=void 0,s=void 0;if(!this.isInline())throw new ns.default("replaceStack on non-inline");var a=this.popStack(!0);if(a instanceof Nt)n=[a.value],r=["(",n],s=!0;else{i=!0;var o=this.incrStack();r=["((",this.push(o)," = ",a,")"],n=this.topStack()}var u=e.call(this,n);s||this.popStack(),i&&this.stackSlot--,this.push(r.concat(u,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;this.inlineStack=[];for(var r=0,n=e.length;r<n;r++){var i=e[r];if(i instanceof Nt)this.compileStack.push(i);else{var s=this.incrStack();this.pushSource([s," = ",i,";"]),this.compileStack.push(s)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var r=this.isInline(),n=(r?this.inlineStack:this.compileStack).pop();if(!e&&n instanceof Nt)return n.value;if(!r){if(!this.stackSlot)throw new ns.default("Invalid stack pop");this.stackSlot--}return n},topStack:function(){var e=this.isInline()?this.inlineStack:this.compileStack,r=e[e.length-1];return r instanceof Nt?r.value:r},contextName:function(e){return this.useDepths&&e?"depths["+e+"]":"depth"+e},quotedString:function(e){return this.source.quotedString(e)},objectLiteral:function(e){return this.source.objectLiteral(e)},aliasable:function(e){var r=this.aliases[e];return r?(r.referenceCount++,r):(r=this.aliases[e]=this.source.wrap(e),r.aliasable=!0,r.referenceCount=1,r)},setupHelper:function(e,r,n){var i=[],s=this.setupHelperArgs(r,e,i,n),a=this.nameLookup("helpers",r,"helper"),o=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:i,paramsInit:s,name:a,callParams:[o].concat(i)}},setupParams:function(e,r,n){var i={},s=[],a=[],o=[],u=!n,l=void 0;u&&(n=[]),i.name=this.quotedString(e),i.hash=this.popStack(),this.trackIds&&(i.hashIds=this.popStack()),this.stringParams&&(i.hashTypes=this.popStack(),i.hashContexts=this.popStack());var d=this.popStack(),c=this.popStack();(c||d)&&(i.fn=c||"container.noop",i.inverse=d||"container.noop");for(var m=r;m--;)l=this.popStack(),n[m]=l,this.trackIds&&(o[m]=this.popStack()),this.stringParams&&(a[m]=this.popStack(),s[m]=this.popStack());return u&&(i.args=this.source.generateArray(n)),this.trackIds&&(i.ids=this.source.generateArray(o)),this.stringParams&&(i.types=this.source.generateArray(a),i.contexts=this.source.generateArray(s)),this.options.data&&(i.data="data"),this.useBlockParams&&(i.blockParams="blockParams"),i},setupHelperArgs:function(e,r,n,i){var s=this.setupParams(e,r,n);return s.loc=JSON.stringify(this.source.currentLocation),s=this.objectLiteral(s),i?(this.useRegister("options"),n.push("options"),["options=",s]):n?(n.push(s),""):s}};(function(){for(var t="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),e=Pt.RESERVED_WORDS={},r=0,n=t.length;r<n;r++)e[t[r]]=!0})();Pt.isValidJavaScriptVariableName=function(t){return!Pt.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)};function id(t,e,r,n,i){var s=e.popStack(),a=r.length;for(t&&a--;n<a;n++)s=e.nameLookup(s,r[n],i);return t?[e.aliasable("container.strict"),"(",s,", ",e.quotedString(r[n]),", ",JSON.stringify(e.source.currentLocation)," )"]:s}wn.default=Pt;zo.exports=wn.default});var as=A((bn,Ko)=>{"use strict";bn.__esModule=!0;function Dr(t){return t&&t.__esModule?t:{default:t}}var sd=Ja(),ad=Dr(sd),od=Ii(),ud=Dr(od),is=lo(),ss=po(),ld=Yo(),cd=Dr(ld),hd=Ni(),fd=Dr(hd),dd=xi(),pd=Dr(dd),md=ad.default.create;function Zo(){var t=md();return t.compile=function(e,r){return ss.compile(e,r,t)},t.precompile=function(e,r){return ss.precompile(e,r,t)},t.AST=ud.default,t.Compiler=ss.Compiler,t.JavaScriptCompiler=cd.default,t.Parser=is.parser,t.parse=is.parse,t.parseWithoutProcessing=is.parseWithoutProcessing,t}var Bt=Zo();Bt.create=Zo;pd.default(Bt);Bt.Visitor=fd.default;Bt.default=Bt;bn.default=Bt;Ko.exports=bn.default});var ec=A(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});require("obsidian");var $e=class extends Error{},ys=class extends $e{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}},vs=class extends $e{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}},Fs=class extends $e{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}},vt=class extends $e{},Vn=class extends $e{constructor(e){super(`Invalid unit ${e}`)}},pe=class extends $e{},He=class extends $e{constructor(){super("Zone is an abstract class")}},S="numeric",Ie="short",Fe="long",Un={year:S,month:S,day:S},el={year:S,month:Ie,day:S},$d={year:S,month:Ie,day:S,weekday:Ie},tl={year:S,month:Fe,day:S},rl={year:S,month:Fe,day:S,weekday:Fe},nl={hour:S,minute:S},il={hour:S,minute:S,second:S},sl={hour:S,minute:S,second:S,timeZoneName:Ie},al={hour:S,minute:S,second:S,timeZoneName:Fe},ol={hour:S,minute:S,hourCycle:"h23"},ul={hour:S,minute:S,second:S,hourCycle:"h23"},ll={hour:S,minute:S,second:S,hourCycle:"h23",timeZoneName:Ie},cl={hour:S,minute:S,second:S,hourCycle:"h23",timeZoneName:Fe},hl={year:S,month:S,day:S,hour:S,minute:S},fl={year:S,month:S,day:S,hour:S,minute:S,second:S},dl={year:S,month:Ie,day:S,hour:S,minute:S},pl={year:S,month:Ie,day:S,hour:S,minute:S,second:S},Qd={year:S,month:Ie,day:S,weekday:Ie,hour:S,minute:S},ml={year:S,month:Fe,day:S,hour:S,minute:S,timeZoneName:Ie},gl={year:S,month:Fe,day:S,hour:S,minute:S,second:S,timeZoneName:Ie},Dl={year:S,month:Fe,day:S,weekday:Fe,hour:S,minute:S,timeZoneName:Fe},yl={year:S,month:Fe,day:S,weekday:Fe,hour:S,minute:S,second:S,timeZoneName:Fe},Ct=class{get type(){throw new He}get name(){throw new He}get ianaName(){return this.name}get isUniversal(){throw new He}offsetName(e,r){throw new He}formatOffset(e,r){throw new He}offset(e){throw new He}equals(e){throw new He}get isValid(){throw new He}},cs=null,Wn=class t extends Ct{static get instance(){return cs===null&&(cs=new t),cs}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return Fl(e,r,n)}formatOffset(e,r){return Or(this.offset(e),r)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}},Gn={};function Xd(t){return Gn[t]||(Gn[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Gn[t]}var ep={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function tp(t,e){let r=t.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,i,s,a,o,u,l,d]=n;return[a,i,s,o,u,l,d]}function rp(t,e){let r=t.formatToParts(e),n=[];for(let i=0;i<r.length;i++){let{type:s,value:a}=r[i],o=ep[s];s==="era"?n[o]=a:N(o)||(n[o]=parseInt(a,10))}return n}var Ln={},at=class t extends Ct{static create(e){return Ln[e]||(Ln[e]=new t(e)),Ln[e]}static resetCache(){Ln={},Gn={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(r){return!1}}constructor(e){super(),this.zoneName=e,this.valid=t.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return Fl(e,r,n,this.name)}formatOffset(e,r){return Or(this.offset(e),r)}offset(e){let r=new Date(e);if(isNaN(r))return NaN;let n=Xd(this.name),[i,s,a,o,u,l,d]=n.formatToParts?rp(n,r):tp(n,r);o==="BC"&&(i=-Math.abs(i)+1);let m=Xn({year:i,month:s,day:a,hour:u===24?0:u,minute:l,second:d,millisecond:0}),D=+r,E=D%1e3;return D-=E>=0?E:1e3+E,(m-D)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}},wu={};function np(t,e={}){let r=JSON.stringify([t,e]),n=wu[r];return n||(n=new Intl.ListFormat(t,e),wu[r]=n),n}var Es={};function Cs(t,e={}){let r=JSON.stringify([t,e]),n=Es[r];return n||(n=new Intl.DateTimeFormat(t,e),Es[r]=n),n}var ws={};function ip(t,e={}){let r=JSON.stringify([t,e]),n=ws[r];return n||(n=new Intl.NumberFormat(t,e),ws[r]=n),n}var bs={};function sp(t,e={}){let{base:r,...n}=e,i=JSON.stringify([t,n]),s=bs[i];return s||(s=new Intl.RelativeTimeFormat(t,e),bs[i]=s),s}var _r=null;function ap(){return _r||(_r=new Intl.DateTimeFormat().resolvedOptions().locale,_r)}function op(t){let e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));let r=t.indexOf("-u-");if(r===-1)return[t];{let n,i;try{n=Cs(t).resolvedOptions(),i=t}catch(o){let u=t.substring(0,r);n=Cs(u).resolvedOptions(),i=u}let{numberingSystem:s,calendar:a}=n;return[i,s,a]}}function up(t,e,r){return(r||e)&&(t.includes("-u-")||(t+="-u"),r&&(t+=`-ca-${r}`),e&&(t+=`-nu-${e}`)),t}function lp(t){let e=[];for(let r=1;r<=12;r++){let n=I.utc(2009,r,1);e.push(t(n))}return e}function cp(t){let e=[];for(let r=1;r<=7;r++){let n=I.utc(2016,11,13+r);e.push(t(n))}return e}function Nn(t,e,r,n){let i=t.listingMode();return i==="error"?null:i==="en"?r(e):n(e)}function hp(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}var Ss=class{constructor(e,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;let{padTo:i,floor:s,...a}=n;if(!r||Object.keys(a).length>0){let o={useGrouping:!1,...n};n.padTo>0&&(o.minimumIntegerDigits=n.padTo),this.inf=ip(e,o)}}format(e){if(this.inf){let r=this.floor?Math.floor(e):e;return this.inf.format(r)}else{let r=this.floor?Math.floor(e):Hs(e,3);return J(r,this.padTo)}}},_s=class{constructor(e,r,n){this.opts=n,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){let a=-1*(e.offset/60),o=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;e.offset!==0&&at.create(o).valid?(i=o,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);let s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=Cs(r,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){let e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(r=>{if(r.type==="timeZoneName"){let n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:n}}else return r}):e}resolvedOptions(){return this.dtf.resolvedOptions()}},ks=class{constructor(e,r,n){this.opts={style:"long",...n},!r&&vl()&&(this.rtf=sp(e,n))}format(e,r){return this.rtf?this.rtf.format(e,r):kp(r,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,r){return this.rtf?this.rtf.formatToParts(e,r):[]}},z=class t{static fromOpts(e){return t.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,r,n,i=!1){let s=e||j.defaultLocale,a=s||(i?"en-US":ap()),o=r||j.defaultNumberingSystem,u=n||j.defaultOutputCalendar;return new t(a,o,u,s)}static resetCache(){_r=null,Es={},ws={},bs={}}static fromObject({locale:e,numberingSystem:r,outputCalendar:n}={}){return t.create(e,r,n)}constructor(e,r,n,i){let[s,a,o]=op(e);this.locale=s,this.numberingSystem=r||a||null,this.outputCalendar=n||o||null,this.intl=up(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=hp(this)),this.fastNumbersCached}listingMode(){let e=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&r?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:t.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,r=!1){return Nn(this,e,wl,()=>{let n=r?{month:e,day:"numeric"}:{month:e},i=r?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=lp(s=>this.extract(s,n,"month"))),this.monthsCache[i][e]})}weekdays(e,r=!1){return Nn(this,e,_l,()=>{let n=r?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=r?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=cp(s=>this.extract(s,n,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return Nn(this,void 0,()=>kl,()=>{if(!this.meridiemCache){let e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[I.utc(2016,11,13,9),I.utc(2016,11,13,19)].map(r=>this.extract(r,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Nn(this,e,Ol,()=>{let r={era:e};return this.eraCache[e]||(this.eraCache[e]=[I.utc(-40,1,1),I.utc(2017,1,1)].map(n=>this.extract(n,r,"era"))),this.eraCache[e]})}extract(e,r,n){let i=this.dtFormatter(e,r),s=i.formatToParts(),a=s.find(o=>o.type.toLowerCase()===n);return a?a.value:null}numberFormatter(e={}){return new Ss(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,r={}){return new _s(e,this.intl,r)}relFormatter(e={}){return new ks(this.intl,this.isEnglish(),e)}listFormatter(e={}){return np(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}},hs=null,_e=class t extends Ct{static get utcInstance(){return hs===null&&(hs=new t(0)),hs}static instance(e){return e===0?t.utcInstance:new t(e)}static parseSpecifier(e){if(e){let r=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new t(ei(r[1],r[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Or(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Or(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,r){return Or(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}},Os=class extends Ct{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function st(t,e){if(N(t)||t===null)return e;if(t instanceof Ct)return t;if(fp(t)){let r=t.toLowerCase();return r==="default"?e:r==="local"||r==="system"?Wn.instance:r==="utc"||r==="gmt"?_e.utcInstance:_e.parseSpecifier(r)||at.create(t)}else return Et(t)?_e.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new Os(t)}var bu=()=>Date.now(),Su="system",_u=null,ku=null,Ou=null,xu=60,Tu,j=class{static get now(){return bu}static set now(e){bu=e}static set defaultZone(e){Su=e}static get defaultZone(){return st(Su,Wn.instance)}static get defaultLocale(){return _u}static set defaultLocale(e){_u=e}static get defaultNumberingSystem(){return ku}static set defaultNumberingSystem(e){ku=e}static get defaultOutputCalendar(){return Ou}static set defaultOutputCalendar(e){Ou=e}static get twoDigitCutoffYear(){return xu}static set twoDigitCutoffYear(e){xu=e%100}static get throwOnInvalid(){return Tu}static set throwOnInvalid(e){Tu=e}static resetCaches(){z.resetCache(),at.resetCache()}};function N(t){return typeof t=="undefined"}function Et(t){return typeof t=="number"}function Qn(t){return typeof t=="number"&&t%1===0}function fp(t){return typeof t=="string"}function dp(t){return Object.prototype.toString.call(t)==="[object Date]"}function vl(){try{return typeof Intl!="undefined"&&!!Intl.RelativeTimeFormat}catch(t){return!1}}function pp(t){return Array.isArray(t)?t:[t]}function Mu(t,e,r){if(t.length!==0)return t.reduce((n,i)=>{let s=[e(i),i];return n&&r(n[0],s[0])===n[0]?n:s},null)[1]}function mp(t,e){return e.reduce((r,n)=>(r[n]=t[n],r),{})}function Wt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Je(t,e,r){return Qn(t)&&t>=e&&t<=r}function gp(t,e){return t-e*Math.floor(t/e)}function J(t,e=2){let r=t<0,n;return r?n="-"+(""+-t).padStart(e,"0"):n=(""+t).padStart(e,"0"),n}function it(t){if(!(N(t)||t===null||t===""))return parseInt(t,10)}function Dt(t){if(!(N(t)||t===null||t===""))return parseFloat(t)}function Rs(t){if(!(N(t)||t===null||t==="")){let e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function Hs(t,e,r=!1){let n=10**e;return(r?Math.trunc:Math.round)(t*n)/n}function Mr(t){return t%4===0&&(t%100!==0||t%400===0)}function kr(t){return Mr(t)?366:365}function jn(t,e){let r=gp(e-1,12)+1,n=t+(e-r)/12;return r===2?Mr(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function Xn(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function zn(t){let e=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7,r=t-1,n=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7;return e===4||n===3?53:52}function xs(t){return t>99?t:t>j.twoDigitCutoffYear?1900+t:2e3+t}function Fl(t,e,r,n=null){let i=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(s.timeZone=n);let a={timeZoneName:e,...s},o=new Intl.DateTimeFormat(r,a).formatToParts(i).find(u=>u.type.toLowerCase()==="timezonename");return o?o.value:null}function ei(t,e){let r=parseInt(t,10);Number.isNaN(r)&&(r=0);let n=parseInt(e,10)||0,i=r<0||Object.is(r,-0)?-n:n;return r*60+i}function El(t){let e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new pe(`Invalid unit value ${t}`);return e}function Yn(t,e){let r={};for(let n in t)if(Wt(t,n)){let i=t[n];if(i==null)continue;r[e(n)]=El(i)}return r}function Or(t,e){let r=Math.trunc(Math.abs(t/60)),n=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${J(r,2)}:${J(n,2)}`;case"narrow":return`${i}${r}${n>0?`:${n}`:""}`;case"techie":return`${i}${J(r,2)}${J(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function ti(t){return mp(t,["hour","minute","second","millisecond"])}var Dp=["January","February","March","April","May","June","July","August","September","October","November","December"],Cl=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],yp=["J","F","M","A","M","J","J","A","S","O","N","D"];function wl(t){switch(t){case"narrow":return[...yp];case"short":return[...Cl];case"long":return[...Dp];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var bl=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Sl=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],vp=["M","T","W","T","F","S","S"];function _l(t){switch(t){case"narrow":return[...vp];case"short":return[...Sl];case"long":return[...bl];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var kl=["AM","PM"],Fp=["Before Christ","Anno Domini"],Ep=["BC","AD"],Cp=["B","A"];function Ol(t){switch(t){case"narrow":return[...Cp];case"short":return[...Ep];case"long":return[...Fp];default:return null}}function wp(t){return kl[t.hour<12?0:1]}function bp(t,e){return _l(e)[t.weekday-1]}function Sp(t,e){return wl(e)[t.month-1]}function _p(t,e){return Ol(e)[t.year<0?0:1]}function kp(t,e,r="always",n=!1){let i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(r==="auto"&&s){let c=t==="days";switch(e){case 1:return c?"tomorrow":`next ${i[t][0]}`;case-1:return c?"yesterday":`last ${i[t][0]}`;case 0:return c?"today":`this ${i[t][0]}`}}let a=Object.is(e,-0)||e<0,o=Math.abs(e),u=o===1,l=i[t],d=n?u?l[1]:l[2]||l[1]:u?i[t][0]:t;return a?`${o} ${d} ago`:`in ${o} ${d}`}function Au(t,e){let r="";for(let n of t)n.literal?r+=n.val:r+=e(n.val);return r}var Op={D:Un,DD:el,DDD:tl,DDDD:rl,t:nl,tt:il,ttt:sl,tttt:al,T:ol,TT:ul,TTT:ll,TTTT:cl,f:hl,ff:dl,fff:ml,ffff:Dl,F:fl,FF:pl,FFF:gl,FFFF:yl},ye=class t{static create(e,r={}){return new t(e,r)}static parseFormat(e){let r=null,n="",i=!1,s=[];for(let a=0;a<e.length;a++){let o=e.charAt(a);o==="'"?(n.length>0&&s.push({literal:i||/^\s+$/.test(n),val:n}),r=null,n="",i=!i):i||o===r?n+=o:(n.length>0&&s.push({literal:/^\s+$/.test(n),val:n}),n=o,r=o)}return n.length>0&&s.push({literal:i||/^\s+$/.test(n),val:n}),s}static macroTokenToFormatOpts(e){return Op[e]}constructor(e,r){this.opts=r,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...r}).format()}dtFormatter(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r})}formatDateTime(e,r){return this.dtFormatter(e,r).format()}formatDateTimeParts(e,r){return this.dtFormatter(e,r).formatToParts()}formatInterval(e,r){return this.dtFormatter(e.start,r).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,r){return this.dtFormatter(e,r).resolvedOptions()}num(e,r=0){if(this.opts.forceSimple)return J(e,r);let n={...this.opts};return r>0&&(n.padTo=r),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,r){let n=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(D,E)=>this.loc.extract(e,D,E),a=D=>e.isOffsetFixed&&e.offset===0&&D.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,D.format):"",o=()=>n?wp(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),u=(D,E)=>n?Sp(e,D):s(E?{month:D}:{month:D,day:"numeric"},"month"),l=(D,E)=>n?bp(e,D):s(E?{weekday:D}:{weekday:D,month:"long",day:"numeric"},"weekday"),d=D=>{let E=t.macroTokenToFormatOpts(D);return E?this.formatWithSystemDefault(e,E):D},c=D=>n?_p(e,D):s({era:D},"era"),m=D=>{switch(D){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return i?s({day:"numeric"},"day"):this.num(e.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return l("short",!0);case"cccc":return l("long",!0);case"ccccc":return l("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return l("short",!1);case"EEEE":return l("long",!1);case"EEEEE":return l("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return u("short",!0);case"LLLL":return u("long",!0);case"LLLLL":return u("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(e.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return u("short",!1);case"MMMM":return u("long",!1);case"MMMMM":return u("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(e.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return c("short");case"GG":return c("long");case"GGGGG":return c("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return d(D)}};return Au(t.parseFormat(r),m)}formatDurationFromString(e,r){let n=u=>{switch(u[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=u=>l=>{let d=n(l);return d?this.num(u.get(d),l.length):l},s=t.parseFormat(r),a=s.reduce((u,{literal:l,val:d})=>l?u:u.concat(d),[]),o=e.shiftTo(...a.map(n).filter(u=>u));return Au(s,i(o))}},ve=class{constructor(e,r){this.reason=e,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}},xl=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function jt(...t){let e=t.reduce((r,n)=>r+n.source,"");return RegExp(`^${e}$`)}function zt(...t){return e=>t.reduce(([r,n,i],s)=>{let[a,o,u]=s(e,i);return[{...r,...a},o||n,u]},[{},null,1]).slice(0,2)}function Yt(t,...e){if(t==null)return[null,null];for(let[r,n]of e){let i=r.exec(t);if(i)return n(i)}return[null,null]}function Tl(...t){return(e,r)=>{let n={},i;for(i=0;i<t.length;i++)n[t[i]]=it(e[r+i]);return[n,null,r+i]}}var Ml=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,xp=`(?:${Ml.source}?(?:\\[(${xl.source})\\])?)?`,Gs=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Al=RegExp(`${Gs.source}${xp}`),qs=RegExp(`(?:T${Al.source})?`),Tp=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Mp=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Ap=/(\d{4})-?(\d{3})/,Ip=Tl("weekYear","weekNumber","weekDay"),Lp=Tl("year","ordinal"),Np=/(\d{4})-(\d\d)-(\d\d)/,Il=RegExp(`${Gs.source} ?(?:${Ml.source}|(${xl.source}))?`),Pp=RegExp(`(?: ${Il.source})?`);function Vt(t,e,r){let n=t[e];return N(n)?r:it(n)}function Bp(t,e){return[{year:Vt(t,e),month:Vt(t,e+1,1),day:Vt(t,e+2,1)},null,e+3]}function Zt(t,e){return[{hours:Vt(t,e,0),minutes:Vt(t,e+1,0),seconds:Vt(t,e+2,0),milliseconds:Rs(t[e+3])},null,e+4]}function Ar(t,e){let r=!t[e]&&!t[e+1],n=ei(t[e+1],t[e+2]),i=r?null:_e.instance(n);return[{},i,e+3]}function Ir(t,e){let r=t[e]?at.create(t[e]):null;return[{},r,e+1]}var Rp=RegExp(`^T?${Gs.source}$`),Hp=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Gp(t){let[e,r,n,i,s,a,o,u,l]=t,d=e[0]==="-",c=u&&u[0]==="-",m=(D,E=!1)=>D!==void 0&&(E||D&&d)?-D:D;return[{years:m(Dt(r)),months:m(Dt(n)),weeks:m(Dt(i)),days:m(Dt(s)),hours:m(Dt(a)),minutes:m(Dt(o)),seconds:m(Dt(u),u==="-0"),milliseconds:m(Rs(l),c)}]}var qp={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Vs(t,e,r,n,i,s,a){let o={year:e.length===2?xs(it(e)):it(e),month:Cl.indexOf(r)+1,day:it(n),hour:it(i),minute:it(s)};return a&&(o.second=it(a)),t&&(o.weekday=t.length>3?bl.indexOf(t)+1:Sl.indexOf(t)+1),o}var Vp=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Up(t){let[,e,r,n,i,s,a,o,u,l,d,c]=t,m=Vs(e,i,n,r,s,a,o),D;return u?D=qp[u]:l?D=0:D=ei(d,c),[m,new _e(D)]}function Wp(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var jp=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,zp=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Yp=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Iu(t){let[,e,r,n,i,s,a,o]=t;return[Vs(e,i,n,r,s,a,o),_e.utcInstance]}function Zp(t){let[,e,r,n,i,s,a,o]=t;return[Vs(e,o,r,n,i,s,a),_e.utcInstance]}var Kp=jt(Tp,qs),Jp=jt(Mp,qs),$p=jt(Ap,qs),Qp=jt(Al),Ll=zt(Bp,Zt,Ar,Ir),Xp=zt(Ip,Zt,Ar,Ir),em=zt(Lp,Zt,Ar,Ir),tm=zt(Zt,Ar,Ir);function rm(t){return Yt(t,[Kp,Ll],[Jp,Xp],[$p,em],[Qp,tm])}function nm(t){return Yt(Wp(t),[Vp,Up])}function im(t){return Yt(t,[jp,Iu],[zp,Iu],[Yp,Zp])}function sm(t){return Yt(t,[Hp,Gp])}var am=zt(Zt);function om(t){return Yt(t,[Rp,am])}var um=jt(Np,Pp),lm=jt(Il),cm=zt(Zt,Ar,Ir);function hm(t){return Yt(t,[um,Ll],[lm,cm])}var Lu="Invalid Duration",Nl={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},fm={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...Nl},be=146097/400,Ht=146097/4800,dm={years:{quarters:4,months:12,weeks:be/7,days:be,hours:be*24,minutes:be*24*60,seconds:be*24*60*60,milliseconds:be*24*60*60*1e3},quarters:{months:3,weeks:be/28,days:be/4,hours:be*24/4,minutes:be*24*60/4,seconds:be*24*60*60/4,milliseconds:be*24*60*60*1e3/4},months:{weeks:Ht/7,days:Ht,hours:Ht*24,minutes:Ht*24*60,seconds:Ht*24*60*60,milliseconds:Ht*24*60*60*1e3},...Nl},Ft=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],pm=Ft.slice(0).reverse();function nt(t,e,r=!1){let n={values:r?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new k(n)}function Pl(t,e){var n;let r=(n=e.milliseconds)!=null?n:0;for(let i of pm.slice(1))e[i]&&(r+=e[i]*t[i].milliseconds);return r}function Nu(t,e){let r=Pl(t,e)<0?-1:1;Ft.reduceRight((n,i)=>{if(N(e[i]))return n;if(n){let s=e[n]*r,a=t[i][n],o=Math.floor(s/a);e[i]+=o*r,e[n]-=o*a*r}return i},null),Ft.reduce((n,i)=>{if(N(e[i]))return n;if(n){let s=e[n]%1;e[n]-=s,e[i]+=s*t[n][i]}return i},null)}function mm(t){let e={};for(let[r,n]of Object.entries(t))n!==0&&(e[r]=n);return e}var k=class t{constructor(e){let r=e.conversionAccuracy==="longterm"||!1,n=r?dm:fm;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||z.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,r){return t.fromObject({milliseconds:e},r)}static fromObject(e,r={}){if(e==null||typeof e!="object")throw new pe(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new t({values:Yn(e,t.normalizeUnit),loc:z.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(e){if(Et(e))return t.fromMillis(e);if(t.isDuration(e))return e;if(typeof e=="object")return t.fromObject(e);throw new pe(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,r){let[n]=sm(e);return n?t.fromObject(n,r):t.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,r){let[n]=om(e);return n?t.fromObject(n,r):t.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,r=null){if(!e)throw new pe("need to specify a reason the Duration is invalid");let n=e instanceof ve?e:new ve(e,r);if(j.throwOnInvalid)throw new Fs(n);return new t({invalid:n})}static normalizeUnit(e){let r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!r)throw new Vn(e);return r}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,r={}){let n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?ye.create(this.loc,n).formatDurationFromString(this,e):Lu}toHuman(e={}){if(!this.isValid)return Lu;let r=Ft.map(n=>{let i=this.values[n];return N(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(i)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Hs(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;let r=this.toMillis();return r<0||r>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},I.fromMillis(r,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.isValid?Pl(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;let r=t.fromDurationLike(e),n={};for(let i of Ft)(Wt(r.values,i)||Wt(this.values,i))&&(n[i]=r.get(i)+this.get(i));return nt(this,{values:n},!0)}minus(e){if(!this.isValid)return this;let r=t.fromDurationLike(e);return this.plus(r.negate())}mapUnits(e){if(!this.isValid)return this;let r={};for(let n of Object.keys(this.values))r[n]=El(e(this.values[n],n));return nt(this,{values:r},!0)}get(e){return this[t.normalizeUnit(e)]}set(e){if(!this.isValid)return this;let r={...this.values,...Yn(e,t.normalizeUnit)};return nt(this,{values:r})}reconfigure({locale:e,numberingSystem:r,conversionAccuracy:n,matrix:i}={}){let a={loc:this.loc.clone({locale:e,numberingSystem:r}),matrix:i,conversionAccuracy:n};return nt(this,a)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;let e=this.toObject();return Nu(this.matrix,e),nt(this,{values:e},!0)}rescale(){if(!this.isValid)return this;let e=mm(this.normalize().shiftToAll().toObject());return nt(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(a=>t.normalizeUnit(a));let r={},n={},i=this.toObject(),s;for(let a of Ft)if(e.indexOf(a)>=0){s=a;let o=0;for(let l in n)o+=this.matrix[l][a]*n[l],n[l]=0;Et(i[a])&&(o+=i[a]);let u=Math.trunc(o);r[a]=u,n[a]=(o*1e3-u*1e3)/1e3}else Et(i[a])&&(n[a]=i[a]);for(let a in n)n[a]!==0&&(r[s]+=a===s?n[a]:n[a]/this.matrix[s][a]);return Nu(this.matrix,r),nt(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;let e={};for(let r of Object.keys(this.values))e[r]=this.values[r]===0?0:-this.values[r];return nt(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function r(n,i){return n===void 0||n===0?i===void 0||i===0:n===i}for(let n of Ft)if(!r(this.values[n],e.values[n]))return!1;return!0}},Gt="Invalid Interval";function gm(t,e){return!t||!t.isValid?Ut.invalid("missing or invalid start"):!e||!e.isValid?Ut.invalid("missing or invalid end"):e<t?Ut.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}var Ut=class t{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,r=null){if(!e)throw new pe("need to specify a reason the Interval is invalid");let n=e instanceof ve?e:new ve(e,r);if(j.throwOnInvalid)throw new vs(n);return new t({invalid:n})}static fromDateTimes(e,r){let n=br(e),i=br(r),s=gm(n,i);return s==null?new t({start:n,end:i}):s}static after(e,r){let n=k.fromDurationLike(r),i=br(e);return t.fromDateTimes(i,i.plus(n))}static before(e,r){let n=k.fromDurationLike(r),i=br(e);return t.fromDateTimes(i.minus(n),i)}static fromISO(e,r){let[n,i]=(e||"").split("/",2);if(n&&i){let s,a;try{s=I.fromISO(n,r),a=s.isValid}catch(l){a=!1}let o,u;try{o=I.fromISO(i,r),u=o.isValid}catch(l){u=!1}if(a&&u)return t.fromDateTimes(s,o);if(a){let l=k.fromISO(i,r);if(l.isValid)return t.after(s,l)}else if(u){let l=k.fromISO(n,r);if(l.isValid)return t.before(o,l)}}return t.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;let r=this.start.startOf(e),n=this.end.startOf(e);return Math.floor(n.diff(r,e).get(e))+(n.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:r}={}){return this.isValid?t.fromDateTimes(e||this.s,r||this.e):this}splitAt(...e){if(!this.isValid)return[];let r=e.map(br).filter(a=>this.contains(a)).sort(),n=[],{s:i}=this,s=0;for(;i<this.e;){let a=r[s]||this.e,o=+a>+this.e?this.e:a;n.push(t.fromDateTimes(i,o)),i=o,s+=1}return n}splitBy(e){let r=k.fromDurationLike(e);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,i=1,s,a=[];for(;n<this.e;){let o=this.start.plus(r.mapUnits(u=>u*i));s=+o>+this.e?this.e:o,a.push(t.fromDateTimes(n,s)),n=s,i+=1}return a}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;let r=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return r>=n?null:t.fromDateTimes(r,n)}union(e){if(!this.isValid)return this;let r=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return t.fromDateTimes(r,n)}static merge(e){let[r,n]=e.sort((i,s)=>i.s-s.s).reduce(([i,s],a)=>s?s.overlaps(a)||s.abutsStart(a)?[i,s.union(a)]:[i.concat([s]),a]:[i,a],[[],null]);return n&&r.push(n),r}static xor(e){let r=null,n=0,i=[],s=e.map(u=>[{time:u.s,type:"s"},{time:u.e,type:"e"}]),a=Array.prototype.concat(...s),o=a.sort((u,l)=>u.time-l.time);for(let u of o)n+=u.type==="s"?1:-1,n===1?r=u.time:(r&&+r!=+u.time&&i.push(t.fromDateTimes(r,u.time)),r=null);return t.merge(i)}difference(...e){return t.xor([this].concat(e)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Gt}toLocaleString(e=Un,r={}){return this.isValid?ye.create(this.s.loc.clone(r),e).formatInterval(this):Gt}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Gt}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Gt}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Gt}toFormat(e,{separator:r=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${r}${this.e.toFormat(e)}`:Gt}toDuration(e,r){return this.isValid?this.e.diff(this.s,e,r):k.invalid(this.invalidReason)}mapEndpoints(e){return t.fromDateTimes(e(this.s),e(this.e))}},qt=class{static hasDST(e=j.defaultZone){let r=I.now().setZone(e).set({month:12});return!e.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(e){return at.isValidZone(e)}static normalizeZone(e){return st(e,j.defaultZone)}static months(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||z.create(r,n,s)).months(e)}static monthsFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||z.create(r,n,s)).months(e,!0)}static weekdays(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||z.create(r,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||z.create(r,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return z.create(e).meridiems()}static eras(e="short",{locale:r=null}={}){return z.create(r,null,"gregory").eras(e)}static features(){return{relative:vl()}}};function Pu(t,e){let r=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(e)-r(t);return Math.floor(k.fromMillis(n).as("days"))}function Dm(t,e,r){let n=[["years",(u,l)=>l.year-u.year],["quarters",(u,l)=>l.quarter-u.quarter+(l.year-u.year)*4],["months",(u,l)=>l.month-u.month+(l.year-u.year)*12],["weeks",(u,l)=>{let d=Pu(u,l);return(d-d%7)/7}],["days",Pu]],i={},s=t,a,o;for(let[u,l]of n)r.indexOf(u)>=0&&(a=u,i[u]=l(t,e),o=s.plus(i),o>e?(i[u]--,t=s.plus(i),t>e&&(o=t,i[u]--,t=s.plus(i))):t=o);return[t,i,o,a]}function ym(t,e,r,n){let[i,s,a,o]=Dm(t,e,r),u=e-i,l=r.filter(c=>["hours","minutes","seconds","milliseconds"].indexOf(c)>=0);l.length===0&&(a<e&&(a=i.plus({[o]:1})),a!==i&&(s[o]=(s[o]||0)+u/(a-i)));let d=k.fromObject(s,n);return l.length>0?k.fromMillis(u,n).shiftTo(...l).plus(d):d}var Us={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},Bu={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},vm=Us.hanidec.replace(/[\[|\]]/g,"").split("");function Fm(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(t[r].search(Us.hanidec)!==-1)e+=vm.indexOf(t[r]);else for(let i in Bu){let[s,a]=Bu[i];n>=s&&n<=a&&(e+=n-s)}}return parseInt(e,10)}else return e}function Te({numberingSystem:t},e=""){return new RegExp(`${Us[t||"latn"]}${e}`)}var Em="missing Intl.DateTimeFormat.formatToParts support";function B(t,e=r=>r){return{regex:t,deser:([r])=>e(Fm(r))}}var Cm="\xA0",Bl=`[ ${Cm}]`,Rl=new RegExp(Bl,"g");function wm(t){return t.replace(/\./g,"\\.?").replace(Rl,Bl)}function Ru(t){return t.replace(/\./g,"").replace(Rl," ").toLowerCase()}function Me(t,e){return t===null?null:{regex:RegExp(t.map(wm).join("|")),deser:([r])=>t.findIndex(n=>Ru(r)===Ru(n))+e}}function Hu(t,e){return{regex:t,deser:([,r,n])=>ei(r,n),groups:e}}function Pn(t){return{regex:t,deser:([e])=>e}}function bm(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Sm(t,e){let r=Te(e),n=Te(e,"{2}"),i=Te(e,"{3}"),s=Te(e,"{4}"),a=Te(e,"{6}"),o=Te(e,"{1,2}"),u=Te(e,"{1,3}"),l=Te(e,"{1,6}"),d=Te(e,"{1,9}"),c=Te(e,"{2,4}"),m=Te(e,"{4,6}"),D=P=>({regex:RegExp(bm(P.val)),deser:([L])=>L,literal:!0}),O=(P=>{if(t.literal)return D(P);switch(P.val){case"G":return Me(e.eras("short"),0);case"GG":return Me(e.eras("long"),0);case"y":return B(l);case"yy":return B(c,xs);case"yyyy":return B(s);case"yyyyy":return B(m);case"yyyyyy":return B(a);case"M":return B(o);case"MM":return B(n);case"MMM":return Me(e.months("short",!0),1);case"MMMM":return Me(e.months("long",!0),1);case"L":return B(o);case"LL":return B(n);case"LLL":return Me(e.months("short",!1),1);case"LLLL":return Me(e.months("long",!1),1);case"d":return B(o);case"dd":return B(n);case"o":return B(u);case"ooo":return B(i);case"HH":return B(n);case"H":return B(o);case"hh":return B(n);case"h":return B(o);case"mm":return B(n);case"m":return B(o);case"q":return B(o);case"qq":return B(n);case"s":return B(o);case"ss":return B(n);case"S":return B(u);case"SSS":return B(i);case"u":return Pn(d);case"uu":return Pn(o);case"uuu":return B(r);case"a":return Me(e.meridiems(),0);case"kkkk":return B(s);case"kk":return B(c,xs);case"W":return B(o);case"WW":return B(n);case"E":case"c":return B(r);case"EEE":return Me(e.weekdays("short",!1),1);case"EEEE":return Me(e.weekdays("long",!1),1);case"ccc":return Me(e.weekdays("short",!0),1);case"cccc":return Me(e.weekdays("long",!0),1);case"Z":case"ZZ":return Hu(new RegExp(`([+-]${o.source})(?::(${n.source}))?`),2);case"ZZZ":return Hu(new RegExp(`([+-]${o.source})(${n.source})?`),2);case"z":return Pn(/[a-z_+-/]{1,256}?/i);case" ":return Pn(/[^\S\n\r]/);default:return D(P)}})(t)||{invalidReason:Em};return O.token=t,O}var _m={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function km(t,e,r){let{type:n,value:i}=t;if(n==="literal"){let u=/^\s+$/.test(i);return{literal:!u,val:u?" ":i}}let s=e[n],a=n;n==="hour"&&(e.hour12!=null?a=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?a="hour12":a="hour24":a=r.hour12?"hour12":"hour24");let o=_m[a];if(typeof o=="object"&&(o=o[s]),o)return{literal:!1,val:o}}function Om(t){return[`^${t.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,t]}function xm(t,e,r){let n=t.match(e);if(n){let i={},s=1;for(let a in r)if(Wt(r,a)){let o=r[a],u=o.groups?o.groups+1:1;!o.literal&&o.token&&(i[o.token.val[0]]=o.deser(n.slice(s,s+u))),s+=u}return[n,i]}else return[n,{}]}function Tm(t){let e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},r=null,n;return N(t.z)||(r=at.create(t.z)),N(t.Z)||(r||(r=new _e(t.Z)),n=t.Z),N(t.q)||(t.M=(t.q-1)*3+1),N(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),N(t.u)||(t.S=Rs(t.u)),[Object.keys(t).reduce((s,a)=>{let o=e(a);return o&&(s[o]=t[a]),s},{}),r,n]}var fs=null;function Mm(){return fs||(fs=I.fromMillis(1555555555555)),fs}function Am(t,e){if(t.literal)return t;let r=ye.macroTokenToFormatOpts(t.val),n=ql(r,e);return n==null||n.includes(void 0)?t:n}function Hl(t,e){return Array.prototype.concat(...t.map(r=>Am(r,e)))}function Gl(t,e,r){let n=Hl(ye.parseFormat(r),t),i=n.map(a=>Sm(a,t)),s=i.find(a=>a.invalidReason);if(s)return{input:e,tokens:n,invalidReason:s.invalidReason};{let[a,o]=Om(i),u=RegExp(a,"i"),[l,d]=xm(e,u,o),[c,m,D]=d?Tm(d):[null,null,void 0];if(Wt(d,"a")&&Wt(d,"H"))throw new vt("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:n,regex:u,rawMatches:l,matches:d,result:c,zone:m,specificOffset:D}}}function Im(t,e,r){let{result:n,zone:i,specificOffset:s,invalidReason:a}=Gl(t,e,r);return[n,i,s,a]}function ql(t,e){if(!t)return null;let n=ye.create(e,t).dtFormatter(Mm()),i=n.formatToParts(),s=n.resolvedOptions();return i.map(a=>km(a,t,s))}var Vl=[0,31,59,90,120,151,181,212,243,273,304,334],Ul=[0,31,60,91,121,152,182,213,244,274,305,335];function Se(t,e){return new ve("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function Wl(t,e,r){let n=new Date(Date.UTC(t,e-1,r));t<100&&t>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);let i=n.getUTCDay();return i===0?7:i}function jl(t,e,r){return r+(Mr(t)?Ul:Vl)[e-1]}function zl(t,e){let r=Mr(t)?Ul:Vl,n=r.findIndex(s=>s<e),i=e-r[n];return{month:n+1,day:i}}function Ts(t){let{year:e,month:r,day:n}=t,i=jl(e,r,n),s=Wl(e,r,n),a=Math.floor((i-s+10)/7),o;return a<1?(o=e-1,a=zn(o)):a>zn(e)?(o=e+1,a=1):o=e,{weekYear:o,weekNumber:a,weekday:s,...ti(t)}}function Gu(t){let{weekYear:e,weekNumber:r,weekday:n}=t,i=Wl(e,1,4),s=kr(e),a=r*7+n-i-3,o;a<1?(o=e-1,a+=kr(o)):a>s?(o=e+1,a-=kr(e)):o=e;let{month:u,day:l}=zl(o,a);return{year:o,month:u,day:l,...ti(t)}}function ds(t){let{year:e,month:r,day:n}=t,i=jl(e,r,n);return{year:e,ordinal:i,...ti(t)}}function qu(t){let{year:e,ordinal:r}=t,{month:n,day:i}=zl(e,r);return{year:e,month:n,day:i,...ti(t)}}function Lm(t){let e=Qn(t.weekYear),r=Je(t.weekNumber,1,zn(t.weekYear)),n=Je(t.weekday,1,7);return e?r?n?!1:Se("weekday",t.weekday):Se("week",t.week):Se("weekYear",t.weekYear)}function Nm(t){let e=Qn(t.year),r=Je(t.ordinal,1,kr(t.year));return e?r?!1:Se("ordinal",t.ordinal):Se("year",t.year)}function Yl(t){let e=Qn(t.year),r=Je(t.month,1,12),n=Je(t.day,1,jn(t.year,t.month));return e?r?n?!1:Se("day",t.day):Se("month",t.month):Se("year",t.year)}function Zl(t){let{hour:e,minute:r,second:n,millisecond:i}=t,s=Je(e,0,23)||e===24&&r===0&&n===0&&i===0,a=Je(r,0,59),o=Je(n,0,59),u=Je(i,0,999);return s?a?o?u?!1:Se("millisecond",i):Se("second",n):Se("minute",r):Se("hour",e)}var ps="Invalid DateTime",Vu=864e13;function Bn(t){return new ve("unsupported zone",`the zone "${t.name}" is not supported`)}function ms(t){return t.weekData===null&&(t.weekData=Ts(t.c)),t.weekData}function yt(t,e){let r={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new I({...r,...e,old:r})}function Kl(t,e,r){let n=t-e*60*1e3,i=r.offset(n);if(e===i)return[n,e];n-=(i-e)*60*1e3;let s=r.offset(n);return i===s?[n,i]:[t-Math.min(i,s)*60*1e3,Math.max(i,s)]}function Rn(t,e){t+=e*60*1e3;let r=new Date(t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function qn(t,e,r){return Kl(Xn(t),e,r)}function Uu(t,e){let r=t.o,n=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...t.c,year:n,month:i,day:Math.min(t.c.day,jn(n,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},a=k.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),o=Xn(s),[u,l]=Kl(o,r,t.zone);return a!==0&&(u+=a,l=t.zone.offset(u)),{ts:u,o:l}}function wr(t,e,r,n,i,s){let{setZone:a,zone:o}=r;if(t&&Object.keys(t).length!==0||e){let u=e||o,l=I.fromObject(t,{...r,zone:u,specificOffset:s});return a?l:l.setZone(o)}else return I.invalid(new ve("unparsable",`the input "${i}" can't be parsed as ${n}`))}function Hn(t,e,r=!0){return t.isValid?ye.create(z.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(t,e):null}function gs(t,e){let r=t.c.year>9999||t.c.year<0,n="";return r&&t.c.year>=0&&(n+="+"),n+=J(t.c.year,r?6:4),e?(n+="-",n+=J(t.c.month),n+="-",n+=J(t.c.day)):(n+=J(t.c.month),n+=J(t.c.day)),n}function Wu(t,e,r,n,i,s){let a=J(t.c.hour);return e?(a+=":",a+=J(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(a+=":")):a+=J(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(a+=J(t.c.second),(t.c.millisecond!==0||!n)&&(a+=".",a+=J(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!s?a+="Z":t.o<0?(a+="-",a+=J(Math.trunc(-t.o/60)),a+=":",a+=J(Math.trunc(-t.o%60))):(a+="+",a+=J(Math.trunc(t.o/60)),a+=":",a+=J(Math.trunc(t.o%60)))),s&&(a+="["+t.zone.ianaName+"]"),a}var Jl={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Pm={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Bm={ordinal:1,hour:0,minute:0,second:0,millisecond:0},$l=["year","month","day","hour","minute","second","millisecond"],Rm=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Hm=["year","ordinal","hour","minute","second","millisecond"];function ju(t){let e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new Vn(t);return e}function zu(t,e){let r=st(e.zone,j.defaultZone),n=z.fromObject(e),i=j.now(),s,a;if(N(t.year))s=i;else{for(let l of $l)N(t[l])&&(t[l]=Jl[l]);let o=Yl(t)||Zl(t);if(o)return I.invalid(o);let u=r.offset(i);[s,a]=qn(t,u,r)}return new I({ts:s,zone:r,loc:n,o:a})}function Yu(t,e,r){let n=N(r.round)?!0:r.round,i=(a,o)=>(a=Hs(a,n||r.calendary?0:2,!0),e.loc.clone(r).relFormatter(r).format(a,o)),s=a=>r.calendary?e.hasSame(t,a)?0:e.startOf(a).diff(t.startOf(a),a).get(a):e.diff(t,a).get(a);if(r.unit)return i(s(r.unit),r.unit);for(let a of r.units){let o=s(a);if(Math.abs(o)>=1)return i(o,a)}return i(t>e?-0:0,r.units[r.units.length-1])}function Zu(t){let e={},r;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],r=Array.from(t).slice(0,t.length-1)):r=Array.from(t),[e,r]}var I=class t{constructor(e){let r=e.zone||j.defaultZone,n=e.invalid||(Number.isNaN(e.ts)?new ve("invalid input"):null)||(r.isValid?null:Bn(r));this.ts=N(e.ts)?j.now():e.ts;let i=null,s=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(r))[i,s]=[e.old.c,e.old.o];else{let o=r.offset(this.ts);i=Rn(this.ts,o),n=Number.isNaN(i.year)?new ve("invalid input"):null,i=n?null:i,s=n?null:o}this._zone=r,this.loc=e.loc||z.create(),this.invalid=n,this.weekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new t({})}static local(){let[e,r]=Zu(arguments),[n,i,s,a,o,u,l]=r;return zu({year:n,month:i,day:s,hour:a,minute:o,second:u,millisecond:l},e)}static utc(){let[e,r]=Zu(arguments),[n,i,s,a,o,u,l]=r;return e.zone=_e.utcInstance,zu({year:n,month:i,day:s,hour:a,minute:o,second:u,millisecond:l},e)}static fromJSDate(e,r={}){let n=dp(e)?e.valueOf():NaN;if(Number.isNaN(n))return t.invalid("invalid input");let i=st(r.zone,j.defaultZone);return i.isValid?new t({ts:n,zone:i,loc:z.fromObject(r)}):t.invalid(Bn(i))}static fromMillis(e,r={}){if(Et(e))return e<-Vu||e>Vu?t.invalid("Timestamp out of range"):new t({ts:e,zone:st(r.zone,j.defaultZone),loc:z.fromObject(r)});throw new pe(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,r={}){if(Et(e))return new t({ts:e*1e3,zone:st(r.zone,j.defaultZone),loc:z.fromObject(r)});throw new pe("fromSeconds requires a numerical input")}static fromObject(e,r={}){e=e||{};let n=st(r.zone,j.defaultZone);if(!n.isValid)return t.invalid(Bn(n));let i=j.now(),s=N(r.specificOffset)?n.offset(i):r.specificOffset,a=Yn(e,ju),o=!N(a.ordinal),u=!N(a.year),l=!N(a.month)||!N(a.day),d=u||l,c=a.weekYear||a.weekNumber,m=z.fromObject(r);if((d||o)&&c)throw new vt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new vt("Can't mix ordinal dates with month/day");let D=c||a.weekday&&!d,E,O,P=Rn(i,s);D?(E=Rm,O=Pm,P=Ts(P)):o?(E=Hm,O=Bm,P=ds(P)):(E=$l,O=Jl);let L=!1;for(let M of E){let H=a[M];N(H)?L?a[M]=O[M]:a[M]=P[M]:L=!0}let U=D?Lm(a):o?Nm(a):Yl(a),re=U||Zl(a);if(re)return t.invalid(re);let v=D?Gu(a):o?qu(a):a,[x,R]=qn(v,s,n),b=new t({ts:x,zone:n,o:R,loc:m});return a.weekday&&d&&e.weekday!==b.weekday?t.invalid("mismatched weekday",`you can't specify both a weekday of ${a.weekday} and a date of ${b.toISO()}`):b}static fromISO(e,r={}){let[n,i]=rm(e);return wr(n,i,r,"ISO 8601",e)}static fromRFC2822(e,r={}){let[n,i]=nm(e);return wr(n,i,r,"RFC 2822",e)}static fromHTTP(e,r={}){let[n,i]=im(e);return wr(n,i,r,"HTTP",r)}static fromFormat(e,r,n={}){if(N(e)||N(r))throw new pe("fromFormat requires an input string and a format");let{locale:i=null,numberingSystem:s=null}=n,a=z.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[o,u,l,d]=Im(a,e,r);return d?t.invalid(d):wr(o,u,n,`format ${r}`,e,l)}static fromString(e,r,n={}){return t.fromFormat(e,r,n)}static fromSQL(e,r={}){let[n,i]=hm(e);return wr(n,i,r,"SQL",e)}static invalid(e,r=null){if(!e)throw new pe("need to specify a reason the DateTime is invalid");let n=e instanceof ve?e:new ve(e,r);if(j.throwOnInvalid)throw new ys(n);return new t({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,r={}){let n=ql(e,z.fromObject(r));return n?n.map(i=>i?i.val:null).join(""):null}static expandFormat(e,r={}){return Hl(ye.parseFormat(e),z.fromObject(r)).map(i=>i.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?ms(this).weekYear:NaN}get weekNumber(){return this.isValid?ms(this).weekNumber:NaN}get weekday(){return this.isValid?ms(this).weekday:NaN}get ordinal(){return this.isValid?ds(this.c).ordinal:NaN}get monthShort(){return this.isValid?qt.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?qt.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?qt.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?qt.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];let e=864e5,r=6e4,n=Xn(this.c),i=this.zone.offset(n-e),s=this.zone.offset(n+e),a=this.zone.offset(n-i*r),o=this.zone.offset(n-s*r);if(a===o)return[this];let u=n-a*r,l=n-o*r,d=Rn(u,a),c=Rn(l,o);return d.hour===c.hour&&d.minute===c.minute&&d.second===c.second&&d.millisecond===c.millisecond?[yt(this,{ts:u}),yt(this,{ts:l})]:[this]}get isInLeapYear(){return Mr(this.year)}get daysInMonth(){return jn(this.year,this.month)}get daysInYear(){return this.isValid?kr(this.year):NaN}get weeksInWeekYear(){return this.isValid?zn(this.weekYear):NaN}resolvedLocaleOptions(e={}){let{locale:r,numberingSystem:n,calendar:i}=ye.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:i}}toUTC(e=0,r={}){return this.setZone(_e.instance(e),r)}toLocal(){return this.setZone(j.defaultZone)}setZone(e,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(e=st(e,j.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(r||n){let s=e.offset(this.ts),a=this.toObject();[i]=qn(a,s,e)}return yt(this,{ts:i,zone:e})}else return t.invalid(Bn(e))}reconfigure({locale:e,numberingSystem:r,outputCalendar:n}={}){let i=this.loc.clone({locale:e,numberingSystem:r,outputCalendar:n});return yt(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;let r=Yn(e,ju),n=!N(r.weekYear)||!N(r.weekNumber)||!N(r.weekday),i=!N(r.ordinal),s=!N(r.year),a=!N(r.month)||!N(r.day),o=s||a,u=r.weekYear||r.weekNumber;if((o||i)&&u)throw new vt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(a&&i)throw new vt("Can't mix ordinal dates with month/day");let l;n?l=Gu({...Ts(this.c),...r}):N(r.ordinal)?(l={...this.toObject(),...r},N(r.day)&&(l.day=Math.min(jn(l.year,l.month),l.day))):l=qu({...ds(this.c),...r});let[d,c]=qn(l,this.o,this.zone);return yt(this,{ts:d,o:c})}plus(e){if(!this.isValid)return this;let r=k.fromDurationLike(e);return yt(this,Uu(this,r))}minus(e){if(!this.isValid)return this;let r=k.fromDurationLike(e).negate();return yt(this,Uu(this,r))}startOf(e){if(!this.isValid)return this;let r={},n=k.normalizeUnit(e);switch(n){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(n==="weeks"&&(r.weekday=1),n==="quarters"){let i=Math.ceil(this.month/3);r.month=(i-1)*3+1}return this.set(r)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,r={}){return this.isValid?ye.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,e):ps}toLocaleString(e=Un,r={}){return this.isValid?ye.create(this.loc.clone(r),e).formatDateTime(this):ps}toLocaleParts(e={}){return this.isValid?ye.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;let a=e==="extended",o=gs(this,a);return o+="T",o+=Wu(this,a,r,n,i,s),o}toISODate({format:e="extended"}={}){return this.isValid?gs(this,e==="extended"):null}toISOWeekDate(){return Hn(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:i=!1,extendedZone:s=!1,format:a="extended"}={}){return this.isValid?(i?"T":"")+Wu(this,a==="extended",r,e,n,s):null}toRFC2822(){return Hn(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Hn(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?gs(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let i="HH:mm:ss.SSS";return(r||e)&&(n&&(i+=" "),r?i+="z":e&&(i+="ZZ")),Hn(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():ps}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};let r={...this.c};return e.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,r="milliseconds",n={}){if(!this.isValid||!e.isValid)return k.invalid("created by diffing an invalid DateTime");let i={locale:this.locale,numberingSystem:this.numberingSystem,...n},s=pp(r).map(k.normalizeUnit),a=e.valueOf()>this.valueOf(),o=a?this:e,u=a?e:this,l=ym(o,u,s,i);return a?l.negate():l}diffNow(e="milliseconds",r={}){return this.diff(t.now(),e,r)}until(e){return this.isValid?Ut.fromDateTimes(this,e):this}hasSame(e,r){if(!this.isValid)return!1;let n=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(r)<=n&&n<=i.endOf(r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;let r=e.base||t.fromObject({},{zone:this.zone}),n=e.padding?this<r?-e.padding:e.padding:0,i=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(i=e.unit,s=void 0),Yu(r,this.plus(n),{...e,numeric:"always",units:i,unit:s})}toRelativeCalendar(e={}){return this.isValid?Yu(e.base||t.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(t.isDateTime))throw new pe("min requires all arguments be DateTimes");return Mu(e,r=>r.valueOf(),Math.min)}static max(...e){if(!e.every(t.isDateTime))throw new pe("max requires all arguments be DateTimes");return Mu(e,r=>r.valueOf(),Math.max)}static fromFormatExplain(e,r,n={}){let{locale:i=null,numberingSystem:s=null}=n,a=z.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return Gl(a,e,r)}static fromStringExplain(e,r,n={}){return t.fromFormatExplain(e,r,n)}static get DATE_SHORT(){return Un}static get DATE_MED(){return el}static get DATE_MED_WITH_WEEKDAY(){return $d}static get DATE_FULL(){return tl}static get DATE_HUGE(){return rl}static get TIME_SIMPLE(){return nl}static get TIME_WITH_SECONDS(){return il}static get TIME_WITH_SHORT_OFFSET(){return sl}static get TIME_WITH_LONG_OFFSET(){return al}static get TIME_24_SIMPLE(){return ol}static get TIME_24_WITH_SECONDS(){return ul}static get TIME_24_WITH_SHORT_OFFSET(){return ll}static get TIME_24_WITH_LONG_OFFSET(){return cl}static get DATETIME_SHORT(){return hl}static get DATETIME_SHORT_WITH_SECONDS(){return fl}static get DATETIME_MED(){return dl}static get DATETIME_MED_WITH_SECONDS(){return pl}static get DATETIME_MED_WITH_WEEKDAY(){return Qd}static get DATETIME_FULL(){return ml}static get DATETIME_FULL_WITH_SECONDS(){return gl}static get DATETIME_HUGE(){return Dl}static get DATETIME_HUGE_WITH_SECONDS(){return yl}};function br(t){if(I.isDateTime(t))return t;if(t&&t.valueOf&&Et(t.valueOf()))return I.fromJSDate(t);if(t&&typeof t=="object")return I.fromObject(t);throw new pe(`Unknown datetime argument: ${t}, of type ${typeof t}`)}var Ws={renderNullAs:"\\-",taskCompletionTracking:!1,taskCompletionUseEmojiShorthand:!1,taskCompletionText:"completion",taskCompletionDateFormat:"yyyy-MM-dd",recursiveSubTaskCompletion:!1,warnOnEmptyResult:!0,refreshEnabled:!0,refreshInterval:2500,defaultDateFormat:"MMMM dd, yyyy",defaultDateTimeFormat:"h:mm a - MMMM dd, yyyy",maxRecursiveRenderDepth:4,tableIdColumnName:"File",tableGroupColumnName:"Group",showResultCount:!0},Gm={allowHtml:!0};({...Ws,...Gm});var Ms=class t{constructor(e){ie(this,"value");ie(this,"successful");this.value=e,this.successful=!0}map(e){return new t(e(this.value))}flatMap(e){return e(this.value)}mapErr(e){return this}bimap(e,r){return this.map(e)}orElse(e){return this.value}cast(){return this}orElseThrow(e){return this.value}},As=class t{constructor(e){ie(this,"error");ie(this,"successful");this.error=e,this.successful=!1}map(e){return this}flatMap(e){return this}mapErr(e){return new t(e(this.error))}bimap(e,r){return this.mapErr(r)}orElse(e){return e}cast(){return this}orElseThrow(e){throw e?new Error(e(this.error)):new Error(""+this.error)}},Zn;(function(t){function e(s){return new Ms(s)}t.success=e;function r(s){return new As(s)}t.failure=r;function n(s,a,o){return s.successful?a.successful?o(s.value,a.value):r(a.error):r(s.error)}t.flatMap2=n;function i(s,a,o){return n(s,a,(u,l)=>e(o(u,l)))}t.map2=i})(Zn||(Zn={}));var qm=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Kn={exports:{}};Kn.exports;(function(t,e){(function(r,n){t.exports=n()})(typeof self!="undefined"?self:qm,function(){return function(r){var n={};function i(s){if(n[s])return n[s].exports;var a=n[s]={i:s,l:!1,exports:{}};return r[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=r,i.c=n,i.d=function(s,a,o){i.o(s,a)||Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:o})},i.r=function(s){Object.defineProperty(s,"__esModule",{value:!0})},i.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(a,"a",a),a},i.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},i.p="",i(i.s=0)}([function(r,n,i){function s(h){if(!(this instanceof s))return new s(h);this._=h}var a=s.prototype;function o(h,p){for(var g=0;g<h;g++)p(g)}function u(h,p,g){return function(y,F){o(F.length,function(C){y(F[C],C,F)})}(function(y,F,C){p=h(p,y,F,C)},g),p}function l(h,p){return u(function(g,y,F,C){return g.concat([h(y,F,C)])},[],p)}function d(h,p){var g={v:0,buf:p};return o(h,function(){var y;g={v:g.v<<1|(y=g.buf,y[0]>>7),buf:function(F){var C=u(function(w,T,G,ne){return w.concat(G===ne.length-1?Buffer.from([T,0]).readUInt16BE(0):ne.readUInt16BE(G))},[],F);return Buffer.from(l(function(w){return(w<<1&65535)>>8},C))}(g.buf)}}),g}function c(){return typeof Buffer!="undefined"}function m(){if(!c())throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.")}function D(h){m();var p=u(function(C,w){return C+w},0,h);if(p%8!=0)throw new Error("The bits ["+h.join(", ")+"] add up to "+p+" which is not an even number of bytes; the total should be divisible by 8");var g,y=p/8,F=(g=function(C){return C>48},u(function(C,w){return C||(g(w)?w:C)},null,h));if(F)throw new Error(F+" bit range requested exceeds 48 bit (6 byte) Number max.");return new s(function(C,w){var T=y+w;return T>C.length?M(w,y.toString()+" bytes"):b(T,u(function(G,ne){var Q=d(ne,G.buf);return{coll:G.coll.concat(Q.v),buf:Q.buf}},{coll:[],buf:C.slice(w,T)},h).coll)})}function E(h,p){return new s(function(g,y){return m(),y+p>g.length?M(y,p+" bytes for "+h):b(y+p,g.slice(y,y+p))})}function O(h,p){if(typeof(g=p)!="number"||Math.floor(g)!==g||p<0||p>6)throw new Error(h+" requires integer length in range [0, 6].");var g}function P(h){return O("uintBE",h),E("uintBE("+h+")",h).map(function(p){return p.readUIntBE(0,h)})}function L(h){return O("uintLE",h),E("uintLE("+h+")",h).map(function(p){return p.readUIntLE(0,h)})}function U(h){return O("intBE",h),E("intBE("+h+")",h).map(function(p){return p.readIntBE(0,h)})}function re(h){return O("intLE",h),E("intLE("+h+")",h).map(function(p){return p.readIntLE(0,h)})}function v(h){return h instanceof s}function x(h){return{}.toString.call(h)==="[object Array]"}function R(h){return c()&&Buffer.isBuffer(h)}function b(h,p){return{status:!0,index:h,value:p,furthest:-1,expected:[]}}function M(h,p){return x(p)||(p=[p]),{status:!1,index:-1,value:null,furthest:h,expected:p}}function H(h,p){if(!p||h.furthest>p.furthest)return h;var g=h.furthest===p.furthest?function(y,F){if(function(){if(s._supportsSet!==void 0)return s._supportsSet;var We=typeof Set!="undefined";return s._supportsSet=We,We}()&&Array.from){for(var C=new Set(y),w=0;w<F.length;w++)C.add(F[w]);var T=Array.from(C);return T.sort(),T}for(var G={},ne=0;ne<y.length;ne++)G[y[ne]]=!0;for(var Q=0;Q<F.length;Q++)G[F[Q]]=!0;var Ue=[];for(var me in G)({}).hasOwnProperty.call(G,me)&&Ue.push(me);return Ue.sort(),Ue}(h.expected,p.expected):p.expected;return{status:h.status,index:h.index,value:h.value,furthest:p.furthest,expected:g}}var ae={};function oe(h,p){if(R(h))return{offset:p,line:-1,column:-1};h in ae||(ae[h]={});for(var g=ae[h],y=0,F=0,C=0,w=p;w>=0;){if(w in g){y=g[w].line,C===0&&(C=g[w].lineStart);break}(h.charAt(w)===`
`||h.charAt(w)==="\r"&&h.charAt(w+1)!==`
`)&&(F++,C===0&&(C=w+1)),w--}var T=y+F,G=p-C;return g[p]={line:T,lineStart:C},{offset:p,line:T+1,column:G+1}}function V(h){if(!v(h))throw new Error("not a parser: "+h)}function Le(h,p){return typeof h=="string"?h.charAt(p):h[p]}function ue(h){if(typeof h!="number")throw new Error("not a number: "+h)}function le(h){if(typeof h!="function")throw new Error("not a function: "+h)}function Z(h){if(typeof h!="string")throw new Error("not a string: "+h)}var Qt=2,Lr=3,Oe=8,Xt=5*Oe,Nr=4*Oe,er="  ";function ce(h,p){return new Array(p+1).join(h)}function Ne(h,p,g){var y=p-h.length;return y<=0?h:ce(g,y)+h}function Qs(h,p,g,y){return{from:h-p>0?h-p:0,to:h+g>y?y:h+g}}function lc(h,p){var g,y,F,C,w,T=p.index,G=T.offset,ne=1;if(G===h.length)return"Got the end of the input";if(R(h)){var Q=G-G%Oe,Ue=G-Q,me=Qs(Q,Xt,Nr+Oe,h.length),We=l(function($){return l(function(St){return Ne(St.toString(16),2,"0")},$)},function($,St){var _t=$.length,lt=[],kt=0;if(_t<=St)return[$.slice()];for(var Ot=0;Ot<_t;Ot++)lt[kt]||lt.push([]),lt[kt].push($[Ot]),(Ot+1)%St==0&&kt++;return lt}(h.slice(me.from,me.to).toJSON().data,Oe));C=function($){return $.from===0&&$.to===1?{from:$.from,to:$.to}:{from:$.from/Oe,to:Math.floor($.to/Oe)}}(me),y=Q/Oe,g=3*Ue,Ue>=4&&(g+=1),ne=2,F=l(function($){return $.length<=4?$.join(" "):$.slice(0,4).join(" ")+"  "+$.slice(4).join(" ")},We),(w=(8*(C.to>0?C.to-1:C.to)).toString(16).length)<2&&(w=2)}else{var bt=h.split(/\r\n|[\n\r\u2028\u2029]/);g=T.column-1,y=T.line-1,C=Qs(y,Qt,Lr,bt.length),F=bt.slice(C.from,C.to),w=C.to.toString().length}var vc=y-C.from;return R(h)&&(w=(8*(C.to>0?C.to-1:C.to)).toString(16).length)<2&&(w=2),u(function($,St,_t){var lt,kt=_t===vc,Ot=kt?"> ":er;return lt=R(h)?Ne((8*(C.from+_t)).toString(16),w,"0"):Ne((C.from+_t+1).toString(),w," "),[].concat($,[Ot+lt+" | "+St],kt?[er+ce(" ",w)+" | "+Ne("",g," ")+ce("^",ne)]:[])},[],F).join(`
`)}function Xs(h,p){return[`
`,"-- PARSING FAILED "+ce("-",50),`

`,lc(h,p),`

`,(g=p.expected,g.length===1?`Expected:

`+g[0]:`Expected one of the following: 

`+g.join(", ")),`
`].join("");var g}function ea(h){return h.flags!==void 0?h.flags:[h.global?"g":"",h.ignoreCase?"i":"",h.multiline?"m":"",h.unicode?"u":"",h.sticky?"y":""].join("")}function Pr(){for(var h=[].slice.call(arguments),p=h.length,g=0;g<p;g+=1)V(h[g]);return s(function(y,F){for(var C,w=new Array(p),T=0;T<p;T+=1){if(!(C=H(h[T]._(y,F),C)).status)return C;w[T]=C.value,F=C.index}return H(b(F,w),C)})}function ot(){var h=[].slice.call(arguments);if(h.length===0)throw new Error("seqMap needs at least one argument");var p=h.pop();return le(p),Pr.apply(null,h).map(function(g){return p.apply(null,g)})}function Br(){var h=[].slice.call(arguments),p=h.length;if(p===0)return Rr("zero alternates");for(var g=0;g<p;g+=1)V(h[g]);return s(function(y,F){for(var C,w=0;w<h.length;w+=1)if((C=H(h[w]._(y,F),C)).status)return C;return C})}function ta(h,p){return ci(h,p).or(ut([]))}function ci(h,p){return V(h),V(p),ot(h,p.then(h).many(),function(g,y){return[g].concat(y)})}function tr(h){Z(h);var p="'"+h+"'";return s(function(g,y){var F=y+h.length,C=g.slice(y,F);return C===h?b(F,C):M(y,p)})}function Ve(h,p){(function(F){if(!(F instanceof RegExp))throw new Error("not a regexp: "+F);for(var C=ea(F),w=0;w<C.length;w++){var T=C.charAt(w);if(T!=="i"&&T!=="m"&&T!=="u"&&T!=="s")throw new Error('unsupported regexp flag "'+T+'": '+F)}})(h),arguments.length>=2?ue(p):p=0;var g=function(F){return RegExp("^(?:"+F.source+")",ea(F))}(h),y=""+h;return s(function(F,C){var w=g.exec(F.slice(C));if(w){if(0<=p&&p<=w.length){var T=w[0],G=w[p];return b(C+T.length,G)}return M(C,"valid match group (0 to "+w.length+") in "+y)}return M(C,y)})}function ut(h){return s(function(p,g){return b(g,h)})}function Rr(h){return s(function(p,g){return M(g,h)})}function Hr(h){if(v(h))return s(function(p,g){var y=h._(p,g);return y.index=g,y.value="",y});if(typeof h=="string")return Hr(tr(h));if(h instanceof RegExp)return Hr(Ve(h));throw new Error("not a string, regexp, or parser: "+h)}function ra(h){return V(h),s(function(p,g){var y=h._(p,g),F=p.slice(g,y.index);return y.status?M(g,'not "'+F+'"'):b(g,null)})}function Gr(h){return le(h),s(function(p,g){var y=Le(p,g);return g<p.length&&h(y)?b(g+1,y):M(g,"a character/byte matching "+h)})}function na(h,p){arguments.length<2&&(p=h,h=void 0);var g=s(function(y,F){return g._=p()._,g._(y,F)});return h?g.desc(h):g}function hi(){return Rr("fantasy-land/empty")}a.parse=function(h){if(typeof h!="string"&&!R(h))throw new Error(".parse must be called with a string or Buffer as its argument");var p,g=this.skip(fi)._(h,0);return p=g.status?{status:!0,value:g.value}:{status:!1,index:oe(h,g.furthest),expected:g.expected},delete ae[h],p},a.tryParse=function(h){var p=this.parse(h);if(p.status)return p.value;var g=Xs(h,p),y=new Error(g);throw y.type="ParsimmonError",y.result=p,y},a.assert=function(h,p){return this.chain(function(g){return h(g)?ut(g):Rr(p)})},a.or=function(h){return Br(this,h)},a.trim=function(h){return this.wrap(h,h)},a.wrap=function(h,p){return ot(h,this,p,function(g,y){return y})},a.thru=function(h){return h(this)},a.then=function(h){return V(h),Pr(this,h).map(function(p){return p[1]})},a.many=function(){var h=this;return s(function(p,g){for(var y=[],F=void 0;;){if(!(F=H(h._(p,g),F)).status)return H(b(g,y),F);if(g===F.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");g=F.index,y.push(F.value)}})},a.tieWith=function(h){return Z(h),this.map(function(p){if(function(F){if(!x(F))throw new Error("not an array: "+F)}(p),p.length){Z(p[0]);for(var g=p[0],y=1;y<p.length;y++)Z(p[y]),g+=h+p[y];return g}return""})},a.tie=function(){return this.tieWith("")},a.times=function(h,p){var g=this;return arguments.length<2&&(p=h),ue(h),ue(p),s(function(y,F){for(var C=[],w=void 0,T=void 0,G=0;G<h;G+=1){if(T=H(w=g._(y,F),T),!w.status)return T;F=w.index,C.push(w.value)}for(;G<p&&(T=H(w=g._(y,F),T),w.status);G+=1)F=w.index,C.push(w.value);return H(b(F,C),T)})},a.result=function(h){return this.map(function(){return h})},a.atMost=function(h){return this.times(0,h)},a.atLeast=function(h){return ot(this.times(h),this.many(),function(p,g){return p.concat(g)})},a.map=function(h){le(h);var p=this;return s(function(g,y){var F=p._(g,y);return F.status?H(b(F.index,h(F.value)),F):F})},a.contramap=function(h){le(h);var p=this;return s(function(g,y){var F=p.parse(h(g.slice(y)));return F.status?b(y+g.length,F.value):F})},a.promap=function(h,p){return le(h),le(p),this.contramap(h).map(p)},a.skip=function(h){return Pr(this,h).map(function(p){return p[0]})},a.mark=function(){return ot(rr,this,rr,function(h,p,g){return{start:h,value:p,end:g}})},a.node=function(h){return ot(rr,this,rr,function(p,g,y){return{name:h,value:g,start:p,end:y}})},a.sepBy=function(h){return ta(this,h)},a.sepBy1=function(h){return ci(this,h)},a.lookahead=function(h){return this.skip(Hr(h))},a.notFollowedBy=function(h){return this.skip(ra(h))},a.desc=function(h){x(h)||(h=[h]);var p=this;return s(function(g,y){var F=p._(g,y);return F.status||(F.expected=h),F})},a.fallback=function(h){return this.or(ut(h))},a.ap=function(h){return ot(h,this,function(p,g){return p(g)})},a.chain=function(h){var p=this;return s(function(g,y){var F=p._(g,y);return F.status?H(h(F.value)._(g,F.index),F):F})},a.concat=a.or,a.empty=hi,a.of=ut,a["fantasy-land/ap"]=a.ap,a["fantasy-land/chain"]=a.chain,a["fantasy-land/concat"]=a.concat,a["fantasy-land/empty"]=a.empty,a["fantasy-land/of"]=a.of,a["fantasy-land/map"]=a.map;var rr=s(function(h,p){return b(p,oe(h,p))}),cc=s(function(h,p){return p>=h.length?M(p,"any character/byte"):b(p+1,Le(h,p))}),hc=s(function(h,p){return b(h.length,h.slice(p))}),fi=s(function(h,p){return p<h.length?M(p,"EOF"):b(p,null)}),fc=Ve(/[0-9]/).desc("a digit"),dc=Ve(/[0-9]*/).desc("optional digits"),pc=Ve(/[a-z]/i).desc("a letter"),mc=Ve(/[a-z]*/i).desc("optional letters"),gc=Ve(/\s*/).desc("optional whitespace"),Dc=Ve(/\s+/).desc("whitespace"),ia=tr("\r"),sa=tr(`
`),aa=tr(`\r
`),oa=Br(aa,sa,ia).desc("newline"),yc=Br(oa,fi);s.all=hc,s.alt=Br,s.any=cc,s.cr=ia,s.createLanguage=function(h){var p={};for(var g in h)({}).hasOwnProperty.call(h,g)&&function(y){p[y]=na(function(){return h[y](p)})}(g);return p},s.crlf=aa,s.custom=function(h){return s(h(b,M))},s.digit=fc,s.digits=dc,s.empty=hi,s.end=yc,s.eof=fi,s.fail=Rr,s.formatError=Xs,s.index=rr,s.isParser=v,s.lazy=na,s.letter=pc,s.letters=mc,s.lf=sa,s.lookahead=Hr,s.makeFailure=M,s.makeSuccess=b,s.newline=oa,s.noneOf=function(h){return Gr(function(p){return h.indexOf(p)<0}).desc("none of '"+h+"'")},s.notFollowedBy=ra,s.of=ut,s.oneOf=function(h){for(var p=h.split(""),g=0;g<p.length;g++)p[g]="'"+p[g]+"'";return Gr(function(y){return h.indexOf(y)>=0}).desc(p)},s.optWhitespace=gc,s.Parser=s,s.range=function(h,p){return Gr(function(g){return h<=g&&g<=p}).desc(h+"-"+p)},s.regex=Ve,s.regexp=Ve,s.sepBy=ta,s.sepBy1=ci,s.seq=Pr,s.seqMap=ot,s.seqObj=function(){for(var h,p={},g=0,y=(h=arguments,Array.prototype.slice.call(h)),F=y.length,C=0;C<F;C+=1){var w=y[C];if(!v(w)){if(x(w)&&w.length===2&&typeof w[0]=="string"&&v(w[1])){var T=w[0];if(Object.prototype.hasOwnProperty.call(p,T))throw new Error("seqObj: duplicate key "+T);p[T]=!0,g++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(g===0)throw new Error("seqObj expects at least one named parser, found zero");return s(function(G,ne){for(var Q,Ue={},me=0;me<F;me+=1){var We,bt;if(x(y[me])?(We=y[me][0],bt=y[me][1]):(We=null,bt=y[me]),!(Q=H(bt._(G,ne),Q)).status)return Q;We&&(Ue[We]=Q.value),ne=Q.index}return H(b(ne,Ue),Q)})},s.string=tr,s.succeed=ut,s.takeWhile=function(h){return le(h),s(function(p,g){for(var y=g;y<p.length&&h(Le(p,y));)y++;return b(y,p.slice(g,y))})},s.test=Gr,s.whitespace=Dc,s["fantasy-land/empty"]=hi,s["fantasy-land/of"]=ut,s.Binary={bitSeq:D,bitSeqObj:function(h){m();var p={},g=0,y=l(function(C){if(x(C)){var w=C;if(w.length!==2)throw new Error("["+w.join(", ")+"] should be length 2, got length "+w.length);if(Z(w[0]),ue(w[1]),Object.prototype.hasOwnProperty.call(p,w[0]))throw new Error("duplicate key in bitSeqObj: "+w[0]);return p[w[0]]=!0,g++,w}return ue(C),[null,C]},h);if(g<1)throw new Error("bitSeqObj expects at least one named pair, got ["+h.join(", ")+"]");var F=l(function(C){return C[0]},y);return D(l(function(C){return C[1]},y)).map(function(C){return u(function(w,T){return T[0]!==null&&(w[T[0]]=T[1]),w},{},l(function(w,T){return[w,C[T]]},F))})},byte:function(h){if(m(),ue(h),h>255)throw new Error("Value specified to byte constructor ("+h+"=0x"+h.toString(16)+") is larger in value than a single byte.");var p=(h>15?"0x":"0x0")+h.toString(16);return s(function(g,y){var F=Le(g,y);return F===h?b(y+1,F):M(y,p)})},buffer:function(h){return E("buffer",h).map(function(p){return Buffer.from(p)})},encodedString:function(h,p){return E("string",p).map(function(g){return g.toString(h)})},uintBE:P,uint8BE:P(1),uint16BE:P(2),uint32BE:P(4),uintLE:L,uint8LE:L(1),uint16LE:L(2),uint32LE:L(4),intBE:U,int8BE:U(1),int16BE:U(2),int32BE:U(4),intLE:re,int8LE:re(1),int16LE:re(2),int32LE:re(4),floatBE:E("floatBE",4).map(function(h){return h.readFloatBE(0)}),floatLE:E("floatLE",4).map(function(h){return h.readFloatLE(0)}),doubleBE:E("doubleBE",8).map(function(h){return h.readDoubleBE(0)}),doubleLE:E("doubleLE",8).map(function(h){return h.readDoubleLE(0)})},r.exports=s}])})})(Kn,Kn.exports);var f=Kn.exports,js=()=>/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC08\uDC26](?:\u200D\u2B1B)?|[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g;function Ql(t){return t==null?t:t.shiftToAll().normalize()}function Ku(t){return t.includes("/")&&(t=t.substring(t.lastIndexOf("/")+1)),t.endsWith(".md")&&(t=t.substring(0,t.length-3)),t}f.alt(f.regex(new RegExp(js(),"")),f.regex(/[0-9\p{Letter}_-]+/u).map(t=>t.toLocaleLowerCase()),f.whitespace.map(t=>"-"),f.any.map(t=>"")).many().map(t=>t.join(""));var Vm=f.alt(f.regex(new RegExp(js(),"")),f.regex(/[0-9\p{Letter}_-]+/u),f.whitespace.map(t=>" "),f.any.map(t=>" ")).many().map(t=>t.join("").split(/\s+/).join(" ").trim());function Um(t){return Vm.tryParse(t)}function Wm(t){return t=Ql(t),t=k.fromObject(Object.fromEntries(Object.entries(t.toObject()).filter(([,e])=>e!=0))),t.toHuman()}var xr;(function(t){function e(v,x=Ws,R=!1){let b=r(v);if(!b)return x.renderNullAs;switch(b.type){case"null":return x.renderNullAs;case"string":return b.value;case"number":case"boolean":return""+b.value;case"html":return b.value.outerHTML;case"widget":return b.value.markdown();case"link":return b.value.markdown();case"function":return"<function>";case"array":let M="";return R&&(M+="["),M+=b.value.map(H=>e(H,x,!0)).join(", "),R&&(M+="]"),M;case"object":return"{ "+Object.entries(b.value).map(H=>H[0]+": "+e(H[1],x,!0)).join(", ")+" }";case"date":return b.value.second==0&&b.value.hour==0&&b.value.minute==0?b.value.toFormat(x.defaultDateFormat):b.value.toFormat(x.defaultDateTimeFormat);case"duration":return Wm(b.value)}}t.toString=e;function r(v){return m(v)?{type:"null",value:v}:l(v)?{type:"number",value:v}:u(v)?{type:"string",value:v}:E(v)?{type:"boolean",value:v}:c(v)?{type:"duration",value:v}:d(v)?{type:"date",value:v}:P(v)?{type:"widget",value:v}:D(v)?{type:"array",value:v}:O(v)?{type:"link",value:v}:re(v)?{type:"function",value:v}:L(v)?{type:"html",value:v}:U(v)?{type:"object",value:v}:void 0}t.wrapValue=r;function n(v,x){if(U(v)){let R={};for(let[b,M]of Object.entries(v))R[b]=n(M,x);return R}else if(D(v)){let R=[];for(let b of v)R.push(n(b,x));return R}else return x(v)}t.mapLeaves=n;function i(v,x,R){var H,ae;if(v===void 0&&(v=null),x===void 0&&(x=null),v===null&&x===null)return 0;if(v===null)return-1;if(x===null)return 1;let b=r(v),M=r(x);if(b===void 0&&M===void 0)return 0;if(b===void 0)return-1;if(M===void 0)return 1;if(b.type!=M.type)return b.type.localeCompare(M.type);if(b.value===M.value)return 0;switch(b.type){case"string":return b.value.localeCompare(M.value);case"number":return b.value<M.value?-1:b.value==M.value?0:1;case"null":return 0;case"boolean":return b.value==M.value?0:b.value?1:-1;case"link":let oe=b.value,V=M.value,Le=R!=null?R:ce=>ce,ue=Le(oe.path).localeCompare(Le(V.path));if(ue!=0)return ue;let le=oe.type.localeCompare(V.type);return le!=0?le:oe.subpath&&!V.subpath?1:!oe.subpath&&V.subpath?-1:!oe.subpath&&!V.subpath?0:((H=oe.subpath)!=null?H:"").localeCompare((ae=V.subpath)!=null?ae:"");case"date":return b.value<M.value?-1:b.value.equals(M.value)?0:1;case"duration":return b.value<M.value?-1:b.value.equals(M.value)?0:1;case"array":let Z=b.value,Qt=M.value;for(let ce=0;ce<Math.min(Z.length,Qt.length);ce++){let Ne=i(Z[ce],Qt[ce]);if(Ne!=0)return Ne}return Z.length-Qt.length;case"object":let Lr=b.value,Oe=M.value,Xt=Array.from(Object.keys(Lr)),Nr=Array.from(Object.keys(Oe));Xt.sort(),Nr.sort();let er=i(Xt,Nr);if(er!=0)return er;for(let ce of Xt){let Ne=i(Lr[ce],Oe[ce]);if(Ne!=0)return Ne}return 0;case"widget":case"html":case"function":return 0}}t.compareValue=i;function s(v){var x;return(x=r(v))==null?void 0:x.type}t.typeOf=s;function a(v){let x=r(v);if(!x)return!1;switch(x.type){case"number":return x.value!=0;case"string":return x.value.length>0;case"boolean":return x.value;case"link":return!!x.value.path;case"date":return x.value.toMillis()!=0;case"duration":return x.value.as("seconds")!=0;case"object":return Object.keys(x.value).length>0;case"array":return x.value.length>0;case"null":return!1;case"html":case"widget":case"function":return!0}}t.isTruthy=a;function o(v){if(v==null)return v;if(t.isArray(v))return[].concat(v.map(x=>o(x)));if(t.isObject(v)){let x={};for(let[R,b]of Object.entries(v))x[R]=o(b);return x}else return v}t.deepCopy=o;function u(v){return typeof v=="string"}t.isString=u;function l(v){return typeof v=="number"}t.isNumber=l;function d(v){return v instanceof I}t.isDate=d;function c(v){return v instanceof k}t.isDuration=c;function m(v){return v==null}t.isNull=m;function D(v){return Array.isArray(v)}t.isArray=D;function E(v){return typeof v=="boolean"}t.isBoolean=E;function O(v){return v instanceof Jn}t.isLink=O;function P(v){return v instanceof Tr}t.isWidget=P;function L(v){return typeof HTMLElement!="undefined"?v instanceof HTMLElement:!1}t.isHtml=L;function U(v){return typeof v=="object"&&!L(v)&&!P(v)&&!D(v)&&!c(v)&&!d(v)&&!O(v)&&v!==void 0&&!m(v)}t.isObject=U;function re(v){return typeof v=="function"}t.isFunction=re})(xr||(xr={}));var Ju;(function(t){function e(i){return xr.isObject(i)&&Object.keys(i).length==2&&"key"in i&&"rows"in i}t.isElementGroup=e;function r(i){for(let s of i)if(!e(s))return!1;return!0}t.isGrouping=r;function n(i){if(r(i)){let s=0;for(let a of i)s+=n(a.rows);return s}else return i.length}t.count=n})(Ju||(Ju={}));var Jn=class t{constructor(e){ie(this,"path");ie(this,"display");ie(this,"subpath");ie(this,"embed");ie(this,"type");Object.assign(this,e)}static file(e,r=!1,n){return new t({path:e,embed:r,display:n,subpath:void 0,type:"file"})}static infer(e,r=!1,n){if(e.includes("#^")){let i=e.split("#^");return t.block(i[0],i[1],r,n)}else if(e.includes("#")){let i=e.split("#");return t.header(i[0],i[1],r,n)}else return t.file(e,r,n)}static header(e,r,n,i){return new t({path:e,embed:n,display:i,subpath:Um(r),type:"header"})}static block(e,r,n,i){return new t({path:e,embed:n,display:i,subpath:r,type:"block"})}static fromObject(e){return new t(e)}equals(e){return e==null||e==null?!1:this.path==e.path&&this.type==e.type&&this.subpath==e.subpath}toString(){return this.markdown()}toObject(){return{path:this.path,type:this.type,subpath:this.subpath,display:this.display,embed:this.embed}}withPath(e){return new t(Object.assign({},this,{path:e}))}withDisplay(e){return new t(Object.assign({},this,{display:e}))}withHeader(e){return t.header(this.path,e,this.embed,this.display)}toFile(){return t.file(this.path,this.embed,this.display)}toEmbed(){if(this.embed)return this;{let e=new t(this);return e.embed=!0,e}}fromEmbed(){if(this.embed){let e=new t(this);return e.embed=!1,e}else return this}markdown(){let e=(this.embed?"!":"")+"[["+this.obsidianLink();return this.display?e+="|"+this.display:(e+="|"+Ku(this.path),(this.type=="header"||this.type=="block")&&(e+=" > "+this.subpath)),e+="]]",e}obsidianLink(){var r,n;let e=this.path.replaceAll("|","\\|");return this.type=="header"?e+"#"+((r=this.subpath)==null?void 0:r.replaceAll("|","\\|")):this.type=="block"?e+"#^"+((n=this.subpath)==null?void 0:n.replaceAll("|","\\|")):e}fileName(){return Ku(this.path).replace(".md","")}},Tr=class{constructor(e){ie(this,"$widget");this.$widget=e}},Is=class extends Tr{constructor(r,n){super("dataview:list-pair");ie(this,"key");ie(this,"value");this.key=r,this.value=n}markdown(){return`${xr.toString(this.key)}: ${xr.toString(this.value)}`}},Ls=class extends Tr{constructor(r,n){super("dataview:external-link");ie(this,"url");ie(this,"display");this.url=r,this.display=n}markdown(){var r;return`[${(r=this.display)!=null?r:this.url}](${this.url})`}},$u;(function(t){function e(a,o){return new Is(a,o)}t.listPair=e;function r(a,o){return new Ls(a,o)}t.externalLink=r;function n(a){return a.$widget==="dataview:list-pair"}t.isListPair=n;function i(a){return a.$widget==="dataview:external-link"}t.isExternalLink=i;function s(a){return n(a)||i(a)}t.isBuiltin=s})($u||($u={}));var W;(function(t){function e(m){return{type:"variable",name:m}}t.variable=e;function r(m){return{type:"literal",value:m}}t.literal=r;function n(m,D,E){return{type:"binaryop",left:m,op:D,right:E}}t.binaryOp=n;function i(m,D){return{type:"index",object:m,index:D}}t.index=i;function s(m){let D=m.split("."),E=t.variable(D[0]);for(let O=1;O<D.length;O++)E=t.index(E,t.literal(D[O]));return E}t.indexVariable=s;function a(m,D){return{type:"lambda",arguments:m,value:D}}t.lambda=a;function o(m,D){return{type:"function",func:m,arguments:D}}t.func=o;function u(m){return{type:"list",values:m}}t.list=u;function l(m){return{type:"object",values:m}}t.object=l;function d(m){return{type:"negated",child:m}}t.negate=d;function c(m){return m=="<="||m=="<"||m==">"||m==">="||m=="!="||m=="="}t.isCompareOp=c,t.NULL=t.literal(null)})(W||(W={}));var Ge;(function(t){function e(d){return{type:"tag",tag:d}}t.tag=e;function r(d){return{type:"csv",path:d}}t.csv=r;function n(d){return{type:"folder",folder:d}}t.folder=n;function i(d,c){return{type:"link",file:d,direction:c?"incoming":"outgoing"}}t.link=i;function s(d,c,m){return{type:"binaryop",left:d,op:c,right:m}}t.binaryOp=s;function a(d,c){return{type:"binaryop",left:d,op:"&",right:c}}t.and=a;function o(d,c){return{type:"binaryop",left:d,op:"|",right:c}}t.or=o;function u(d){return{type:"negate",child:d}}t.negate=u;function l(){return{type:"empty"}}t.empty=l})(Ge||(Ge={}));var Qu=new RegExp(js(),""),Ns={year:k.fromObject({years:1}),years:k.fromObject({years:1}),yr:k.fromObject({years:1}),yrs:k.fromObject({years:1}),month:k.fromObject({months:1}),months:k.fromObject({months:1}),mo:k.fromObject({months:1}),mos:k.fromObject({months:1}),week:k.fromObject({weeks:1}),weeks:k.fromObject({weeks:1}),wk:k.fromObject({weeks:1}),wks:k.fromObject({weeks:1}),w:k.fromObject({weeks:1}),day:k.fromObject({days:1}),days:k.fromObject({days:1}),d:k.fromObject({days:1}),hour:k.fromObject({hours:1}),hours:k.fromObject({hours:1}),hr:k.fromObject({hours:1}),hrs:k.fromObject({hours:1}),h:k.fromObject({hours:1}),minute:k.fromObject({minutes:1}),minutes:k.fromObject({minutes:1}),min:k.fromObject({minutes:1}),mins:k.fromObject({minutes:1}),m:k.fromObject({minutes:1}),second:k.fromObject({seconds:1}),seconds:k.fromObject({seconds:1}),sec:k.fromObject({seconds:1}),secs:k.fromObject({seconds:1}),s:k.fromObject({seconds:1})},Ps={now:()=>I.local(),today:()=>I.local().startOf("day"),yesterday:()=>I.local().startOf("day").minus(k.fromObject({days:1})),tomorrow:()=>I.local().startOf("day").plus(k.fromObject({days:1})),sow:()=>I.local().startOf("week"),"start-of-week":()=>I.local().startOf("week"),eow:()=>I.local().endOf("week"),"end-of-week":()=>I.local().endOf("week"),soy:()=>I.local().startOf("year"),"start-of-year":()=>I.local().startOf("year"),eoy:()=>I.local().endOf("year"),"end-of-year":()=>I.local().endOf("year"),som:()=>I.local().startOf("month"),"start-of-month":()=>I.local().startOf("month"),eom:()=>I.local().endOf("month"),"end-of-month":()=>I.local().endOf("month")},Bs=["FROM","WHERE","LIMIT","GROUP","FLATTEN"];function jm(t){let e=-1;for(;(e=t.indexOf("|",e+1))>=0;)if(!(e>0&&t[e-1]=="\\"))return[t.substring(0,e).replace(/\\\|/g,"|"),t.substring(e+1)];return[t.replace(/\\\|/g,"|"),void 0]}function zm(t){let[e,r]=jm(t);return Jn.infer(e,!1,r)}function Sr(t,e,r){return f.seqMap(t,f.seq(f.optWhitespace,e,f.optWhitespace,t).many(),(n,i)=>{if(i.length==0)return n;let s=r(n,i[0][1],i[0][3]);for(let a=1;a<i.length;a++)s=r(s,i[a][1],i[a][3]);return s})}function Ym(t,...e){return f.custom((r,n)=>(i,s)=>{let a=t._(i,s);if(!a.status)return a;for(let o of e){let u=o(a.value)._(i,a.index);if(!u.status)return a;a=u}return a})}var Ae=f.createLanguage({number:t=>f.regexp(/-?[0-9]+(\.[0-9]+)?/).map(e=>Number.parseFloat(e)).desc("number"),string:t=>f.string('"').then(f.alt(t.escapeCharacter,f.noneOf('"\\')).atLeast(0).map(e=>e.join(""))).skip(f.string('"')).desc("string"),escapeCharacter:t=>f.string("\\").then(f.any).map(e=>e==='"'?'"':e==="\\"?"\\":"\\"+e),bool:t=>f.regexp(/true|false|True|False/).map(e=>e.toLowerCase()=="true").desc("boolean ('true' or 'false')"),tag:t=>f.seqMap(f.string("#"),f.alt(f.regexp(/[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]/).desc("text")).many(),(e,r)=>e+r.join("")).desc("tag ('#hello/stuff')"),identifier:t=>f.seqMap(f.alt(f.regexp(/\p{Letter}/u),f.regexp(Qu).desc("text")),f.alt(f.regexp(/[0-9\p{Letter}_-]/u),f.regexp(Qu).desc("text")).many(),(e,r)=>e+r.join("")).desc("variable identifier"),link:t=>f.regexp(/\[\[([^\[\]]*?)\]\]/u,1).map(e=>zm(e)).desc("file link"),embedLink:t=>f.seqMap(f.string("!").atMost(1),t.link,(e,r)=>(e.length>0&&(r.embed=!0),r)).desc("file link"),binaryPlusMinus:t=>f.regexp(/\+|-/).map(e=>e).desc("'+' or '-'"),binaryMulDiv:t=>f.regexp(/\*|\/|%/).map(e=>e).desc("'*' or '/' or '%'"),binaryCompareOp:t=>f.regexp(/>=|<=|!=|>|<|=/).map(e=>e).desc("'>=' or '<=' or '!=' or '=' or '>' or '<'"),binaryBooleanOp:t=>f.regexp(/and|or|&|\|/i).map(e=>e.toLowerCase()=="and"?"&":e.toLowerCase()=="or"?"|":e).desc("'and' or 'or'"),rootDate:t=>f.seqMap(f.regexp(/\d{4}/),f.string("-"),f.regexp(/\d{2}/),(e,r,n)=>I.fromObject({year:Number.parseInt(e),month:Number.parseInt(n)})).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),dateShorthand:t=>f.alt(...Object.keys(Ps).sort((e,r)=>r.length-e.length).map(f.string)),date:t=>Ym(t.rootDate,e=>f.seqMap(f.string("-"),f.regexp(/\d{2}/),(r,n)=>e.set({day:Number.parseInt(n)})),e=>f.seqMap(f.string("T"),f.regexp(/\d{2}/),(r,n)=>e.set({hour:Number.parseInt(n)})),e=>f.seqMap(f.string(":"),f.regexp(/\d{2}/),(r,n)=>e.set({minute:Number.parseInt(n)})),e=>f.seqMap(f.string(":"),f.regexp(/\d{2}/),(r,n)=>e.set({second:Number.parseInt(n)})),e=>f.alt(f.seqMap(f.string("."),f.regexp(/\d{3}/),(r,n)=>e.set({millisecond:Number.parseInt(n)})),f.succeed(e)),e=>f.alt(f.seqMap(f.string("+").or(f.string("-")),f.regexp(/\d{1,2}(:\d{2})?/),(r,n)=>e.setZone("UTC"+r+n,{keepLocalTime:!0})),f.seqMap(f.string("Z"),()=>e.setZone("utc",{keepLocalTime:!0})),f.seqMap(f.string("["),f.regexp(/[0-9A-Za-z+-\/]+/u),f.string("]"),(r,n,i)=>e.setZone(n,{keepLocalTime:!0})))).assert(e=>e.isValid,"valid date").desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),datePlus:t=>f.alt(t.dateShorthand.map(e=>Ps[e]()),t.date).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS] or in shorthand"),durationType:t=>f.alt(...Object.keys(Ns).sort((e,r)=>r.length-e.length).map(f.string)),duration:t=>f.seqMap(t.number,f.optWhitespace,t.durationType,(e,r,n)=>Ns[n].mapUnits(i=>i*e)).sepBy1(f.string(",").trim(f.optWhitespace).or(f.optWhitespace)).map(e=>e.reduce((r,n)=>r.plus(n))).desc("duration like 4hr2min"),rawNull:t=>f.string("null"),tagSource:t=>t.tag.map(e=>Ge.tag(e)),csvSource:t=>f.seqMap(f.string("csv(").skip(f.optWhitespace),t.string,f.string(")"),(e,r,n)=>Ge.csv(r)),linkIncomingSource:t=>t.link.map(e=>Ge.link(e.path,!0)),linkOutgoingSource:t=>f.seqMap(f.string("outgoing(").skip(f.optWhitespace),t.link,f.string(")"),(e,r,n)=>Ge.link(r.path,!1)),folderSource:t=>t.string.map(e=>Ge.folder(e)),parensSource:t=>f.seqMap(f.string("("),f.optWhitespace,t.source,f.optWhitespace,f.string(")"),(e,r,n,i,s)=>n),negateSource:t=>f.seqMap(f.alt(f.string("-"),f.string("!")),t.atomSource,(e,r)=>Ge.negate(r)),atomSource:t=>f.alt(t.parensSource,t.negateSource,t.linkOutgoingSource,t.linkIncomingSource,t.folderSource,t.tagSource,t.csvSource),binaryOpSource:t=>Sr(t.atomSource,t.binaryBooleanOp.map(e=>e),Ge.binaryOp),source:t=>t.binaryOpSource,variableField:t=>t.identifier.chain(e=>Bs.includes(e.toUpperCase())?f.fail("Variable fields cannot be a keyword ("+Bs.join(" or ")+")"):f.succeed(W.variable(e))).desc("variable"),numberField:t=>t.number.map(e=>W.literal(e)).desc("number"),stringField:t=>t.string.map(e=>W.literal(e)).desc("string"),boolField:t=>t.bool.map(e=>W.literal(e)).desc("boolean"),dateField:t=>f.seqMap(f.string("date("),f.optWhitespace,t.datePlus,f.optWhitespace,f.string(")"),(e,r,n,i,s)=>W.literal(n)).desc("date"),durationField:t=>f.seqMap(f.string("dur("),f.optWhitespace,t.duration,f.optWhitespace,f.string(")"),(e,r,n,i,s)=>W.literal(n)).desc("duration"),nullField:t=>t.rawNull.map(e=>W.NULL),linkField:t=>t.link.map(e=>W.literal(e)),listField:t=>t.field.sepBy(f.string(",").trim(f.optWhitespace)).wrap(f.string("[").skip(f.optWhitespace),f.optWhitespace.then(f.string("]"))).map(e=>W.list(e)).desc("list ('[1, 2, 3]')"),objectField:t=>f.seqMap(t.identifier.or(t.string),f.string(":").trim(f.optWhitespace),t.field,(e,r,n)=>({name:e,value:n})).sepBy(f.string(",").trim(f.optWhitespace)).wrap(f.string("{").skip(f.optWhitespace),f.optWhitespace.then(f.string("}"))).map(e=>{let r={};for(let n of e)r[n.name]=n.value;return W.object(r)}).desc("object ('{ a: 1, b: 2 }')"),atomInlineField:t=>f.alt(t.date,t.duration.map(e=>Ql(e)),t.string,t.tag,t.embedLink,t.bool,t.number,t.rawNull),inlineFieldList:t=>t.atomInlineField.sepBy(f.string(",").trim(f.optWhitespace).lookahead(t.atomInlineField)),inlineField:t=>f.alt(f.seqMap(t.atomInlineField,f.string(",").trim(f.optWhitespace),t.inlineFieldList,(e,r,n)=>[e].concat(n)),t.atomInlineField),atomField:t=>f.alt(t.embedLink.map(e=>W.literal(e)),t.negatedField,t.linkField,t.listField,t.objectField,t.lambdaField,t.parensField,t.boolField,t.numberField,t.stringField,t.dateField,t.durationField,t.nullField,t.variableField),indexField:t=>f.seqMap(t.atomField,f.alt(t.dotPostfix,t.indexPostfix,t.functionPostfix).many(),(e,r)=>{let n=e;for(let i of r)switch(i.type){case"dot":n=W.index(n,W.literal(i.field));break;case"index":n=W.index(n,i.field);break;case"function":n=W.func(n,i.fields);break}return n}),negatedField:t=>f.seqMap(f.string("!"),t.indexField,(e,r)=>W.negate(r)).desc("negated field"),parensField:t=>f.seqMap(f.string("("),f.optWhitespace,t.field,f.optWhitespace,f.string(")"),(e,r,n,i,s)=>n),lambdaField:t=>f.seqMap(t.identifier.sepBy(f.string(",").trim(f.optWhitespace)).wrap(f.string("(").trim(f.optWhitespace),f.string(")").trim(f.optWhitespace)),f.string("=>").trim(f.optWhitespace),t.field,(e,r,n)=>({type:"lambda",arguments:e,value:n})),dotPostfix:t=>f.seqMap(f.string("."),t.identifier,(e,r)=>({type:"dot",field:r})),indexPostfix:t=>f.seqMap(f.string("["),f.optWhitespace,t.field,f.optWhitespace,f.string("]"),(e,r,n,i,s)=>({type:"index",field:n})),functionPostfix:t=>f.seqMap(f.string("("),f.optWhitespace,t.field.sepBy(f.string(",").trim(f.optWhitespace)),f.optWhitespace,f.string(")"),(e,r,n,i,s)=>({type:"function",fields:n})),binaryMulDivField:t=>Sr(t.indexField,t.binaryMulDiv,W.binaryOp),binaryPlusMinusField:t=>Sr(t.binaryMulDivField,t.binaryPlusMinus,W.binaryOp),binaryCompareField:t=>Sr(t.binaryPlusMinusField,t.binaryCompareOp,W.binaryOp),binaryBooleanField:t=>Sr(t.binaryCompareField,t.binaryBooleanOp,W.binaryOp),binaryOpField:t=>t.binaryBooleanField,field:t=>t.binaryOpField});function Zm(t){try{return Zn.success(Ae.field.tryParse(t))}catch(e){return Zn.failure(""+e)}}var $n;(function(t){function e(n,i){return{name:n,field:i}}t.named=e;function r(n,i){return{field:n,direction:i}}t.sortBy=r})($n||($n={}));function Km(t){return f.custom((e,r)=>(n,i)=>{let s=t._(n,i);return s.status?Object.assign({},s,{value:[s.value,n.substring(i,s.index)]}):s})}function Jm(t){return t.split(/[\r\n]+/).map(e=>e.trim()).join("")}function Xu(t,e){return f.eof.map(t).or(f.whitespace.then(e))}var Xl=f.createLanguage({queryType:t=>f.alt(f.regexp(/TABLE|LIST|TASK|CALENDAR/i)).map(e=>e.toLowerCase()).desc("query type ('TABLE', 'LIST', 'TASK', or 'CALENDAR')"),explicitNamedField:t=>f.seqMap(Ae.field.skip(f.whitespace),f.regexp(/AS/i).skip(f.whitespace),Ae.identifier.or(Ae.string),(e,r,n)=>$n.named(n,e)),comment:()=>f.Parser((t,e)=>{let r=t.substring(e);if(!r.startsWith("//"))return f.makeFailure(e,"Not a comment");r=r.split(`
`)[0];let n=r.substring(2).trim();return f.makeSuccess(e+r.length,n)}),namedField:t=>f.alt(t.explicitNamedField,Km(Ae.field).map(([e,r])=>$n.named(Jm(r),e))),sortField:t=>f.seqMap(Ae.field.skip(f.optWhitespace),f.regexp(/ASCENDING|DESCENDING|ASC|DESC/i).atMost(1),(e,r)=>{let n=r.length==0?"ascending":r[0].toLowerCase();return n=="desc"&&(n="descending"),n=="asc"&&(n="ascending"),{field:e,direction:n}}),headerClause:t=>t.queryType.chain(e=>{switch(e){case"table":return Xu(()=>({type:e,fields:[],showId:!0}),f.seqMap(f.regexp(/WITHOUT\s+ID/i).skip(f.optWhitespace).atMost(1),f.sepBy(t.namedField,f.string(",").trim(f.optWhitespace)),(r,n)=>({type:e,fields:n,showId:r.length==0})));case"list":return Xu(()=>({type:e,format:void 0,showId:!0}),f.seqMap(f.regexp(/WITHOUT\s+ID/i).skip(f.optWhitespace).atMost(1),Ae.field.atMost(1),(r,n)=>({type:e,format:n.length==1?n[0]:void 0,showId:r.length==0})));case"task":return f.succeed({type:e});case"calendar":return f.whitespace.then(f.seqMap(t.namedField,r=>({type:e,showId:!0,field:r})));default:return f.fail(`Unrecognized query type '${e}'`)}}).desc("TABLE or LIST or TASK or CALENDAR"),fromClause:t=>f.seqMap(f.regexp(/FROM/i),f.whitespace,Ae.source,(e,r,n)=>n),whereClause:t=>f.seqMap(f.regexp(/WHERE/i),f.whitespace,Ae.field,(e,r,n)=>({type:"where",clause:n})).desc("WHERE <expression>"),sortByClause:t=>f.seqMap(f.regexp(/SORT/i),f.whitespace,t.sortField.sepBy1(f.string(",").trim(f.optWhitespace)),(e,r,n)=>({type:"sort",fields:n})).desc("SORT field [ASC/DESC]"),limitClause:t=>f.seqMap(f.regexp(/LIMIT/i),f.whitespace,Ae.field,(e,r,n)=>({type:"limit",amount:n})).desc("LIMIT <value>"),flattenClause:t=>f.seqMap(f.regexp(/FLATTEN/i).skip(f.whitespace),t.namedField,(e,r)=>({type:"flatten",field:r})).desc("FLATTEN <value> [AS <name>]"),groupByClause:t=>f.seqMap(f.regexp(/GROUP BY/i).skip(f.whitespace),t.namedField,(e,r)=>({type:"group",field:r})).desc("GROUP BY <value> [AS <name>]"),clause:t=>f.alt(t.fromClause,t.whereClause,t.sortByClause,t.limitClause,t.groupByClause,t.flattenClause),query:t=>f.seqMap(t.headerClause.trim(Ds),t.fromClause.trim(Ds).atMost(1),t.clause.trim(Ds).many(),(e,r,n)=>({header:e,source:r.length==0?Ge.folder(""):r[0],operations:n,settings:Ws}))}),Ds=f.alt(f.whitespace,Xl.comment).many().map(t=>t.join("")),$m=t=>{var e;return t?(e=t.plugins.plugins.dataview)==null?void 0:e.api:window.DataviewAPI},Qm=t=>t.plugins.enabledPlugins.has("dataview");qe.DATE_SHORTHANDS=Ps;qe.DURATION_TYPES=Ns;qe.EXPRESSION=Ae;qe.KEYWORDS=Bs;qe.QUERY_LANGUAGE=Xl;qe.getAPI=$m;qe.isPluginEnabled=Qm;qe.parseField=Zm});var ag={};_c(ag,{default:()=>li});module.exports=kc(ag);var uc=require("obsidian");var he=require("obsidian");var la=require("obsidian");var qr=[{value:"gemini-2.5-pro-preview-03-25",label:"Gemini 2.5 Pro"},{value:"gemini-2.5-flash-preview-04-17",label:"Gemini 2.5 Flash"},{value:"gemini-2.0-pro-exp-02-05",label:"Gemini 2.0 Pro"},{value:"gemini-2.0-flash",label:"Gemini 2.0 Flash"},{value:"gemini-2.0-flash-lite",label:"Gemini 2.0 Flash Lite"},{value:"gemini-1.5-pro",label:"gemini-1.5-pro"},{value:"gemini-1.5-flash",label:"gemini-1.5-flash"},{value:"gemini-1.5-flash-8b",label:"gemini-1.5-flash-8b"}];function Vr(t,e,r,n,i){let s=new la.Setting(t).setName(n).setDesc(i).addDropdown(a=>(qr.forEach(o=>{a.addOption(o.value,o.label)}),a.setValue(String(e.settings[r])).onChange(async o=>{e.settings[r]=o,await e.saveSettings()}),a))}var Wr=require("obsidian"),Ur=class extends Wr.AbstractInputSuggest{constructor(e,r,n){super(e,r),this.inputEl=r,this.folderSelectCallback=n}getSuggestions(e){return this.app.vault.getAllLoadedFiles().filter(n=>n instanceof Wr.TFolder).filter(n=>n.path.toLowerCase().contains(e.toLowerCase()))}renderSuggestion(e,r){r.setText(e.path)}selectSuggestion(e,r){this.inputEl.value=e.path,this.inputEl.trigger("input"),this.close(),this.folderSelectCallback(e.path)}};var ir=class extends he.PluginSettingTab{constructor(e,r){super(e,r),this.plugin=r}display(){let{containerEl:e}=this;e.empty(),new he.Setting(e).setName("API Key").setDesc("Gemini API Key").addText(r=>r.setPlaceholder("Enter your API Key").setValue(this.plugin.settings.apiKey).onChange(async n=>{this.plugin.settings.apiKey=n,await this.plugin.saveSettings()})),Vr(e,this.plugin,"chatModelName","Chat Model","The Gemini Model used in the chat interface."),Vr(e,this.plugin,"summaryModelName","Summary Model","The Gemini Model used for summarization."),Vr(e,this.plugin,"completionsModelName","Completion Model","The Gemini Model used for completions."),new he.Setting(e).setName("Context Depth").setDesc("Set to true to send the context of the current file to the model, and adjust the depth of links followed for the context.").addDropdown(r=>r.addOption("0","0").addOption("1","1").addOption("2","2").addOption("3","3").addOption("4","4").setValue(this.plugin.settings.maxContextDepth.toString()).onChange(async n=>{this.plugin.settings.maxContextDepth=parseInt(n),await this.plugin.saveSettings()})).addToggle(r=>r.setValue(this.plugin.settings.sendContext).onChange(async n=>{this.plugin.settings.sendContext=n,await this.plugin.saveSettings()})),new he.Setting(e).setName("Search Grounding").setDesc("Enable the model to use Google search results in its responses, and the threshold for how likely it is to trigger.").addDropdown(r=>r.addOption("0.1","0.1").addOption("0.2","0.2").addOption("0.3","0.3").addOption("0.4","0.4").addOption("0.5","0.5").addOption("0.6","0.6").addOption("0.7","0.7").addOption("0.8","0.8").addOption("0.9","0.9").setValue(this.plugin.settings.searchGroundingThreshold.toString()).onChange(async n=>{this.plugin.settings.searchGroundingThreshold=parseFloat(n),await this.plugin.saveSettings()})).addToggle(r=>r.setValue(this.plugin.settings.searchGrounding).onChange(async n=>{this.plugin.settings.searchGrounding=n,await this.plugin.saveSettings()})),new he.Setting(e).setName("Summary Frontmatter Key").setDesc("Key to use for frontmatter summarization.").addText(r=>r.setPlaceholder("Enter your key").setValue(this.plugin.settings.summaryFrontmatterKey).onChange(async n=>{this.plugin.settings.summaryFrontmatterKey=n,await this.plugin.saveSettings()})),new he.Setting(e).setName("Your name.").setDesc("This will be used in the system instructions for the model.").addText(r=>r.setPlaceholder("Enter your name").setValue(this.plugin.settings.userName).onChange(async n=>{this.plugin.settings.userName=n,await this.plugin.saveSettings()})),new he.Setting(e).setName("Rewrite Files").setDesc("Whether to allow the model to rewrite files during chat.").addToggle(r=>r.setValue(this.plugin.settings.rewriteFiles).onChange(async n=>{this.plugin.settings.rewriteFiles=n,await this.plugin.saveSettings()})),new he.Setting(e).setName("Chat History").setHeading(),new he.Setting(e).setName("Enable Chat History").setDesc("Store chat history as a json file in your vault. This will allow you to view past conversations between sessions.").addToggle(r=>r.setValue(this.plugin.settings.chatHistory).onChange(async n=>{this.plugin.settings.chatHistory=n,await this.plugin.saveSettings()})),new he.Setting(e).setName("History Folder").setDesc("The folder where history file will be stored.").addText(r=>{let n=new Ur(this.app,r.inputEl,async i=>{this.plugin.settings.historyFolder=i,await this.plugin.saveSettings()});r.setValue(this.plugin.settings.historyFolder)}),new he.Setting(e).setName("UI Settings").setHeading(),new he.Setting(e).setName("Show Model Picker").setDesc("Show the model picker in the chat interface.").addToggle(r=>r.setValue(this.plugin.settings.showModelPicker).onChange(async n=>{this.plugin.settings.showModelPicker=n,await this.plugin.saveSettings()}))}};var de=require("obsidian");var Ke=di(as());var Jo=`You are a note-taking and writing assistant embedded in my Obsidian note vault.
Your primary goal is to help me stay organized by surfacing information from my 
notes and any linked notes, and to assist me in drafting and refining my 
writing based on this context. 

Assume that I am the author of all content unless specified otherwise, and you
can refer to me as {{userName}}.

Unless otherwise specified please respond to me in the same language I use with 
you. My user interface is set to the language code: {{language}}. Use that
language if you are uncertain about the language to use.

If a question cannot be answered from my notes, supplement your response with
external information as needed.`;var $o=`You are a markdown text completion assistant designed to help users write more 
effectively by generating contextually relevant, high-quality sentence. 

Your task is to provide the next logical sentence based on the user\u2019s notes. 
Your completions should align with the style, tone, and intent of the given content,
while also pushing creative boundaries. Infuse the completion with vivid imagery, 
fresh perspectives, and subtle details that evoke sensory and emotional responses.
Ensure that your suggestions feel original and thought-provoking, and avoid clich\xE9s.
Use the full file to understand the context, but only focus on completing the 
text at the cursor position.

Avoid repeating ideas, phrases, or details that are already present in the 
content. Instead, focus on expanding, diversifying, or complementing the 
existing content.

If a full sentence is not feasible, generate a phrase. If a phrase isn\u2019t possible, 
provide a single word. Do not include any preamble, explanations, or extraneous 
text\u2014output only the continuation. 

Do not include any special characters, punctuation, or extra whitespace at the
beginning of your response, and do not include any extra whitespace or newline
characters after your response.

Here is the file content and the locaiton of the cursor:
<file>
{{contentBeforeCursor}}<cursor>{{contentAfterCursor}}
</file>
`;var Qo=`You are assisting me in exploring, clarifying, and discussing the content
within a file labeled \u2018Current File\u2019 and any linked files. Prioritize
information from these files when answering questions, providing explanations,
or engaging in brainstorming.

Assume I am the author of the content unless otherwise specified. If additional
context beyond the current and linked files is needed to answer a question, 
clearly indicate when you are drawing on general knowledge or external information.

When referring to files, use [[WikiLink]] syntax. If it's provided in the context
use the Wikilink that is provided, otherwise use the file path but drop the .md 
extension.

Your responses should be plain text. Use markdown only if it aids clarity or 
organization in your response.
`;var Xo=`Using the context provided, create a single-sentence summary based on the
content of the file. Exclude any mention of dates, attendees, or my name, and
assume the notes are taken from my perspective unless specified otherwise. 

Respond with plain text only, do not use any markdown.

Please summarize the following content:
<file><content>{{content}}</content></file>`;var eu=`You are assisting me in drafting the document labeled \u2018Current File\u2019 using the
context of this chat and the contents of any files linked from the Current File,
which are labeled as linked files. Use this content to help draft the document.

Respond with plain text, using markdown only for formatting where needed.

Your response will replace the entire content below the Markdown \u2018Draft\u2019 heading,
preserving everything above it. It's very important that you preserve the text 
above the 'Draft' heading. If no \u2018Draft\u2019 heading exists, create one as '# Draft' 
and start your content below it.

Exclude any content that should not appear in the final draft, ensuring only
relevant information is incorporated.

{{userMessage}}`;var tu="Today's date is: {{date}}.";var ru="The current time is {{time}}.";var nu=`==============================
File Label: {{file_label}}
File Name: {{file_name}}
WikiLink: {{wikilink}}
==============================

{{file_contents}}

`;var fe=class{constructor(){this.completionsPromptTemplate=Ke.compile($o),this.systemPromptTemplate=Ke.compile(Jo),this.generalPromptTemplate=Ke.compile(Qo),this.summaryPromptTemplate=Ke.compile(Xo),this.rewritePromptTemplate=Ke.compile(eu),this.datePromptTemplate=Ke.compile(tu),this.timePromptTemplate=Ke.compile(ru),this.contextPromptTemplate=Ke.compile(nu)}completionsPrompt(e){return this.completionsPromptTemplate(e)}systemPrompt(e){return this.systemPromptTemplate(e)}generalPrompt(e){return this.generalPromptTemplate(e)}summaryPrompt(e){return this.summaryPromptTemplate(e)}rewritePrompt(e){return this.rewritePromptTemplate(e)}datePrompt(e){return this.datePromptTemplate(e)}timePrompt(e){return this.timePromptTemplate(e)}contextPrompt(e){return this.contextPromptTemplate(e)}};var Sn=class{constructor(e){this.plugin=e,this.prompts=new fe}async generateRewriteResponse(e,r){let n=this.prompts.rewritePrompt({userMessage:e});await this.plugin.history.appendHistory({role:"user",message:e});let i={prompt:n,conversationHistory:r,userMessage:e},s=await this.plugin.geminiApi.generateModelResponse(i);await this.plugin.gfile.replaceTextInActiveFile(s.markdown)}};var yr="gemini-view",_n=class extends de.ItemView{constructor(r,n){super(r);this.timerInterval=null;this.startTime=null;this.settingsUnsubscribe=null;this.plugin=n,this.rewriteMode=new Sn(n),this.prompts=new fe,this.registerLinkClickHandler(),this.registerSettingsListener(),this.fileOpenHandler=this.handleFileOpen.bind(this)}registerSettingsListener(){let r=this.plugin.saveSettings.bind(this.plugin);this.plugin.saveSettings=async()=>{await r(),this.modelPicker&&(this.modelPicker.value=this.plugin.settings.chatModelName),this.clearChat();let n=this.plugin.gfile.getActiveFile();n&&await this.handleFileOpen(n)},this.settingsUnsubscribe=()=>{this.plugin.saveSettings=r}}registerLinkClickHandler(){this.containerEl.addEventListener("click",r=>{let n=r.target;if(n.tagName==="A"&&n.classList.contains("internal-link")){r.preventDefault();let i=n.getAttribute("href");i&&this.app.workspace.openLinkText(i,"",!0)}})}getViewType(){return yr}getDisplayText(){return"Gemini Scribe"}getIcon(){return"sparkles"}async onOpen(){let r=this.containerEl.children[1];r.empty(),r.createEl("h2",{text:"Gemini Chat"}),this.chatbox=r.createDiv({cls:"gemini-scribe-chatbox"});let n=r.createDiv({cls:"gemini-scribe-input-area"}),i=n.createEl("textarea",{cls:"gemini-scribe-chat-input",attr:{placeholder:"Type your message here..."}}),s=n.createDiv({cls:"gemini-scribe-send-container"}),a=s.createEl("button",{text:"Send",cls:"gemini-scribe-send-button"});if((0,de.setIcon)(a,"send-horizontal"),this.timerDisplay=s.createDiv({cls:"gemini-scribe-timer"}),this.plugin.settings.rewriteFiles){let u=r.createDiv({cls:"gemini-scribe-options-area"}),l=u.createEl("input",{type:"checkbox",cls:"gemini-scribe-rewrite-checkbox"});u.createEl("label",{text:"Rewrite file",cls:"gemini-scribe-rewrite-label"}).prepend(l),l.addEventListener("change",()=>{this.shoudRewriteFile=l.checked})}if(this.plugin.settings.showModelPicker){let u=r.createDiv({cls:"gemini-scribe-model-picker-area"});this.modelPicker=u.createEl("select",{cls:"gemini-scribe-model-picker"}),qr.forEach(l=>{this.modelPicker.createEl("option",{value:l.value,text:l.label})}),this.modelPicker.value=this.plugin.settings.chatModelName,this.modelPicker.addEventListener("change",async()=>{this.plugin.settings.chatModelName=this.modelPicker.value,await this.plugin.saveSettings()})}i.addEventListener("keydown",async u=>{u.key==="Enter"&&!u.shiftKey&&(u.preventDefault(),a.click())}),a.addEventListener("click",async()=>{let u=i.value;if(u.trim()!==""){this.displayMessage(u,"user"),i.value="",this.startTimer();try{await this.sendMessage(u),this.stopTimer()}catch(l){this.stopTimer()}}}),this.observer=new MutationObserver(u=>{for(let l of u)l.type==="childList"&&this.scrollToBottom()}),this.observer.observe(this.chatbox,{childList:!0,subtree:!0}),this.registerEvent(this.app.workspace.on("file-open",async u=>{await this.handleFileOpen(u)}));let o=this.plugin.gfile.getActiveFile();o&&await this.handleFileOpen(o)}async onClose(){this.app.workspace.off("file-open",this.fileOpenHandler),this.observer.disconnect(),this.settingsUnsubscribe&&this.settingsUnsubscribe()}async displayMessage(r,n){var o,u;let i=this.chatbox.createDiv({cls:`gemini-scribe-message-container ${n}`}),s=i.createDiv({cls:"gemini-scribe-sender-indicator"}),a=i.createDiv({cls:`gemini-scribe-message ${n}`});switch(n){case"user":(0,de.setIcon)(s,"square-user");break;case"model":(0,de.setIcon)(s,"bot-message-square");break;case"grounding":(0,de.setIcon)(s,"search");break}if(n==="grounding")a.innerHTML=r;else{let l=(u=(o=this.plugin.gfile.getActiveFile())==null?void 0:o.path)!=null?u:"";await de.MarkdownRenderer.render(this.app,r,a,l,this)}if(n==="model"){let l=a.createEl("button",{cls:"gemini-scribe-copy-button"});(0,de.setIcon)(l,"copy"),l.addEventListener("click",()=>{navigator.clipboard.writeText(r).then(()=>{new de.Notice("Message copied to clipboard.")}).catch(d=>{new de.Notice("Could not copy message to clipboard. Try selecting and copying manually.")})})}this.scrollToBottom()}async handleFileOpen(r){if(!r)return;let n=await this.plugin.app.vault.read(r);this.currentFile=r;let i=await this.plugin.history.getHistoryForFile(r);this.updateChat(i)}async loadActiveFile(){let r=this.plugin.gfile.getActiveFile();if(!r)return;let n=await this.plugin.app.vault.read(r);this.currentFile=r;let i=await this.plugin.history.getHistoryForFile(r);this.updateChat(i)}async updateChat(r){var n;this.clearChat();for(let i of r)i.role==="model"&&((n=i.metadata)!=null&&n.rendered)?(this.displayMessage(i.message,"model"),this.displayMessage(i.metadata.rendered,"grounding")):this.displayMessage(i.message,i.role)}clearChat(){this.chatbox.empty()}async sendMessage(r){var n,i,s;if(r.trim()!==""){if(this.shoudRewriteFile){let a=(n=await this.plugin.history.getHistoryForFile(this.currentFile))!=null?n:[];await this.rewriteMode.generateRewriteResponse(r,a);return}try{let a=(i=await this.plugin.history.getHistoryForFile(this.currentFile))!=null?i:[],o=this.prompts.generalPrompt({userMessage:r}),u={userMessage:r,conversationHistory:a,model:this.plugin.settings.chatModelName,prompt:o,renderContent:!0},l=await this.plugin.geminiApi.generateModelResponse(u);this.plugin.settings.chatHistory?(await this.plugin.history.appendHistoryForFile(this.currentFile,{role:"user",message:r}),await this.plugin.history.appendHistoryForFile(this.currentFile,{role:"model",message:l.markdown,userMessage:r,model:this.plugin.settings.chatModelName}),this.clearChat(),await this.updateChat((s=await this.plugin.history.getHistoryForFile(this.currentFile))!=null?s:[]),l.rendered&&this.displayMessage(l.rendered,"grounding")):(this.displayMessage(l.markdown,"model"),l.rendered&&this.displayMessage(l.rendered,"grounding"))}catch(a){new de.Notice("Error getting bot response.")}}}scrollToBottom(){let r=()=>{let n=this.containerEl.querySelector(".gemini-scribe-input-area");n&&n.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})};r(),setTimeout(r,50),setTimeout(r,150)}startTimer(){this.timerDisplay.style.display="block",this.startTime=Date.now(),this.timerDisplay.textContent="0.0s",this.timerInterval=setInterval(()=>{if(this.startTime){let r=(Date.now()-this.startTime)/1e3;this.timerDisplay.textContent=`${r.toFixed(1)}s`}},100)}stopTimer(){this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=null),setTimeout(()=>{this.timerDisplay&&(this.timerDisplay.style.display="none")},2e3)}};var kn=class{constructor(e){this.plugin=e,this.prompts=new fe}async summarizeActiveFile(){let e=await this.plugin.gfile.getCurrentFileContent(0,!0);if(e){let r={model:this.plugin.settings.summaryModelName,prompt:this.prompts.summaryPrompt({content:e})},n=await this.plugin.geminiApi.generateModelResponse(r);this.plugin.gfile.addToFrontMatter(this.plugin.settings.summaryFrontmatterKey,n.markdown)}else console.error("Failed to get file content for summary.")}async setupSummarizaitonCommand(){this.plugin.addCommand({id:"gemini-scribe-summarize-active-file",name:"Summarize Active File",callback:()=>this.summarizeActiveFile()})}};var iu;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(iu||(iu={}));var su;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(su||(su={}));var au;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(au||(au={}));var ou=["user","model","function","system"],uu;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(uu||(uu={}));var lu;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(lu||(lu={}));var cu;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(cu||(cu={}));var hu;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(hu||(hu={}));var vr;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER"})(vr||(vr={}));var fu;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(fu||(fu={}));var du;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(du||(du={}));var xn;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(xn||(xn={}));var te=class extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}},tt=class extends te{constructor(e,r){super(e),this.response=r}},Tn=class extends te{constructor(e,r,n,i){super(e),this.status=r,this.statusText=n,this.errorDetails=i}},Re=class extends te{};var bd="https://generativelanguage.googleapis.com",Sd="v1beta",_d="0.21.0",kd="genai-js",gt;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(gt||(gt={}));var os=class{constructor(e,r,n,i,s){this.model=e,this.task=r,this.apiKey=n,this.stream=i,this.requestOptions=s}toString(){var e,r;let n=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||Sd,s=`${((r=this.requestOptions)===null||r===void 0?void 0:r.baseUrl)||bd}/${n}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}};function Od(t){let e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${kd}/${_d}`),e.join(" ")}async function xd(t){var e;let r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",Od(t.requestOptions)),r.append("x-goog-api-key",t.apiKey);let n=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(i){throw new Re(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${i.message}`)}for(let[i,s]of n.entries()){if(i==="x-goog-api-key")throw new Re(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new Re(`Header name ${i} can only be set using the apiClient field`);r.append(i,s)}}return r}async function Td(t,e,r,n,i,s){let a=new os(t,e,r,n,s);return{url:a.toString(),fetchOptions:Object.assign(Object.assign({},Ld(s)),{method:"POST",headers:await xd(a),body:i})}}async function Cr(t,e,r,n,i,s={},a=fetch){let{url:o,fetchOptions:u}=await Td(t,e,r,n,i,s);return Md(o,u,a)}async function Md(t,e,r=fetch){let n;try{n=await r(t,e)}catch(i){Ad(i,t)}return n.ok||await Id(n,t),n}function Ad(t,e){let r=t;throw t instanceof Tn||t instanceof Re||(r=new te(`Error fetching from ${e.toString()}: ${t.message}`),r.stack=t.stack),r}async function Id(t,e){let r="",n;try{let i=await t.json();r=i.error.message,i.error.details&&(r+=` ${JSON.stringify(i.error.details)}`,n=i.error.details)}catch(i){}throw new Tn(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${r}`,t.status,t.statusText,n)}function Ld(t){let e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){let r=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>r.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{r.abort()}),e.signal=r.signal}return e}function ls(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),On(t.candidates[0]))throw new tt(`${rt(t)}`,t);return Nd(t)}else if(t.promptFeedback)throw new tt(`Text not available. ${rt(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),On(t.candidates[0]))throw new tt(`${rt(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),pu(t)[0]}else if(t.promptFeedback)throw new tt(`Function call not available. ${rt(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),On(t.candidates[0]))throw new tt(`${rt(t)}`,t);return pu(t)}else if(t.promptFeedback)throw new tt(`Function call not available. ${rt(t)}`,t)},t}function Nd(t){var e,r,n,i;let s=[];if(!((r=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||r===void 0)&&r.parts)for(let a of(i=(n=t.candidates)===null||n===void 0?void 0:n[0].content)===null||i===void 0?void 0:i.parts)a.text&&s.push(a.text),a.executableCode&&s.push("\n```"+a.executableCode.language+`
`+a.executableCode.code+"\n```\n"),a.codeExecutionResult&&s.push("\n```\n"+a.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}function pu(t){var e,r,n,i;let s=[];if(!((r=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||r===void 0)&&r.parts)for(let a of(i=(n=t.candidates)===null||n===void 0?void 0:n[0].content)===null||i===void 0?void 0:i.parts)a.functionCall&&s.push(a.functionCall);if(s.length>0)return s}var Pd=[vr.RECITATION,vr.SAFETY,vr.LANGUAGE];function On(t){return!!t.finishReason&&Pd.includes(t.finishReason)}function rt(t){var e,r,n;let i="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)i+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${t.promptFeedback.blockReason}`),!((r=t.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(i+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((n=t.candidates)===null||n===void 0)&&n[0]){let s=t.candidates[0];On(s)&&(i+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(i+=`: ${s.finishMessage}`))}return i}function Fr(t){return this instanceof Fr?(this.v=t,this):new Fr(t)}function Bd(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(m){n[m]&&(i[m]=function(D){return new Promise(function(E,O){s.push([m,D,E,O])>1||o(m,D)})})}function o(m,D){try{u(n[m](D))}catch(E){c(s[0][3],E)}}function u(m){m.value instanceof Fr?Promise.resolve(m.value.v).then(l,d):c(s[0][2],m)}function l(m){o("next",m)}function d(m){o("throw",m)}function c(m,D){m(D),s.shift(),s.length&&o(s[0][0],s[0][1])}}var mu=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Rd(t){let e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=qd(e),[n,i]=r.tee();return{stream:Gd(n),response:Hd(i)}}async function Hd(t){let e=[],r=t.getReader();for(;;){let{done:n,value:i}=await r.read();if(n)return ls(Vd(e));e.push(i)}}function Gd(t){return Bd(this,arguments,function*(){let r=t.getReader();for(;;){let{value:n,done:i}=yield Fr(r.read());if(i)break;yield yield Fr(ls(n))}})}function qd(t){let e=t.getReader();return new ReadableStream({start(n){let i="";return s();function s(){return e.read().then(({value:a,done:o})=>{if(o){if(i.trim()){n.error(new te("Failed to parse stream"));return}n.close();return}i+=a;let u=i.match(mu),l;for(;u;){try{l=JSON.parse(u[1])}catch(d){n.error(new te(`Error parsing JSON response: "${u[1]}"`));return}n.enqueue(l),i=i.substring(u[0].length),u=i.match(mu)}return s()})}}})}function Vd(t){let e=t[t.length-1],r={promptFeedback:e==null?void 0:e.promptFeedback};for(let n of t){if(n.candidates)for(let i of n.candidates){let s=i.index;if(r.candidates||(r.candidates=[]),r.candidates[s]||(r.candidates[s]={index:i.index}),r.candidates[s].citationMetadata=i.citationMetadata,r.candidates[s].groundingMetadata=i.groundingMetadata,r.candidates[s].finishReason=i.finishReason,r.candidates[s].finishMessage=i.finishMessage,r.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){r.candidates[s].content||(r.candidates[s].content={role:i.content.role||"user",parts:[]});let a={};for(let o of i.content.parts)o.text&&(a.text=o.text),o.functionCall&&(a.functionCall=o.functionCall),o.executableCode&&(a.executableCode=o.executableCode),o.codeExecutionResult&&(a.codeExecutionResult=o.codeExecutionResult),Object.keys(a).length===0&&(a.text=""),r.candidates[s].content.parts.push(a)}}n.usageMetadata&&(r.usageMetadata=n.usageMetadata)}return r}async function vu(t,e,r,n){let i=await Cr(e,gt.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(r),n);return Rd(i)}async function Fu(t,e,r,n){let s=await(await Cr(e,gt.GENERATE_CONTENT,t,!1,JSON.stringify(r),n)).json();return{response:ls(s)}}function Eu(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Er(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(let r of t)typeof r=="string"?e.push({text:r}):e.push(r);return Ud(e)}function Ud(t){let e={role:"user",parts:[]},r={role:"function",parts:[]},n=!1,i=!1;for(let s of t)"functionResponse"in s?(r.parts.push(s),i=!0):(e.parts.push(s),n=!0);if(n&&i)throw new te("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!n&&!i)throw new te("No content is provided for sending chat message.");return n?e:r}function Wd(t,e){var r;let n={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(r=e==null?void 0:e.cachedContent)===null||r===void 0?void 0:r.name,contents:[]},i=t.generateContentRequest!=null;if(t.contents){if(i)throw new Re("CountTokensRequest must have one of contents or generateContentRequest, not both.");n.contents=t.contents}else if(i)n=Object.assign(Object.assign({},n),t.generateContentRequest);else{let s=Er(t);n.contents=[s]}return{generateContentRequest:n}}function gu(t){let e;return t.contents?e=t:e={contents:[Er(t)]},t.systemInstruction&&(e.systemInstruction=Eu(t.systemInstruction)),e}function jd(t){return typeof t=="string"||Array.isArray(t)?{content:Er(t)}:t}var Du=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],zd={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function Yd(t){let e=!1;for(let r of t){let{role:n,parts:i}=r;if(!e&&n!=="user")throw new te(`First content should be with role 'user', got ${n}`);if(!ou.includes(n))throw new te(`Each item should include role field. Got ${n} but valid roles are: ${JSON.stringify(ou)}`);if(!Array.isArray(i))throw new te("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new te("Each Content should have at least one part");let s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(let o of i)for(let u of Du)u in o&&(s[u]+=1);let a=zd[n];for(let o of Du)if(!a.includes(o)&&s[o]>0)throw new te(`Content with role '${n}' can't contain '${o}' part`);e=!0}}var yu="SILENT_ERROR",us=class{constructor(e,r,n,i={}){this.model=r,this.params=n,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,n!=null&&n.history&&(Yd(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,r={}){var n,i,s,a,o,u;await this._sendPromise;let l=Er(e),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,l]},c=Object.assign(Object.assign({},this._requestOptions),r),m;return this._sendPromise=this._sendPromise.then(()=>Fu(this._apiKey,this.model,d,c)).then(D=>{var E;if(D.response.candidates&&D.response.candidates.length>0){this._history.push(l);let O=Object.assign({parts:[],role:"model"},(E=D.response.candidates)===null||E===void 0?void 0:E[0].content);this._history.push(O)}else{let O=rt(D.response);O&&console.warn(`sendMessage() was unsuccessful. ${O}. Inspect response object for details.`)}m=D}),await this._sendPromise,m}async sendMessageStream(e,r={}){var n,i,s,a,o,u;await this._sendPromise;let l=Er(e),d={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,l]},c=Object.assign(Object.assign({},this._requestOptions),r),m=vu(this._apiKey,this.model,d,c);return this._sendPromise=this._sendPromise.then(()=>m).catch(D=>{throw new Error(yu)}).then(D=>D.response).then(D=>{if(D.candidates&&D.candidates.length>0){this._history.push(l);let E=Object.assign({},D.candidates[0].content);E.role||(E.role="model"),this._history.push(E)}else{let E=rt(D);E&&console.warn(`sendMessageStream() was unsuccessful. ${E}. Inspect response object for details.`)}}).catch(D=>{D.message!==yu&&console.error(D)}),m}};async function Zd(t,e,r,n){return(await Cr(e,gt.COUNT_TOKENS,t,!1,JSON.stringify(r),n)).json()}async function Kd(t,e,r,n){return(await Cr(e,gt.EMBED_CONTENT,t,!1,JSON.stringify(r),n)).json()}async function Jd(t,e,r,n){let i=r.requests.map(a=>Object.assign(Object.assign({},a),{model:e}));return(await Cr(e,gt.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:i}),n)).json()}var Mn=class{constructor(e,r,n={}){this.apiKey=e,this._requestOptions=n,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=Eu(r.systemInstruction),this.cachedContent=r.cachedContent}async generateContent(e,r={}){var n;let i=gu(e),s=Object.assign(Object.assign({},this._requestOptions),r);return Fu(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},i),s)}async generateContentStream(e,r={}){var n;let i=gu(e),s=Object.assign(Object.assign({},this._requestOptions),r);return vu(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},i),s)}startChat(e){var r;return new us(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},e),this._requestOptions)}async countTokens(e,r={}){let n=Wd(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),r);return Zd(this.apiKey,this.model,n,i)}async embedContent(e,r={}){let n=jd(e),i=Object.assign(Object.assign({},this._requestOptions),r);return Kd(this.apiKey,this.model,n,i)}async batchEmbedContents(e,r={}){let n=Object.assign(Object.assign({},this._requestOptions),r);return Jd(this.apiKey,this.model,e,n)}};var Rt=class{constructor(e){this.apiKey=e}getGenerativeModel(e,r){if(!e.model)throw new te("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Mn(this.apiKey,e,r)}getGenerativeModelFromCachedContent(e,r,n){if(!e.name)throw new Re("Cached content must contain a `name` field.");if(!e.model)throw new Re("Cached content must contain a `model` field.");let i=["model","systemInstruction"];for(let a of i)if(r!=null&&r[a]&&e[a]&&(r==null?void 0:r[a])!==e[a]){if(a==="model"){let o=r.model.startsWith("models/")?r.model.replace("models/",""):r.model,u=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(o===u)continue}throw new Re(`Different value for "${a}" specified in modelParams (${r[a]}) and cachedContent (${e[a]})`)}let s=Object.assign(Object.assign({},r),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new Mn(this.apiKey,s,n)}};var An=class{constructor(e,r,n,i){this.apiKey=r,this.modelName=n,this.searchGroundingThreshold=i,this.gemini=new Rt(this.apiKey),this.searchModel=this.gemini.getGenerativeModel({model:this.modelName,systemInstruction:e,tools:this.getTools()})}getSearchModel(){return this.searchModel}getTools(){let e=[];switch(!0){case this.modelName.startsWith("gemini-2.0-flash-lite"):e=[];break;case(this.modelName.startsWith("gemini-2.0")||this.modelName.startsWith("gemini-2.5")):e=[{google_search:{}}];break;default:e=[{googleSearchRetrieval:{dynamicRetrievalConfig:{mode:xn.MODE_DYNAMIC,dynamicThreshold:this.searchGroundingThreshold}}}];break}return e}};var Cu=require("obsidian"),In=class{constructor(e){this.plugin=e,this.prompts=new fe,this.gemini=new Rt(this.plugin.settings.apiKey)}async generateModelResponse(e){let r=this.getModelInstance(e.model);if(!e.prompt)throw new Error("No prompt provided to generateModelResponse.");let n={markdown:"",rendered:""};try{if("conversationHistory"in e){let i=await this.buildContents(e),s=await r.generateContent({contents:i});n=this.parseModelResult(s)}else{let i=await r.generateContent(e.prompt);n=this.parseModelResult(i)}return n}catch(i){throw console.error("Error calling Gemini:",i),new Cu.Notice("Error calling Gemini."),i}}getModelInstance(e){let r=e!=null?e:this.plugin.settings.chatModelName,n=window.localStorage.getItem("language")||"en",i=this.prompts.systemPrompt({userName:this.plugin.settings.userName,language:n}),s=[],a;return this.plugin.settings.searchGrounding?a=new An(i,this.plugin.settings.apiKey,r,this.plugin.settings.searchGroundingThreshold).getSearchModel():a=this.gemini.getGenerativeModel({model:r,systemInstruction:i}),a}parseModelResult(e){var n,i,s,a;let r={markdown:"",rendered:""};return r.markdown=e.response.text(),(s=(i=(n=e.response.candidates)==null?void 0:n[0])==null?void 0:i.groundingMetadata)!=null&&s.searchEntryPoint&&(r.rendered=(a=e.response.candidates[0].groundingMetadata.searchEntryPoint.renderedContent)!=null?a:""),r}async buildContents(e){var l,d;let r=[];e.prompt!=null&&r.push(this.buildContentElement("user",e.prompt));let n=this.prompts.datePrompt({date:new Date().toDateString()});r.push(this.buildContentElement("user",n));let i=this.plugin.settings.maxContextDepth,s=(l=e.renderContent)!=null?l:!0,a=await this.plugin.gfile.getCurrentFileContent(i,s);a!=null&&r.push(this.buildContentElement("user",a)),((d=e.conversationHistory)!=null?d:[]).forEach(c=>{r.push(this.buildContentElement(c.role,c.message))});let u=this.prompts.timePrompt({time:new Date().toLocaleTimeString()});return r.push(this.buildContentElement("user",u)),r.push(this.buildContentElement("user",e.userMessage)),r}buildContentElement(e,r){return[{role:e,parts:[{text:r}]}]}};var rc=require("obsidian");var tc=di(ec()),ri=class{constructor(e,r){this.scribeFile=e,this.dataViewAPI=this.getDataViewAPI(),this.plugin=r}getDataViewAPI(){let e=(0,tc.getAPI)();return e||null}async getBacklinks(e){return await this.evaluateDataviewQuery("list where contains(file.outlinks, this.file.link)",e)}async getLinksFromDataviewBlocks(e){let r=new Set,n=[];return await this.iterateCodeblocksInFile(e,s=>{s.language==="dataview"&&n.push(this.evaluateDataviewQuery(s.text,e))}),(await Promise.all(n)).forEach(s=>{s.forEach(a=>r.add(a))}),r}async evaluateDataviewQuery(e,r){let n=new Set;try{let i=await this.dataViewAPI.query(e,r.path);if(!(i!=null&&i.value))return console.warn(`Invalid query result for "${e}" in file "${r.path}"`),n;let s=a=>{if(this.isFileLink(a)){let o=this.scribeFile.normalizePath(a.path,r);o?n.add(o):console.warn(`Link "${a}" in file "${r.path}" could not be normalized.`)}};if(i.value.type==="list")for(let a of i.value.values)s(a);else if(i.value.type==="table")for(let a of i.value.values)for(let o of a)s(o)}catch(i){console.error(`Error evaluating dataview query "${e}" in file "${r.path}":`,i)}return n}isFileLink(e){return e&&typeof e=="object"&&typeof e.path=="string"?!(e.subpath||e.path.includes("#")||e.path.includes("^")):!1}async iterateCodeblocksInFile(e,r){let i=(await this.plugin.app.vault.read(e)).split(`
`),s=null;for(let a=0;a<i.length;a++){let o=i[a];if(o.startsWith("```"))if(s)r(s),s=null;else{let u=o.substring(3).trim();s={start:a,end:-1,text:"",language:u}}else s&&(s.text+=o+`
`)}s&&(s.end=i.length-1,r(s))}};var ni=class{constructor(e,r){this.root=null;this.visited=new Set;this.MAX_TOTAL_CHARS=5e5;this.plugin=e,this.maxDepth=r!=null?r:this.plugin.settings.maxContextDepth,this.fileHelper=new Kt(e),this.dataViewHelper=new ri(this.fileHelper,this.plugin),this.prompts=new fe}async buildStructure(e,r=0,n,i,s){if(!e||r>this.maxDepth||i.has(e.path)||e.path.startsWith(this.plugin.settings.historyFolder+"/"))return null;i.add(e.path);let a=this.fileHelper.getLinkText(e,s.path),o={path:e.path,content:await this.getFileContent(e,n),wikilink:a,links:new Map},u=this.fileHelper.getUniqueLinks(e),l=await this.dataViewHelper.getBacklinks(e)||new Set,d=await this.dataViewHelper.getLinksFromDataviewBlocks(e)||new Set,c=u;l.forEach(m=>c.add(m)),d.forEach(m=>c.add(m));for(let m of c){let D=await this.buildStructure(m,r+1,n,i,s);D&&o.links.set(m.path,D)}return o}async initialize(e,r){this.visited.clear(),this.root=await this.buildStructure(e,0,r,this.visited,e)}toString(e=5e4){return this.root?this.nodeToString(this.root,0,e,0).text:"No file structure built"}nodeToString(e,r,n,i){let s=e.content.length>n?e.content.substring(0,n)+`
[Remaining content truncated...]`:e.content,a=r==0?`This is the content of the current file and the files that it links to:
`:"",o=r==0?"Current File":"Linked File";a+=this.prompts.contextPrompt({file_label:o,file_name:e.path,wikilink:e.wikilink,file_contents:s});let u=i+a.length;if(e.links.size>0&&u<this.MAX_TOTAL_CHARS)for(let[l,d]of e.links){if(u>=this.MAX_TOTAL_CHARS){a+=`[Additional links truncated...]
`;break}let c=this.nodeToString(d,r+1,n,u);a+=c.text,u=c.total}return{text:a,total:u}}async getFileContent(e,r){let n=await this.plugin.app.vault.read(e)||"";if(r){let i=document.createElement("div");return await rc.MarkdownRenderer.render(this.plugin.app,n,i,e.path,this.plugin),i.innerHTML}else return n}};var nc=require("obsidian"),Kt=class{constructor(e){this.plugin=e}async getCurrentFileContent(e=this.plugin.settings.maxContextDepth,r=!1){let n=this.getActiveFile();if(n){let i=new ni(this.plugin,e);return await i.initialize(n,r),i.toString()}else return null}async addToFrontMatter(e,r){let n=this.getActiveFile();n&&this.plugin.app.fileManager.processFrontMatter(n,i=>{i[e]=r})}async replaceTextInActiveFile(e){let r=this.getActiveFile(),n=this.plugin.app.vault;r&&n.modify(r,e)}getActiveFile(){let e=this.plugin.app.workspace.getActiveFile();return this.isFile(e)?e:(console.debug("No active file found."),null)}isFile(e){return!!(e&&e instanceof nc.TFile)}isMarkdownFile(e){return!!(e&&this.isFile(e)&&e.extension==="md")}getLinkText(e,r){return`[[${this.plugin.app.metadataCache.fileToLinktext(e,r,!0)}]]`}normalizePath(e,r){let n=this.plugin.app.metadataCache.getFirstLinkpathDest(e,r.path);return this.isMarkdownFile(n)?n:null}normalizeLinkPathsFromMetadata(e){let r=this.plugin.app.metadataCache.getFileCache(e),n=[],i=[],s=[];if(r){if(r.links)for(let a of r.links){let o=this.normalizePath(a.link,e);o?n.push(o):console.warn(`Link "${a.link}" in file "${e.path}" could not be normalized.`)}if(r.embeds)for(let a of r.embeds){let o=this.normalizePath(a.link,e);o?i.push(o):console.warn(`Embed "${a.link}" in file "${e.path}" could not be normalized.`)}if(r.frontmatterLinks)for(let a of r.frontmatterLinks){let o=this.normalizePath(a.link,e);o?s.push(o):console.warn(`Frontmatter link "${a.link}" in file "${e.path}" could not be normalized.`)}if(r.frontmatter&&r.frontmatter.links){if(Array.isArray(r.frontmatter.links))r.frontmatter.links.forEach(a=>{let o=this.normalizePath.call(this,a);o?s.push(o):console.warn(`Frontmatter link "${a}" in file "${e.path}" could not be normalized.`)});else if(typeof r.frontmatter.links=="string"){let a=this.normalizePath.call(this,r.frontmatter.links);a?s.push(a):console.warn(`Frontmatter link "${r.frontmatter.links}" in file "${e.path}" could not be normalized.`)}}}return{links:n,embeds:i,frontmatterLinks:s}}getUniqueLinks(e){let{links:r,embeds:n,frontmatterLinks:i}=this.normalizeLinkPathsFromMetadata(e);return new Set([...r,...n,...i])}};var wt=require("obsidian");var Y=require("obsidian"),si=di(as());var ic=`{{#if isFirstEntry}}
# Chat History
*Started: {{timestamp}}*
*Plugin Version: {{pluginVersion}}*

---

{{/if}}
## {{role}}

> [!metadata]- Message Info
> | Property | Value |
> | -------- | ----- |
> | Time | {{timestamp}} |
> | File Version | {{fileVersion}} |
{{#if model}}
> | Model | {{model}} |
{{#if temperature}}
> | Temperature | {{temperature}} |
{{/if}}
{{/if}}
{{#if context}}
> | Context | {{context}} |
{{/if}}

{{#if (eq role "User")}}
> [!user]+
{{else}}
> [!assistant]+
{{/if}}
{{#each messageLines}}
> {{this}}
{{/each}}

--- `;var ii=class{constructor(e){this.plugin=e,si.registerHelper("eq",function(r,n){return r===n}),this.entryTemplate=si.compile(ic)}getHistoryFilePath(e){let r=this.plugin.settings.historyFolder,i=e.replace(/\.md$/,"").replace(/[\\/]/g,"_");return(0,Y.normalizePath)(`${r}/${i}.md`)}async appendHistoryForFile(e,r){if(!this.plugin.gfile.isFile(e)||!this.plugin.settings.chatHistory)return;let n=this.getHistoryFilePath(e.path),i={notePath:e.path,created_at:new Date,role:r.role,message:r.message,model:r.model};try{if(await this.plugin.app.vault.createFolder(this.plugin.settings.historyFolder).catch(()=>{}),await this.plugin.app.vault.adapter.exists(n)){let a=await this.plugin.app.vault.adapter.read(n);a=a.replace(/\n---\s*$/,""),await this.plugin.app.vault.adapter.write(n,a+`

`+this.formatEntryAsMarkdown(i))}else{let a="";if(r.role==="model"&&r.userMessage){let u={notePath:e.path,created_at:new Date(i.created_at.getTime()-1e3),role:"user",message:r.userMessage};a=this.formatEntryAsMarkdown(u,!0)+`

`+this.formatEntryAsMarkdown(i)}else a=this.formatEntryAsMarkdown(i,!0);let o=await this.plugin.app.vault.create(n,a);await this.plugin.app.fileManager.processFrontMatter(o,u=>{u.source_file=this.plugin.gfile.getLinkText(e,e.path)})}}catch(s){console.error("Failed to append history",s),new Y.Notice("Failed to save chat history")}}async getHistoryForFile(e){if(!this.plugin.gfile.isFile(e))return[];if(!this.plugin.settings.chatHistory)return[];let r=this.getHistoryFilePath(e.path),n=r,i=null,s=null;try{let a=this.plugin.app.vault.getAbstractFileByPath(r);if(a instanceof Y.TFile)i=await this.plugin.app.vault.read(a);else if(s=await this.findLegacyHistoryFile(e),s){console.log(`Found legacy history file for ${e.path}: ${s.path}`),n=s.path,i=await this.plugin.app.vault.read(s);try{await this.migrateLegacyHistoryFile(s,e)}catch(o){console.error(`[History] Failed to migrate legacy history file ${s==null?void 0:s.path} during load:`,o),new Y.Notice(`Error updating history file format for ${e.basename}. History may load from old format.`)}}return i!==null?this.parseHistoryFile(i,e.path):[]}catch(a){return console.error(`Failed to read history for ${e.path} (checked path: ${n}):`,a),[]}}async clearHistoryForFile(e){if(!this.plugin.gfile.isFile(e))return;let r=this.getHistoryFilePath(e.path);try{let n=this.plugin.app.vault.getAbstractFileByPath(r);if(n instanceof Y.TFile)return await this.plugin.app.vault.delete(n),1;let i=await this.findLegacyHistoryFile(e);return i?(await this.plugin.app.vault.delete(i),console.log(`Cleared legacy history file: ${i.path}`),1):0}catch(n){if(n.message.includes("does not exist")){try{let i=await this.findLegacyHistoryFile(e);if(i)return await this.plugin.app.vault.delete(i),console.log(`Cleared legacy history file after initial miss: ${i.path}`),1}catch(i){console.error("Error checking/deleting legacy history during clear error handling:",i)}return 0}console.error("Failed to clear history for file:",r,n),new Y.Notice(`Failed to clear history for ${e.basename}`);return}}async findLegacyHistoryFile(e){let r=this.plugin.settings.historyFolder;try{let i=(await this.plugin.app.vault.adapter.list(r)).files.filter(s=>s.endsWith(".md")&&(0,Y.normalizePath)(s)!==this.getHistoryFilePath(e.path));for(let s of i){let a=this.plugin.app.vault.getAbstractFileByPath(s);if(a instanceof Y.TFile){let o=this.plugin.app.metadataCache.getFileCache(a),u=o==null?void 0:o.frontmatter;if(u&&u.source_file){let d=u.source_file.match(/\[\[([^|#\]]+)/),c=d?d[1].trim().replace(/\.md$/,""):null,m=e.basename.replace(/\.md$/,"");if(c&&c===m)return a}}}}catch(n){n.message.includes("no such file or directory")||console.error(`Error searching for legacy history files in ${r}:`,n)}return null}async migrateLegacyHistoryFile(e,r){let n=this.getHistoryFilePath(r.path);console.log(`Attempting migration for legacy file ${e.path} to ${n}`);try{if(await this.plugin.app.vault.adapter.exists(n)){console.warn(`Migration target ${n} already exists. Deleting original legacy file ${e.path}.`),await this.plugin.app.vault.delete(e).catch(a=>{console.error(`Failed to delete original legacy file ${e.path} when target existed:`,a)});return}await this.plugin.app.vault.rename(e,n),console.log(`Successfully renamed ${e.path} to ${n}`);let s=this.plugin.app.vault.getAbstractFileByPath(n);if(!(s instanceof Y.TFile)){console.error(`Failed to get TFile for newly renamed history file: ${n}. Cannot update frontmatter.`);return}await this.plugin.app.fileManager.processFrontMatter(s,a=>{a.source_file=this.plugin.gfile.getLinkText(r,r.path)}),console.log(`Successfully updated frontmatter for ${n}`)}catch(i){if(i.message.includes("already exists"))console.warn(`Rename failed, target ${n} already exists (race condition?). Attempting to delete original legacy file ${e.path}.`),await this.plugin.app.vault.delete(e).catch(s=>{console.error(`Failed to delete original legacy file ${e.path} after rename error:`,s)});else if(i.message.includes("does not exist"))console.warn(`Cannot migrate legacy history file, source no longer exists: ${e.path}`);else throw console.error(`Error during migration of ${e.path} to ${n}:`,i),i}}async clearHistory(){if(!this.plugin.settings.chatHistory)return;let e=this.plugin.settings.historyFolder;try{await this.plugin.app.vault.adapter.exists(e)&&await this.plugin.app.vault.adapter.rmdir(e,!0),await this.plugin.app.vault.createFolder(e),new Y.Notice("Chat history cleared.")}catch(r){console.error("Failed to clear all history",r),new Y.Notice("Failed to clear chat history")}}formatEntryAsMarkdown(e,r=!1){var u,l;let n=e.created_at.toISOString(),i=e.role.charAt(0).toUpperCase()+e.role.slice(1),s=e.message.split(`
`),a=this.plugin.app.vault.getAbstractFileByPath(e.notePath),o="unknown";return a instanceof Y.TFile?o=a.stat.mtime.toString(16).slice(0,8):console.warn(`Could not find TFile for path ${e.notePath} when formatting history entry.`),this.entryTemplate({isFirstEntry:r,role:i,timestamp:n,model:e.model,messageLines:s,pluginVersion:this.plugin.manifest.version,fileVersion:o,temperature:(u=e.metadata)==null?void 0:u.temperature,context:(l=e.metadata)==null?void 0:l.context})}async parseHistoryFile(e,r){var l;let n=[],i=this.getHistoryFilePath(r),s=this.plugin.app.vault.getAbstractFileByPath(i),a=r;if(s instanceof Y.TFile){let d=(l=this.plugin.app.metadataCache.getFileCache(s))==null?void 0:l.frontmatter;if(d&&d.source_file){let c=this.plugin.app.metadataCache.getFirstLinkpathDest(d.source_file,s.path);c instanceof Y.TFile&&(a=c.path)}}else console.warn(`Could not find history file TFile object for path: ${i}`);let u=e.replace(/^---\n[\s\S]*?\n---\n/,"").trim().split(/\n\n(?=## )/);for(let d of u){if(!d.trim())continue;let c=d.match(/^## (User|Model)/m);if(c){let m=c[1].toLowerCase(),D=d.match(/\|\s*Time\s*\|\s*(.*?)\s*\|/m),E=d.match(/\|\s*Model\s*\|\s*(.*?)\s*\|/m),O=D?new Date(D[1].trim()):new Date,P=d.match(/>\s*\[!(user|assistant)\]\+\n([\s\S]*?)(?=\n\s*---|\n\s*$)/m);if(P){let L=P[2].split(`
`).map(U=>U.startsWith("> ")?U.slice(2):U).join(`
`).trim();L&&n.push({notePath:a,created_at:O,role:m,message:L,model:E?E[1].trim():void 0})}}}return n}async renameHistoryFile(e,r){let n=this.getHistoryFilePath(r),i=this.getHistoryFilePath(e.path);try{let s=this.plugin.app.vault.getAbstractFileByPath(n);s instanceof Y.TFile?(await this.plugin.app.fileManager.processFrontMatter(s,a=>{a.source_file=this.plugin.gfile.getLinkText(e,e.path)}),await this.plugin.app.vault.rename(s,i)):(console.log("Could not find history file TFile to rename:",n),await this.plugin.app.vault.adapter.exists(n)||console.log(`Adapter confirms ${n} does not exist.`))}catch(s){s.message.includes("already exists")?(console.warn(`Cannot rename history file, target already exists: ${i}`),new Y.Notice(`History file for ${e.basename} might be duplicated.`)):s.message.includes("does not exist")?console.warn(`Cannot rename history file, source does not exist: ${n}`):(console.error("Failed to rename history file:",{from:n,to:i},s),new Y.Notice(`Failed to update history for renamed file ${e.basename}`))}}async deleteHistoryFile(e){let r=this.getHistoryFilePath(e);try{let n=this.plugin.app.vault.getAbstractFileByPath(r);n instanceof Y.TFile?await this.plugin.app.vault.delete(n):await this.plugin.app.vault.adapter.exists(r)&&(await this.plugin.app.vault.adapter.remove(r),console.log(`Removed history file via adapter: ${r}`))}catch(n){n.message.includes("does not exist")||console.error("Failed to delete history file:",r,n)}}};var ai=class{constructor(e){this.plugin=e,this.markdownHistory=new ii(e)}async setupHistoryCommands(){if(this.plugin.settings.chatHistory)try{this.plugin.addCommand({id:"gemini-scribe-clear-conversations",name:"Clear All Chat History",callback:async()=>{await this.clearHistory()}})}catch(e){console.error("Failed to add commands",e)}}async onLayoutReady(){await this.setupHistory()}async setupHistory(){this.plugin.app.vault.on("rename",this.renameHistoryFile.bind(this)),this.plugin.app.vault.on("delete",this.handleFileDelete.bind(this))}async onUnload(){console.debug("Unloading history module..."),this.plugin.app.vault.off("rename",this.renameHistoryFile.bind(this)),this.plugin.app.vault.off("delete",this.handleFileDelete.bind(this))}async renameHistoryFile(e,r){let n=this.plugin.settings.historyFolder,i=(0,wt.normalizePath)(e.path),s=(0,wt.normalizePath)(r),a=(0,wt.normalizePath)(n+"/");i.startsWith(a)||s.startsWith(a)||e instanceof wt.TFile&&await this.markdownHistory.renameHistoryFile(e,r)}async handleFileDelete(e){e instanceof wt.TFile&&await this.markdownHistory.deleteHistoryFile(e.path)}async appendHistoryForFile(e,r){await this.markdownHistory.appendHistoryForFile(e,r)}async getHistoryForFile(e){return await this.markdownHistory.getHistoryForFile(e)}async clearHistoryForFile(e){return await this.markdownHistory.clearHistoryForFile(e)}async appendHistory(e){let r=this.plugin.app.workspace.getActiveFile();r&&await this.appendHistoryForFile(r,e)}async clearHistory(){await this.markdownHistory.clearHistory()}async getTotalConversationCount(){let e=this.plugin.app.vault.getMarkdownFiles(),r=0;for(let n of e){let i=await this.getHistoryForFile(n);r+=i.length}return r}};var $t=require("obsidian");var ke=require("@codemirror/view"),Qe=require("@codemirror/state");function sc(t,e,r=void 0){let n={force:()=>{}},i=null;async function*s(...a){i&&clearTimeout(i);let o=null;try{await new Promise(u=>{o=i=setTimeout(()=>u(),e),n.force=()=>{i&&clearTimeout(i),u()}})}catch(u){if(r!==void 0)throw r}for await(let u of t(...a)){if(o!==i)break;yield u}}return{debounced:s,force:()=>n.force()}}var eg=Object.defineProperty,tg=(t,e,r)=>e in t?eg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Jt=(t,e,r)=>(tg(t,typeof e!="symbol"?e+"":e,r),r),oi=Qe.StateField.define({create(){return{suggestion:null}},update(t,e){let r=e.effects.find(n=>n.is(Js));return e.state.doc&&r&&(r.value.doc==null||e.state.doc==r.value.doc)?{suggestion:r.value.suggestion}:{suggestion:null}}}),Js=Qe.StateEffect.define();function rg(t,e){let r=t.state.selection.main.head,n=[],i=ke.Decoration.widget({widget:new zs(e),side:1});return n.push(i.range(r)),ke.Decoration.set(n)}var zs=class extends ke.WidgetType{constructor(e){super(),Jt(this,"suggestion"),this.suggestion=e}toDOM(){let e=document.createElement("span");return e.style.opacity="0.4",e.className="cm-inline-suggestion",e.textContent=this.suggestion,e}},Ys=t=>{let e=0;return ke.ViewPlugin.fromClass(class{async update(r){let n=r.state.doc;if(!r.docChanged)return;let i=++e;for await(let s of t(r.state)){if(i!=e)return;r.view.dispatch({effects:Js.of({suggestion:s,doc:n})})}}})},Zs=class{constructor(){Jt(this,"decorations"),this.decorations=ke.Decoration.none}update(e){var r;let n=(r=e.state.field(oi))==null?void 0:r.suggestion;if(!n){this.decorations=ke.Decoration.none;return}this.decorations=rg(e.view,n.display_suggestion)}},ac=ke.ViewPlugin.fromClass(Zs,{decorations:t=>t.decorations}),Ks=class{constructor(e,r){Jt(this,"suggestFn"),Jt(this,"keymap"),Jt(this,"completionId"),Jt(this,"run",n=>{var i,s;let a=(i=n.state.field(oi))==null?void 0:i.suggestion;return a?(n.dispatch({...ng(n.state,a.complete_suggestion,n.state.selection.main.head,n.state.selection.main.head)}),(s=a.accept_hook)==null||s.call(a),(async()=>{if(this.suggestFn==null)return;let o=++this.completionId;for await(let u of this.suggestFn(n.state)){if(o!=this.completionId)return;n.dispatch({effects:Js.of({suggestion:{complete_suggestion:u.complete_suggestion,display_suggestion:u.display_suggestion,accept_hook:u.accept_hook},doc:null})})}})(),!0):!1}),this.suggestFn=e,this.keymap=Qe.Prec.highest(ke.keymap.of([{key:r,run:n=>this.run(n)}])),this.completionId=0}};function ng(t,e,r,n){return{...t.changeByRange(i=>{if(i==t.selection.main)return{changes:{from:r,to:n,insert:e},range:Qe.EditorSelection.cursor(r+e.length)};let s=n-r;return!i.empty||s&&t.sliceDoc(i.from-s,i.from)!=t.sliceDoc(r,n)?{range:i}:{changes:{from:i.from-s,to:i.from,insert:e},range:Qe.EditorSelection.cursor(i.from-s+e.length)}}),userEvent:"input.complete"}}function oc(t){return typeof t=="string"?{complete_suggestion:t,display_suggestion:t}:t}function ig(t){return async function*(e){let r=await t(e);if(typeof r=="string"||"complete_suggestion"in r){yield oc(r);return}for await(let n of r)yield oc(n)}}function $s(t){let{delay:e=500,accept_shortcut:r="Tab"}=t,n=ig(t.fetchFn),{debounced:i,force:s}=sc(n,e);return{extension:r?[oi,Ys(i),ac,new Ks(t.continue_suggesting?n:null,r).keymap]:[oi,Ys(i),ac],force_fetch:s}}var ui=class{constructor(e){this.force_fetch=()=>{};this.TYPING_DELAY=750;this.completionsOn=!1;this.plugin=e,this.prompts=new fe,this.debouncedComplete=(0,$t.debounce)(()=>this.force_fetch(),this.TYPING_DELAY,!0)}async*complete(){if(!this.completionsOn)return;let e=this.plugin.app.workspace.getActiveViewOfType($t.MarkdownView);if(!e)return;let r=e.editor,n=r.getCursor(),s=r.getLine(n.line).substring(0,n.ch),a=s.length>0&&!s.endsWith(" "),o=r.getRange({line:0,ch:0},n),u=r.getRange(n,{line:r.lastLine(),ch:r.getLine(r.lastLine()).length}),l=await this.generateNextSentence(o,u),d=a?" "+l:l;yield{display_suggestion:d,complete_suggestion:d}}async generateNextSentence(e,r){let n={model:this.plugin.settings.completionsModelName,prompt:this.prompts.completionsPrompt({contentBeforeCursor:e,contentAfterCursor:r})};return(await this.plugin.geminiApi.generateModelResponse(n)).markdown.replace(/\n$/,"")}async setupCompletions(){let{extension:e,force_fetch:r}=$s({fetchFn:()=>this.complete()});this.force_fetch=r,this.plugin.registerEditorExtension(e)}async setupCompletionsCommands(){try{this.plugin.addCommand({id:"gemini-scribe-toggle-completions",name:"Toggle completions",callback:()=>{this.completionsOn=!this.completionsOn,new $t.Notice(`Gemini Scribe Completions are now ${this.completionsOn?"enabled":"disabled"}.`),this.completionsOn&&this.force_fetch()}})}catch(e){console.error("Error setting up completion commands:",e)}}};var sg={apiKey:"",chatModelName:"gemini-1.5-pro",summaryModelName:"gemini-1.5-flash",completionsModelName:"gemini-1.5-flash-8b",sendContext:!1,maxContextDepth:2,searchGrounding:!1,searchGroundingThreshold:.7,summaryFrontmatterKey:"summary",userName:"User",rewriteFiles:!1,chatHistory:!1,historyFolder:"gemini-scribe",showModelPicker:!1},li=class extends uc.Plugin{async onload(){await this.setupGeminiScribe(),this.ribbonIcon=this.addRibbonIcon("sparkles","Open Gemini Chat",()=>{this.activateView()}),this.registerView(yr,e=>this.geminiView=new _n(e,this)),this.addCommand({id:"gemini-scribe-open-view",name:"Open Gemini Chat",callback:()=>this.activateView()}),this.addSettingTab(new ir(this.app,this)),this.app.workspace.onLayoutReady(()=>this.onLayoutReady())}async setupGeminiScribe(){await this.loadSettings(),this.geminiApi=new In(this),this.gfile=new Kt(this),this.history=new ai(this),await this.history.setupHistoryCommands(),this.app.workspace.layoutReady&&await this.history.onLayoutReady,this.completions=new ui(this),await this.completions.setupCompletions(),await this.completions.setupCompletionsCommands(),this.summarizer=new kn(this),await this.summarizer.setupSummarizaitonCommand()}async activateView(){let{workspace:e}=this.app,r=null,n=e.getLeavesOfType(yr);n.length>0?(r=n[0],await e.revealLeaf(r)):(r=e.getLeftLeaf(!1),r?(await r.setViewState({type:yr,active:!0}),await e.revealLeaf(r)):console.error("Could not find a leaf to open the view"))}async onLayoutReady(){await this.history.onLayoutReady()}async loadSettings(){this.settings=Object.assign({},sg,await this.loadData())}async saveSettings(){await this.saveData(this.settings),await this.setupGeminiScribe()}onunload(){var e,r;console.debug("Unloading Gemini Scribe"),(e=this.history)==null||e.onUnload(),(r=this.ribbonIcon)==null||r.remove()}};
/*! Bundled license information:

@google/generative-ai/dist/index.mjs:
  (**
   * @license
   * Copyright 2024 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@google/generative-ai/dist/index.mjs:
  (**
   * @license
   * Copyright 2024 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
*/


/* nosourcemap */